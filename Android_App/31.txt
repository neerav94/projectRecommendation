International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015), pp. 195-208 
http://dx.doi.org/10.14257/ijseia.2015.9.3.19 
 
 

Development of an Indoor-Outdoor Positioning Android App for 

Anapji Tourist Guides 

Kyubark Shim1, Jaegeol Yim2* and Junri Jeon2 

 
 

1Department of Applied Statistics 

2Department of Computer Engineering 

Dongguk University at Gyeongju, Gyeongbuk, Korea 

{shim, yim, junri}@dongguk.ac.kr 

Abstract 

This paper introduces the development details of an Indoor and Outdoor Positioning 
Android app for Anapji, an artificial pond in Gyeongju National Park in Korea, tourist 
guide  apps.  There  is  a  pathway  around  the  pond,  with  around  10  viewpoints  and 
Imhaejeon, a gazebo-like Korean traditional house, along this pathway. In Imhaejeon, we 
can  find  an  Anapji  bird's-eye  view  at  the  center  and  12  cultural  artifacts  unearthed  at 
Anapji displayed along the four edges of Imhaejeon. Tourists walk along the pathway and 
stop  at  a  viewpoint  to  enjoy  the  scenic  beauty  at  their  wish.  Most  of  them  also  enter 
Imhaejeon, walk along the edge, and stop in front of an artifact to watch it. Whenever a 
tourist stops to watch something, tourist guide apps show a content that is closely related 
to  the  thing  that  is  being  watched.  The  content  can  be  a  video  clip  describing  how  the 
artifact was crafted or a video game that mimics an ancient game played by the people in 
the  8th  century.  This  kind  of  tourist  guide  app  cannot  be  realized  unless  they  can 
recognize the position where the user is located. This paper develops an indoor-outdoor 
positioning  Android  app  that  is  an  essential  part  of  tourist  guide  apps.  Our  indoor-
outdoor  positioning  app  uses  the  GPS  receiver  for  outdoor  positioning  whereas  it  uses 
the  dead  reckoning  method  for  indoor  positioning.  Our  test  results  showed  that  our 
indoor-outdoor positioning app is accurate enough to be used for practical tourist guide 
apps. 

 
Keywords: positioning; Android app; GPS; dead reckoning; indoor positioning. 

 
1. Introduction 

As it is included in Korea's future strategic industries, Location Based services (LBS) 
have been intensively studied. Now, it matured and  is widely used in our daily life and 
makes a good deal of contribution to the development of various industries. LBS should 
be available inside of manmade structures such as buildings, subways, and underground 
shopping  malls  because  they  are  huge  and  people  spend  most  of  their  time  there.  LBS 
provided  in  manmade  structures  is  called  indoor  LBS.  Kids  care  in  amusement  parks, 
senior  care,  building  management,  and  personalized  smart  service  are  types  of  indoor 
LBS  and  indoor  LBS  performs  crucial  roles  in  life-saving  in  fire  and  emergency 
evacuation [1]. 

Global  Positioning  System  (GPS)  and  Global  Navigation  Satellite  System 
(GLONASS) provide the general solutions of positioning for outdoor LBS. Google maps, 
Naver  Maps,  Daum  Maps  and  others  provide  the  general  solution  of  user  interface  for 
outdoor LBS. However, there are no general solutions of indoor positioning and of user 

                                                           
* Corresponding Author 

ISSN: 1738-9984 IJSEIA  
Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015), pp. 195-208 
http://dx.doi.org/10.14257/ijseia.2015.9.3.19 
 
 

Development of an Indoor-Outdoor Positioning Android App for 

Anapji Tourist Guides 

Kyubark Shim1, Jaegeol Yim2* and Junri Jeon2 

 
 

1Department of Applied Statistics 

2Department of Computer Engineering 

Dongguk University at Gyeongju, Gyeongbuk, Korea 

{shim, yim, junri}@dongguk.ac.kr 

Abstract 

This paper introduces the development details of an Indoor and Outdoor Positioning 
Android app for Anapji, an artificial pond in Gyeongju National Park in Korea, tourist 
guide  apps.  There  is  a  pathway  around  the  pond,  with  around  10  viewpoints  and 
Imhaejeon, a gazebo-like Korean traditional house, along this pathway. In Imhaejeon, we 
can  find  an  Anapji  bird's-eye  view  at  the  center  and  12  cultural  artifacts  unearthed  at 
Anapji displayed along the four edges of Imhaejeon. Tourists walk along the pathway and 
stop  at  a  viewpoint  to  enjoy  the  scenic  beauty  at  their  wish.  Most  of  them  also  enter 
Imhaejeon, walk along the edge, and stop in front of an artifact to watch it. Whenever a 
tourist stops to watch something, tourist guide apps show a content that is closely related 
to  the  thing  that  is  being  watched.  The  content  can  be  a  video  clip  describing  how  the 
artifact was crafted or a video game that mimics an ancient game played by the people in 
the  8th  century.  This  kind  of  tourist  guide  app  cannot  be  realized  unless  they  can 
recognize the position where the user is located. This paper develops an indoor-outdoor 
positioning  Android  app  that  is  an  essential  part  of  tourist  guide  apps.  Our  indoor-
outdoor  positioning  app  uses  the  GPS  receiver  for  outdoor  positioning  whereas  it  uses 
the  dead  reckoning  method  for  indoor  positioning.  Our  test  results  showed  that  our 
indoor-outdoor positioning app is accurate enough to be used for practical tourist guide 
apps. 

 
Keywords: positioning; Android app; GPS; dead reckoning; indoor positioning. 

 
1. Introduction 

As it is included in Korea's future strategic industries, Location Based services (LBS) 
have been intensively studied. Now, it matured and  is widely used in our daily life and 
makes a good deal of contribution to the development of various industries. LBS should 
be available inside of manmade structures such as buildings, subways, and underground 
shopping  malls  because  they  are  huge  and  people  spend  most  of  their  time  there.  LBS 
provided  in  manmade  structures  is  called  indoor  LBS.  Kids  care  in  amusement  parks, 
senior  care,  building  management,  and  personalized  smart  service  are  types  of  indoor 
LBS  and  indoor  LBS  performs  crucial  roles  in  life-saving  in  fire  and  emergency 
evacuation [1]. 

Global  Positioning  System  (GPS)  and  Global  Navigation  Satellite  System 
(GLONASS) provide the general solutions of positioning for outdoor LBS. Google maps, 
Naver  Maps,  Daum  Maps  and  others  provide  the  general  solution  of  user  interface  for 
outdoor LBS. However, there are no general solutions of indoor positioning and of user 

                                                           
* Corresponding Author 

ISSN: 1738-9984 IJSEIA  
Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
interface  for  indoor  LBS.  Therefore,  techniques  for  indoor  LBS  are  still  hot  research 
topics [2, 3]. 

Tourist  guide  mobile  apps  explain  the  origins  of  manufacturing  methods  of,  and 
historical facts associated with the ruins and relics of ancient times to tourists on behalf 
of tourist guides. Therefore, a tourist guide app must recognize the ruin and the relic that 
the  tourist  is  watching.  Recognizing  the  things  that  the  user  is  watching  requires 
recognizing the position where the tourist is located. 

Nowadays,  almost  everybody  carries  a  smartphone  that  is  equipped  with  a  fast 
processor, a large capacity memory, a GPS receiver, and various accurate sensors. Thus, 
smartphones are the best candidate platform where tourist guide apps run. 

This  paper  provides  the  details  on  the  development  of  an  indoor  and  outdoor 
positioning  app  that  can  be  plugged  into  a  tourist  guide  app  as  an  accurate  location 
provider.  Outdoor  positioning  can  be  done  by  using  GPS.  Once  we  have  the  position 
from  the  GPS,  we  can  determine  the  things  that  the  user  is  watching  with  the  sensor 
values from the smartphone sensors. 

There  is  no  general  solution  of  indoor  positioning.  We  introduce  an  enhanced  dead 
reckoning  (EDR)  indoor  positioning.  EDR  recognizes  the  moment  when  the  user  is 
entering  a  manmade  structure  and  uses  the  entrance  as  the  start  point  of  the  dead 
reckoning  process.  EDR  counts  steps  with  accelerometer  values  and  determines  the 
direction with orientation values. With the step count and the direction, EDR determines 
the user's current position as the ordinary dead reckoning process does. The uniqueness 
of EDR is that it recognizes when the user is not moving, finds out the point of interest 
(POI)  in  which  the  user  is  interested,  and  adjusts  the  result  of  dead  reckoning  with  the 
position of the POI.  

We  implemented  our  indoor  and  outdoor  positioning  app  and  tested  it  in  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park.  Our  test  results  showed  that  our  positioning 
app is efficient and accurate enough to be used in practical tourist guide apps. 
 
2. Related Works 

As  buildings  and  underground  facilities  such  as  shopping  malls  around  subway 
stations  are  getting  bigger  numbers  of  people,  the  duration  of  time  people  work 
inside  a  building  is  longer  than  that  of  people  working  outside  the  building.  It 
frequently  happens  to  us  to  visit  a  huge  manmade  structure  to  do  something. 
Therefore, indoor LBS and indoor positioning have attracted a lot of attention from 
researchers.  The  smart  guide  that  shows  the  way  to  viewpoints  [4],  the  museum 
guide [5], and the indoor navigation system [6] are a few examples of Indoor LBS.  
techniques  and 
emphasized  that  extending  GIS  (Geographic  Information  System)  to  manmade 
structures is a requirement for fostering indoor LBS industry. 

The  authors  of  [1]  surveyed  various 

indoor  positioning 

So  many  indoor  positioning  techniques  have  been  proposed.  The  techniques 
proposed  in  the  early  stage  of  the  indoor  positioning  required  special  equipment 
dedicated  to  positioning.  The  method  introduced  in  [7]  required  attaching  beacons 
and sending out infrared to the  moving  objects and to install receivers at rooms so 
that  the  system  could  recognize  in  which  room  a  user  is  located.  The  method 
introduced  in  [8]  required  attaching  beacons  to  moving  objects  to  send  out  both 
radio wave and sound wave and to install many receivers in the ceilings so that the 
system accurately estimated the moving object's position. The method introduced in 
[9]  worked  in  the  reverse  way,  in  that  the  beacons  are  installed  at  fixed  positions 
whereas  a  receiver  is  attached  to  a  moving  object  so  that  the  moving  object  could 
identify where it is located.  

Using  special  equipment,  we  can  extremely  correctly  estimate  the  location  of  a 
moving  object.  However,  a  technique  that  requires  special  equipment  cannot  be  a 

196  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015), pp. 195-208 
http://dx.doi.org/10.14257/ijseia.2015.9.3.19 
 
 

Development of an Indoor-Outdoor Positioning Android App for 

Anapji Tourist Guides 

Kyubark Shim1, Jaegeol Yim2* and Junri Jeon2 

 
 

1Department of Applied Statistics 

2Department of Computer Engineering 

Dongguk University at Gyeongju, Gyeongbuk, Korea 

{shim, yim, junri}@dongguk.ac.kr 

Abstract 

This paper introduces the development details of an Indoor and Outdoor Positioning 
Android app for Anapji, an artificial pond in Gyeongju National Park in Korea, tourist 
guide  apps.  There  is  a  pathway  around  the  pond,  with  around  10  viewpoints  and 
Imhaejeon, a gazebo-like Korean traditional house, along this pathway. In Imhaejeon, we 
can  find  an  Anapji  bird's-eye  view  at  the  center  and  12  cultural  artifacts  unearthed  at 
Anapji displayed along the four edges of Imhaejeon. Tourists walk along the pathway and 
stop  at  a  viewpoint  to  enjoy  the  scenic  beauty  at  their  wish.  Most  of  them  also  enter 
Imhaejeon, walk along the edge, and stop in front of an artifact to watch it. Whenever a 
tourist stops to watch something, tourist guide apps show a content that is closely related 
to  the  thing  that  is  being  watched.  The  content  can  be  a  video  clip  describing  how  the 
artifact was crafted or a video game that mimics an ancient game played by the people in 
the  8th  century.  This  kind  of  tourist  guide  app  cannot  be  realized  unless  they  can 
recognize the position where the user is located. This paper develops an indoor-outdoor 
positioning  Android  app  that  is  an  essential  part  of  tourist  guide  apps.  Our  indoor-
outdoor  positioning  app  uses  the  GPS  receiver  for  outdoor  positioning  whereas  it  uses 
the  dead  reckoning  method  for  indoor  positioning.  Our  test  results  showed  that  our 
indoor-outdoor positioning app is accurate enough to be used for practical tourist guide 
apps. 

 
Keywords: positioning; Android app; GPS; dead reckoning; indoor positioning. 

 
1. Introduction 

As it is included in Korea's future strategic industries, Location Based services (LBS) 
have been intensively studied. Now, it matured and  is widely used in our daily life and 
makes a good deal of contribution to the development of various industries. LBS should 
be available inside of manmade structures such as buildings, subways, and underground 
shopping  malls  because  they  are  huge  and  people  spend  most  of  their  time  there.  LBS 
provided  in  manmade  structures  is  called  indoor  LBS.  Kids  care  in  amusement  parks, 
senior  care,  building  management,  and  personalized  smart  service  are  types  of  indoor 
LBS  and  indoor  LBS  performs  crucial  roles  in  life-saving  in  fire  and  emergency 
evacuation [1]. 

Global  Positioning  System  (GPS)  and  Global  Navigation  Satellite  System 
(GLONASS) provide the general solutions of positioning for outdoor LBS. Google maps, 
Naver  Maps,  Daum  Maps  and  others  provide  the  general  solution  of  user  interface  for 
outdoor LBS. However, there are no general solutions of indoor positioning and of user 

                                                           
* Corresponding Author 

ISSN: 1738-9984 IJSEIA  
Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
interface  for  indoor  LBS.  Therefore,  techniques  for  indoor  LBS  are  still  hot  research 
topics [2, 3]. 

Tourist  guide  mobile  apps  explain  the  origins  of  manufacturing  methods  of,  and 
historical facts associated with the ruins and relics of ancient times to tourists on behalf 
of tourist guides. Therefore, a tourist guide app must recognize the ruin and the relic that 
the  tourist  is  watching.  Recognizing  the  things  that  the  user  is  watching  requires 
recognizing the position where the tourist is located. 

Nowadays,  almost  everybody  carries  a  smartphone  that  is  equipped  with  a  fast 
processor, a large capacity memory, a GPS receiver, and various accurate sensors. Thus, 
smartphones are the best candidate platform where tourist guide apps run. 

This  paper  provides  the  details  on  the  development  of  an  indoor  and  outdoor 
positioning  app  that  can  be  plugged  into  a  tourist  guide  app  as  an  accurate  location 
provider.  Outdoor  positioning  can  be  done  by  using  GPS.  Once  we  have  the  position 
from  the  GPS,  we  can  determine  the  things  that  the  user  is  watching  with  the  sensor 
values from the smartphone sensors. 

There  is  no  general  solution  of  indoor  positioning.  We  introduce  an  enhanced  dead 
reckoning  (EDR)  indoor  positioning.  EDR  recognizes  the  moment  when  the  user  is 
entering  a  manmade  structure  and  uses  the  entrance  as  the  start  point  of  the  dead 
reckoning  process.  EDR  counts  steps  with  accelerometer  values  and  determines  the 
direction with orientation values. With the step count and the direction, EDR determines 
the user's current position as the ordinary dead reckoning process does. The uniqueness 
of EDR is that it recognizes when the user is not moving, finds out the point of interest 
(POI)  in  which  the  user  is  interested,  and  adjusts  the  result  of  dead  reckoning  with  the 
position of the POI.  

We  implemented  our  indoor  and  outdoor  positioning  app  and  tested  it  in  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park.  Our  test  results  showed  that  our  positioning 
app is efficient and accurate enough to be used in practical tourist guide apps. 
 
2. Related Works 

As  buildings  and  underground  facilities  such  as  shopping  malls  around  subway 
stations  are  getting  bigger  numbers  of  people,  the  duration  of  time  people  work 
inside  a  building  is  longer  than  that  of  people  working  outside  the  building.  It 
frequently  happens  to  us  to  visit  a  huge  manmade  structure  to  do  something. 
Therefore, indoor LBS and indoor positioning have attracted a lot of attention from 
researchers.  The  smart  guide  that  shows  the  way  to  viewpoints  [4],  the  museum 
guide [5], and the indoor navigation system [6] are a few examples of Indoor LBS.  
techniques  and 
emphasized  that  extending  GIS  (Geographic  Information  System)  to  manmade 
structures is a requirement for fostering indoor LBS industry. 

The  authors  of  [1]  surveyed  various 

indoor  positioning 

So  many  indoor  positioning  techniques  have  been  proposed.  The  techniques 
proposed  in  the  early  stage  of  the  indoor  positioning  required  special  equipment 
dedicated  to  positioning.  The  method  introduced  in  [7]  required  attaching  beacons 
and sending out infrared to the  moving  objects and to install receivers at rooms so 
that  the  system  could  recognize  in  which  room  a  user  is  located.  The  method 
introduced  in  [8]  required  attaching  beacons  to  moving  objects  to  send  out  both 
radio wave and sound wave and to install many receivers in the ceilings so that the 
system accurately estimated the moving object's position. The method introduced in 
[9]  worked  in  the  reverse  way,  in  that  the  beacons  are  installed  at  fixed  positions 
whereas  a  receiver  is  attached  to  a  moving  object  so  that  the  moving  object  could 
identify where it is located.  

Using  special  equipment,  we  can  extremely  correctly  estimate  the  location  of  a 
moving  object.  However,  a  technique  that  requires  special  equipment  cannot  be  a 

196  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

general  solution  for  indoor  positioning.  Meanwhile,  wireless  local  area  networks 
(WLAN)  spread  widely  and  became  available  almost  everywhere.  Thus,  many 
WLAN  based  indoor  positioning  techniques  were  introduced  and  are  still  being 
studied. For example, the techniques introduced in [10, 11] are WLAN based.  

Smartphones  are  equipped  with  various  sensors,  powerful  processors,  and  large 
capacity memories. Smartphones have been so widely spread that almost everybody 
has a smartphone and carries the smartphone all the time because a smartphone has 
become  a  daily  necessity.  Therefore,  smartphone  based  indoor  positioning  and 
indoor  LBS  have  been  hot  research  topics.  For  example,  the  authors  of  [12] 
introduced a smartphone based indoor positioning method. Since smartphone based 
indoor positioning uses the sensors equipped on the smartphone, it can be generally 
used  in  developing  applications.  Furthermore,  a  smartphone  is  a  perfect  candidate 
platform  for  indoor  LBS  because  it  has  enough  memory  space  to  save  floor  maps 
and its computing power is more than enough to execute LBS applications.   

As  is  discussed,  the  environments  of  indoor  positioning  have  significantly 
evolved.  However,  the  basic  processes  of  determining  the  position  have  not 
changed much. They can be classified into the fingerprinting, trilateration, and dead 
reckoning. The deployment of fingerprinting consists of two  phases: off -line phase 
and real-time phase. During the off-line phase, we create a fingerprint for all CP i in 
candidate  points.  A  fingerprint  of  CP i  is  anything  that  identifies  CP i.  All  sensor 
values  collected  at  CPi  can  be  used  as  a  fingerprint  of  CP i.  During  the  real-time 
phase,  it  collects  sensor  values,  X,  finds  the  fingerprint  that  is  closest  to  X,  and 
returns  CPi  that  is  associated  with  the  closest  fingerprint  as  the  current  position  of 
the moving object. One of the disadvantages of the fingerprinting process is that the 
off-line phase of it is very time-consuming. However, the idea of the process is easy 
to  understand  and  the  result  is  relatively  accurate,  so  the  fingerprinting  is  still 
widely  used  [5,  13-20].  The  trilateration  process  receives  signals  sent  from  fixed 
positions, transfers  either  or  both  of them  into distances and orientations. With the 
coordinates  of  the  fixed  positions,  distances  (ranges),  and  orientations,  the 
trilateration  process  calculates  the  position  of  the  moving  object.  If  the  signal  is 
reliable  then  the  result  is  accurate.  GPS  and  the  methods  used  in  [8,  9,  18-20] 
belong to this category. Examples of dead reckoning are introduced in [3, 20, 21].   

The  method  introduced  in  [20]  is  a  combination  of  dead  reckoning  and 
fingerprinting. The prediction methods such as the Kalman filter and particle fil ters 
are  introduced  in  [22].  The  collaboration  method  in  which  users  exchange  their 
positions is introduced in [6]. 
 
3. The Proposed Indoor Outdoor Positioning 

The application  should  be run  on  a  device  that is  possessed  and  carried  by  everyone 
and  should  not  rely  on  special  resources.  Otherwise,  we  cannot  generally  use  the 
application.  As  we  discussed  in  the  Related  Works  section,  smartphone  based  dead 
reckoning for indoor positioning and GPS for outdoor positioning can be considered as a 
general solution. The GPS is run by the USA government and is available anywhere and 
anytime as long as satellite signals are receivable. According to our experimental results, 
the error range of the GPS is less than 6 meters. The dead reckoning indoor positioning 
relies only on the sensors inside the smartphone and it can be considered to be a general 
solution of indoor positioning even though the error of it increases as time goes by.  

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

197 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015), pp. 195-208 
http://dx.doi.org/10.14257/ijseia.2015.9.3.19 
 
 

Development of an Indoor-Outdoor Positioning Android App for 

Anapji Tourist Guides 

Kyubark Shim1, Jaegeol Yim2* and Junri Jeon2 

 
 

1Department of Applied Statistics 

2Department of Computer Engineering 

Dongguk University at Gyeongju, Gyeongbuk, Korea 

{shim, yim, junri}@dongguk.ac.kr 

Abstract 

This paper introduces the development details of an Indoor and Outdoor Positioning 
Android app for Anapji, an artificial pond in Gyeongju National Park in Korea, tourist 
guide  apps.  There  is  a  pathway  around  the  pond,  with  around  10  viewpoints  and 
Imhaejeon, a gazebo-like Korean traditional house, along this pathway. In Imhaejeon, we 
can  find  an  Anapji  bird's-eye  view  at  the  center  and  12  cultural  artifacts  unearthed  at 
Anapji displayed along the four edges of Imhaejeon. Tourists walk along the pathway and 
stop  at  a  viewpoint  to  enjoy  the  scenic  beauty  at  their  wish.  Most  of  them  also  enter 
Imhaejeon, walk along the edge, and stop in front of an artifact to watch it. Whenever a 
tourist stops to watch something, tourist guide apps show a content that is closely related 
to  the  thing  that  is  being  watched.  The  content  can  be  a  video  clip  describing  how  the 
artifact was crafted or a video game that mimics an ancient game played by the people in 
the  8th  century.  This  kind  of  tourist  guide  app  cannot  be  realized  unless  they  can 
recognize the position where the user is located. This paper develops an indoor-outdoor 
positioning  Android  app  that  is  an  essential  part  of  tourist  guide  apps.  Our  indoor-
outdoor  positioning  app  uses  the  GPS  receiver  for  outdoor  positioning  whereas  it  uses 
the  dead  reckoning  method  for  indoor  positioning.  Our  test  results  showed  that  our 
indoor-outdoor positioning app is accurate enough to be used for practical tourist guide 
apps. 

 
Keywords: positioning; Android app; GPS; dead reckoning; indoor positioning. 

 
1. Introduction 

As it is included in Korea's future strategic industries, Location Based services (LBS) 
have been intensively studied. Now, it matured and  is widely used in our daily life and 
makes a good deal of contribution to the development of various industries. LBS should 
be available inside of manmade structures such as buildings, subways, and underground 
shopping  malls  because  they  are  huge  and  people  spend  most  of  their  time  there.  LBS 
provided  in  manmade  structures  is  called  indoor  LBS.  Kids  care  in  amusement  parks, 
senior  care,  building  management,  and  personalized  smart  service  are  types  of  indoor 
LBS  and  indoor  LBS  performs  crucial  roles  in  life-saving  in  fire  and  emergency 
evacuation [1]. 

Global  Positioning  System  (GPS)  and  Global  Navigation  Satellite  System 
(GLONASS) provide the general solutions of positioning for outdoor LBS. Google maps, 
Naver  Maps,  Daum  Maps  and  others  provide  the  general  solution  of  user  interface  for 
outdoor LBS. However, there are no general solutions of indoor positioning and of user 

                                                           
* Corresponding Author 

ISSN: 1738-9984 IJSEIA  
Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
interface  for  indoor  LBS.  Therefore,  techniques  for  indoor  LBS  are  still  hot  research 
topics [2, 3]. 

Tourist  guide  mobile  apps  explain  the  origins  of  manufacturing  methods  of,  and 
historical facts associated with the ruins and relics of ancient times to tourists on behalf 
of tourist guides. Therefore, a tourist guide app must recognize the ruin and the relic that 
the  tourist  is  watching.  Recognizing  the  things  that  the  user  is  watching  requires 
recognizing the position where the tourist is located. 

Nowadays,  almost  everybody  carries  a  smartphone  that  is  equipped  with  a  fast 
processor, a large capacity memory, a GPS receiver, and various accurate sensors. Thus, 
smartphones are the best candidate platform where tourist guide apps run. 

This  paper  provides  the  details  on  the  development  of  an  indoor  and  outdoor 
positioning  app  that  can  be  plugged  into  a  tourist  guide  app  as  an  accurate  location 
provider.  Outdoor  positioning  can  be  done  by  using  GPS.  Once  we  have  the  position 
from  the  GPS,  we  can  determine  the  things  that  the  user  is  watching  with  the  sensor 
values from the smartphone sensors. 

There  is  no  general  solution  of  indoor  positioning.  We  introduce  an  enhanced  dead 
reckoning  (EDR)  indoor  positioning.  EDR  recognizes  the  moment  when  the  user  is 
entering  a  manmade  structure  and  uses  the  entrance  as  the  start  point  of  the  dead 
reckoning  process.  EDR  counts  steps  with  accelerometer  values  and  determines  the 
direction with orientation values. With the step count and the direction, EDR determines 
the user's current position as the ordinary dead reckoning process does. The uniqueness 
of EDR is that it recognizes when the user is not moving, finds out the point of interest 
(POI)  in  which  the  user  is  interested,  and  adjusts  the  result  of  dead  reckoning  with  the 
position of the POI.  

We  implemented  our  indoor  and  outdoor  positioning  app  and  tested  it  in  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park.  Our  test  results  showed  that  our  positioning 
app is efficient and accurate enough to be used in practical tourist guide apps. 
 
2. Related Works 

As  buildings  and  underground  facilities  such  as  shopping  malls  around  subway 
stations  are  getting  bigger  numbers  of  people,  the  duration  of  time  people  work 
inside  a  building  is  longer  than  that  of  people  working  outside  the  building.  It 
frequently  happens  to  us  to  visit  a  huge  manmade  structure  to  do  something. 
Therefore, indoor LBS and indoor positioning have attracted a lot of attention from 
researchers.  The  smart  guide  that  shows  the  way  to  viewpoints  [4],  the  museum 
guide [5], and the indoor navigation system [6] are a few examples of Indoor LBS.  
techniques  and 
emphasized  that  extending  GIS  (Geographic  Information  System)  to  manmade 
structures is a requirement for fostering indoor LBS industry. 

The  authors  of  [1]  surveyed  various 

indoor  positioning 

So  many  indoor  positioning  techniques  have  been  proposed.  The  techniques 
proposed  in  the  early  stage  of  the  indoor  positioning  required  special  equipment 
dedicated  to  positioning.  The  method  introduced  in  [7]  required  attaching  beacons 
and sending out infrared to the  moving  objects and to install receivers at rooms so 
that  the  system  could  recognize  in  which  room  a  user  is  located.  The  method 
introduced  in  [8]  required  attaching  beacons  to  moving  objects  to  send  out  both 
radio wave and sound wave and to install many receivers in the ceilings so that the 
system accurately estimated the moving object's position. The method introduced in 
[9]  worked  in  the  reverse  way,  in  that  the  beacons  are  installed  at  fixed  positions 
whereas  a  receiver  is  attached  to  a  moving  object  so  that  the  moving  object  could 
identify where it is located.  

Using  special  equipment,  we  can  extremely  correctly  estimate  the  location  of  a 
moving  object.  However,  a  technique  that  requires  special  equipment  cannot  be  a 

196  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

general  solution  for  indoor  positioning.  Meanwhile,  wireless  local  area  networks 
(WLAN)  spread  widely  and  became  available  almost  everywhere.  Thus,  many 
WLAN  based  indoor  positioning  techniques  were  introduced  and  are  still  being 
studied. For example, the techniques introduced in [10, 11] are WLAN based.  

Smartphones  are  equipped  with  various  sensors,  powerful  processors,  and  large 
capacity memories. Smartphones have been so widely spread that almost everybody 
has a smartphone and carries the smartphone all the time because a smartphone has 
become  a  daily  necessity.  Therefore,  smartphone  based  indoor  positioning  and 
indoor  LBS  have  been  hot  research  topics.  For  example,  the  authors  of  [12] 
introduced a smartphone based indoor positioning method. Since smartphone based 
indoor positioning uses the sensors equipped on the smartphone, it can be generally 
used  in  developing  applications.  Furthermore,  a  smartphone  is  a  perfect  candidate 
platform  for  indoor  LBS  because  it  has  enough  memory  space  to  save  floor  maps 
and its computing power is more than enough to execute LBS applications.   

As  is  discussed,  the  environments  of  indoor  positioning  have  significantly 
evolved.  However,  the  basic  processes  of  determining  the  position  have  not 
changed much. They can be classified into the fingerprinting, trilateration, and dead 
reckoning. The deployment of fingerprinting consists of two  phases: off -line phase 
and real-time phase. During the off-line phase, we create a fingerprint for all CP i in 
candidate  points.  A  fingerprint  of  CP i  is  anything  that  identifies  CP i.  All  sensor 
values  collected  at  CPi  can  be  used  as  a  fingerprint  of  CP i.  During  the  real-time 
phase,  it  collects  sensor  values,  X,  finds  the  fingerprint  that  is  closest  to  X,  and 
returns  CPi  that  is  associated  with  the  closest  fingerprint  as  the  current  position  of 
the moving object. One of the disadvantages of the fingerprinting process is that the 
off-line phase of it is very time-consuming. However, the idea of the process is easy 
to  understand  and  the  result  is  relatively  accurate,  so  the  fingerprinting  is  still 
widely  used  [5,  13-20].  The  trilateration  process  receives  signals  sent  from  fixed 
positions, transfers  either  or  both  of them  into distances and orientations. With the 
coordinates  of  the  fixed  positions,  distances  (ranges),  and  orientations,  the 
trilateration  process  calculates  the  position  of  the  moving  object.  If  the  signal  is 
reliable  then  the  result  is  accurate.  GPS  and  the  methods  used  in  [8,  9,  18-20] 
belong to this category. Examples of dead reckoning are introduced in [3, 20, 21].   

The  method  introduced  in  [20]  is  a  combination  of  dead  reckoning  and 
fingerprinting. The prediction methods such as the Kalman filter and particle fil ters 
are  introduced  in  [22].  The  collaboration  method  in  which  users  exchange  their 
positions is introduced in [6]. 
 
3. The Proposed Indoor Outdoor Positioning 

The application  should  be run  on  a  device  that is  possessed  and  carried  by  everyone 
and  should  not  rely  on  special  resources.  Otherwise,  we  cannot  generally  use  the 
application.  As  we  discussed  in  the  Related  Works  section,  smartphone  based  dead 
reckoning for indoor positioning and GPS for outdoor positioning can be considered as a 
general solution. The GPS is run by the USA government and is available anywhere and 
anytime as long as satellite signals are receivable. According to our experimental results, 
the error range of the GPS is less than 6 meters. The dead reckoning indoor positioning 
relies only on the sensors inside the smartphone and it can be considered to be a general 
solution of indoor positioning even though the error of it increases as time goes by.  

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

197 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 1. Important Components of our Indoor and Outdoor Positioning 

System 

In this paper, we improve the accuracy of dead reckoning indoor positioning, making 
use of the information we can find on the map and floor maps. The important components 
of  our  indoor  and  outdoor  positioning  system  are  shown  in  Figure  1.  In  the  floor  map 
repository,  the  floor  maps  of  the  manmade  structures  in  the  domain  are  stored. 
Information on points of interest we can find indoor/outdoor is stored in the Indoor POI 
DB/Outdoor POI DB. Our app downloads information of POI and floor maps via the POI 
Web server and the map Web server.  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 2. The Classes for Outdoor Positioning 

198  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015), pp. 195-208 
http://dx.doi.org/10.14257/ijseia.2015.9.3.19 
 
 

Development of an Indoor-Outdoor Positioning Android App for 

Anapji Tourist Guides 

Kyubark Shim1, Jaegeol Yim2* and Junri Jeon2 

 
 

1Department of Applied Statistics 

2Department of Computer Engineering 

Dongguk University at Gyeongju, Gyeongbuk, Korea 

{shim, yim, junri}@dongguk.ac.kr 

Abstract 

This paper introduces the development details of an Indoor and Outdoor Positioning 
Android app for Anapji, an artificial pond in Gyeongju National Park in Korea, tourist 
guide  apps.  There  is  a  pathway  around  the  pond,  with  around  10  viewpoints  and 
Imhaejeon, a gazebo-like Korean traditional house, along this pathway. In Imhaejeon, we 
can  find  an  Anapji  bird's-eye  view  at  the  center  and  12  cultural  artifacts  unearthed  at 
Anapji displayed along the four edges of Imhaejeon. Tourists walk along the pathway and 
stop  at  a  viewpoint  to  enjoy  the  scenic  beauty  at  their  wish.  Most  of  them  also  enter 
Imhaejeon, walk along the edge, and stop in front of an artifact to watch it. Whenever a 
tourist stops to watch something, tourist guide apps show a content that is closely related 
to  the  thing  that  is  being  watched.  The  content  can  be  a  video  clip  describing  how  the 
artifact was crafted or a video game that mimics an ancient game played by the people in 
the  8th  century.  This  kind  of  tourist  guide  app  cannot  be  realized  unless  they  can 
recognize the position where the user is located. This paper develops an indoor-outdoor 
positioning  Android  app  that  is  an  essential  part  of  tourist  guide  apps.  Our  indoor-
outdoor  positioning  app  uses  the  GPS  receiver  for  outdoor  positioning  whereas  it  uses 
the  dead  reckoning  method  for  indoor  positioning.  Our  test  results  showed  that  our 
indoor-outdoor positioning app is accurate enough to be used for practical tourist guide 
apps. 

 
Keywords: positioning; Android app; GPS; dead reckoning; indoor positioning. 

 
1. Introduction 

As it is included in Korea's future strategic industries, Location Based services (LBS) 
have been intensively studied. Now, it matured and  is widely used in our daily life and 
makes a good deal of contribution to the development of various industries. LBS should 
be available inside of manmade structures such as buildings, subways, and underground 
shopping  malls  because  they  are  huge  and  people  spend  most  of  their  time  there.  LBS 
provided  in  manmade  structures  is  called  indoor  LBS.  Kids  care  in  amusement  parks, 
senior  care,  building  management,  and  personalized  smart  service  are  types  of  indoor 
LBS  and  indoor  LBS  performs  crucial  roles  in  life-saving  in  fire  and  emergency 
evacuation [1]. 

Global  Positioning  System  (GPS)  and  Global  Navigation  Satellite  System 
(GLONASS) provide the general solutions of positioning for outdoor LBS. Google maps, 
Naver  Maps,  Daum  Maps  and  others  provide  the  general  solution  of  user  interface  for 
outdoor LBS. However, there are no general solutions of indoor positioning and of user 

                                                           
* Corresponding Author 

ISSN: 1738-9984 IJSEIA  
Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
interface  for  indoor  LBS.  Therefore,  techniques  for  indoor  LBS  are  still  hot  research 
topics [2, 3]. 

Tourist  guide  mobile  apps  explain  the  origins  of  manufacturing  methods  of,  and 
historical facts associated with the ruins and relics of ancient times to tourists on behalf 
of tourist guides. Therefore, a tourist guide app must recognize the ruin and the relic that 
the  tourist  is  watching.  Recognizing  the  things  that  the  user  is  watching  requires 
recognizing the position where the tourist is located. 

Nowadays,  almost  everybody  carries  a  smartphone  that  is  equipped  with  a  fast 
processor, a large capacity memory, a GPS receiver, and various accurate sensors. Thus, 
smartphones are the best candidate platform where tourist guide apps run. 

This  paper  provides  the  details  on  the  development  of  an  indoor  and  outdoor 
positioning  app  that  can  be  plugged  into  a  tourist  guide  app  as  an  accurate  location 
provider.  Outdoor  positioning  can  be  done  by  using  GPS.  Once  we  have  the  position 
from  the  GPS,  we  can  determine  the  things  that  the  user  is  watching  with  the  sensor 
values from the smartphone sensors. 

There  is  no  general  solution  of  indoor  positioning.  We  introduce  an  enhanced  dead 
reckoning  (EDR)  indoor  positioning.  EDR  recognizes  the  moment  when  the  user  is 
entering  a  manmade  structure  and  uses  the  entrance  as  the  start  point  of  the  dead 
reckoning  process.  EDR  counts  steps  with  accelerometer  values  and  determines  the 
direction with orientation values. With the step count and the direction, EDR determines 
the user's current position as the ordinary dead reckoning process does. The uniqueness 
of EDR is that it recognizes when the user is not moving, finds out the point of interest 
(POI)  in  which  the  user  is  interested,  and  adjusts  the  result  of  dead  reckoning  with  the 
position of the POI.  

We  implemented  our  indoor  and  outdoor  positioning  app  and  tested  it  in  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park.  Our  test  results  showed  that  our  positioning 
app is efficient and accurate enough to be used in practical tourist guide apps. 
 
2. Related Works 

As  buildings  and  underground  facilities  such  as  shopping  malls  around  subway 
stations  are  getting  bigger  numbers  of  people,  the  duration  of  time  people  work 
inside  a  building  is  longer  than  that  of  people  working  outside  the  building.  It 
frequently  happens  to  us  to  visit  a  huge  manmade  structure  to  do  something. 
Therefore, indoor LBS and indoor positioning have attracted a lot of attention from 
researchers.  The  smart  guide  that  shows  the  way  to  viewpoints  [4],  the  museum 
guide [5], and the indoor navigation system [6] are a few examples of Indoor LBS.  
techniques  and 
emphasized  that  extending  GIS  (Geographic  Information  System)  to  manmade 
structures is a requirement for fostering indoor LBS industry. 

The  authors  of  [1]  surveyed  various 

indoor  positioning 

So  many  indoor  positioning  techniques  have  been  proposed.  The  techniques 
proposed  in  the  early  stage  of  the  indoor  positioning  required  special  equipment 
dedicated  to  positioning.  The  method  introduced  in  [7]  required  attaching  beacons 
and sending out infrared to the  moving  objects and to install receivers at rooms so 
that  the  system  could  recognize  in  which  room  a  user  is  located.  The  method 
introduced  in  [8]  required  attaching  beacons  to  moving  objects  to  send  out  both 
radio wave and sound wave and to install many receivers in the ceilings so that the 
system accurately estimated the moving object's position. The method introduced in 
[9]  worked  in  the  reverse  way,  in  that  the  beacons  are  installed  at  fixed  positions 
whereas  a  receiver  is  attached  to  a  moving  object  so  that  the  moving  object  could 
identify where it is located.  

Using  special  equipment,  we  can  extremely  correctly  estimate  the  location  of  a 
moving  object.  However,  a  technique  that  requires  special  equipment  cannot  be  a 

196  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

general  solution  for  indoor  positioning.  Meanwhile,  wireless  local  area  networks 
(WLAN)  spread  widely  and  became  available  almost  everywhere.  Thus,  many 
WLAN  based  indoor  positioning  techniques  were  introduced  and  are  still  being 
studied. For example, the techniques introduced in [10, 11] are WLAN based.  

Smartphones  are  equipped  with  various  sensors,  powerful  processors,  and  large 
capacity memories. Smartphones have been so widely spread that almost everybody 
has a smartphone and carries the smartphone all the time because a smartphone has 
become  a  daily  necessity.  Therefore,  smartphone  based  indoor  positioning  and 
indoor  LBS  have  been  hot  research  topics.  For  example,  the  authors  of  [12] 
introduced a smartphone based indoor positioning method. Since smartphone based 
indoor positioning uses the sensors equipped on the smartphone, it can be generally 
used  in  developing  applications.  Furthermore,  a  smartphone  is  a  perfect  candidate 
platform  for  indoor  LBS  because  it  has  enough  memory  space  to  save  floor  maps 
and its computing power is more than enough to execute LBS applications.   

As  is  discussed,  the  environments  of  indoor  positioning  have  significantly 
evolved.  However,  the  basic  processes  of  determining  the  position  have  not 
changed much. They can be classified into the fingerprinting, trilateration, and dead 
reckoning. The deployment of fingerprinting consists of two  phases: off -line phase 
and real-time phase. During the off-line phase, we create a fingerprint for all CP i in 
candidate  points.  A  fingerprint  of  CP i  is  anything  that  identifies  CP i.  All  sensor 
values  collected  at  CPi  can  be  used  as  a  fingerprint  of  CP i.  During  the  real-time 
phase,  it  collects  sensor  values,  X,  finds  the  fingerprint  that  is  closest  to  X,  and 
returns  CPi  that  is  associated  with  the  closest  fingerprint  as  the  current  position  of 
the moving object. One of the disadvantages of the fingerprinting process is that the 
off-line phase of it is very time-consuming. However, the idea of the process is easy 
to  understand  and  the  result  is  relatively  accurate,  so  the  fingerprinting  is  still 
widely  used  [5,  13-20].  The  trilateration  process  receives  signals  sent  from  fixed 
positions, transfers  either  or  both  of them  into distances and orientations. With the 
coordinates  of  the  fixed  positions,  distances  (ranges),  and  orientations,  the 
trilateration  process  calculates  the  position  of  the  moving  object.  If  the  signal  is 
reliable  then  the  result  is  accurate.  GPS  and  the  methods  used  in  [8,  9,  18-20] 
belong to this category. Examples of dead reckoning are introduced in [3, 20, 21].   

The  method  introduced  in  [20]  is  a  combination  of  dead  reckoning  and 
fingerprinting. The prediction methods such as the Kalman filter and particle fil ters 
are  introduced  in  [22].  The  collaboration  method  in  which  users  exchange  their 
positions is introduced in [6]. 
 
3. The Proposed Indoor Outdoor Positioning 

The application  should  be run  on  a  device  that is  possessed  and  carried  by  everyone 
and  should  not  rely  on  special  resources.  Otherwise,  we  cannot  generally  use  the 
application.  As  we  discussed  in  the  Related  Works  section,  smartphone  based  dead 
reckoning for indoor positioning and GPS for outdoor positioning can be considered as a 
general solution. The GPS is run by the USA government and is available anywhere and 
anytime as long as satellite signals are receivable. According to our experimental results, 
the error range of the GPS is less than 6 meters. The dead reckoning indoor positioning 
relies only on the sensors inside the smartphone and it can be considered to be a general 
solution of indoor positioning even though the error of it increases as time goes by.  

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

197 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 1. Important Components of our Indoor and Outdoor Positioning 

System 

In this paper, we improve the accuracy of dead reckoning indoor positioning, making 
use of the information we can find on the map and floor maps. The important components 
of  our  indoor  and  outdoor  positioning  system  are  shown  in  Figure  1.  In  the  floor  map 
repository,  the  floor  maps  of  the  manmade  structures  in  the  domain  are  stored. 
Information on points of interest we can find indoor/outdoor is stored in the Indoor POI 
DB/Outdoor POI DB. Our app downloads information of POI and floor maps via the POI 
Web server and the map Web server.  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 2. The Classes for Outdoor Positioning 

198  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 3. A Flowchart for OutdoorTraceThread 

For outdoor positioning, we defined classes shown in Figure 2. OutdoorTraceActivity 
uses  LocationManager  provided  by  the  Android  operating  system.  MapView  is  a  view 
which  displays  a  map.  In  MyMath,  the  methods  to  calculate  the  mean  and  standard 
deviation are defined. OutdoorTraceThread reads GPS and checks if the user is moving 
or not by investigating the speed attribute obtained from the GPS receiver. If the user is 
moving, then it repeats reading GPS after sleeping for a while. Otherwise, it finds the POI 
that  is  nearest  to  the  user's  current  position.  If  the  distance  between  that  POI  and  the 
user's  current  position  is  less  than  a  threshold,  then  it  determines  that  the  user's  current 
position  is  the  position  of  the  POI.  It  repeats  this  process  until  the  user  enters  the 
building. This process of OutdoorTraceThread is described in Figure 3. 

The process to determine whether the user is inside or outside a building is described 
in Figure 4. It collects GPS signals every one second. If the average of recently collected 
five  accuracy  attributes  is  greater  than  a  threshold  then  it  determines  that  the  user  is 
inside the building. As is shown in Figure 5, the accuracy is high when the user is inside a 
building. 

For indoor positioning, we defined the classes shown in Figure 6. IndoorTraceActivity 
uses  SensorManager  in  order  to  read  the  accelerometer  and  orientation  sensors. 
IndoorTraceThread counts the number of steps taken by the user, determines whether the 
user  is  moving  or  not,  and  determines  the  direction  the  user  is  taking.  The 
DownloadFloorPlanThread downloads floor maps via HTTP GET method. MyView is a 
View which displays a floor map.  

 

 

 

Copyright ⓒ 2015 SERSC 

 

199 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015), pp. 195-208 
http://dx.doi.org/10.14257/ijseia.2015.9.3.19 
 
 

Development of an Indoor-Outdoor Positioning Android App for 

Anapji Tourist Guides 

Kyubark Shim1, Jaegeol Yim2* and Junri Jeon2 

 
 

1Department of Applied Statistics 

2Department of Computer Engineering 

Dongguk University at Gyeongju, Gyeongbuk, Korea 

{shim, yim, junri}@dongguk.ac.kr 

Abstract 

This paper introduces the development details of an Indoor and Outdoor Positioning 
Android app for Anapji, an artificial pond in Gyeongju National Park in Korea, tourist 
guide  apps.  There  is  a  pathway  around  the  pond,  with  around  10  viewpoints  and 
Imhaejeon, a gazebo-like Korean traditional house, along this pathway. In Imhaejeon, we 
can  find  an  Anapji  bird's-eye  view  at  the  center  and  12  cultural  artifacts  unearthed  at 
Anapji displayed along the four edges of Imhaejeon. Tourists walk along the pathway and 
stop  at  a  viewpoint  to  enjoy  the  scenic  beauty  at  their  wish.  Most  of  them  also  enter 
Imhaejeon, walk along the edge, and stop in front of an artifact to watch it. Whenever a 
tourist stops to watch something, tourist guide apps show a content that is closely related 
to  the  thing  that  is  being  watched.  The  content  can  be  a  video  clip  describing  how  the 
artifact was crafted or a video game that mimics an ancient game played by the people in 
the  8th  century.  This  kind  of  tourist  guide  app  cannot  be  realized  unless  they  can 
recognize the position where the user is located. This paper develops an indoor-outdoor 
positioning  Android  app  that  is  an  essential  part  of  tourist  guide  apps.  Our  indoor-
outdoor  positioning  app  uses  the  GPS  receiver  for  outdoor  positioning  whereas  it  uses 
the  dead  reckoning  method  for  indoor  positioning.  Our  test  results  showed  that  our 
indoor-outdoor positioning app is accurate enough to be used for practical tourist guide 
apps. 

 
Keywords: positioning; Android app; GPS; dead reckoning; indoor positioning. 

 
1. Introduction 

As it is included in Korea's future strategic industries, Location Based services (LBS) 
have been intensively studied. Now, it matured and  is widely used in our daily life and 
makes a good deal of contribution to the development of various industries. LBS should 
be available inside of manmade structures such as buildings, subways, and underground 
shopping  malls  because  they  are  huge  and  people  spend  most  of  their  time  there.  LBS 
provided  in  manmade  structures  is  called  indoor  LBS.  Kids  care  in  amusement  parks, 
senior  care,  building  management,  and  personalized  smart  service  are  types  of  indoor 
LBS  and  indoor  LBS  performs  crucial  roles  in  life-saving  in  fire  and  emergency 
evacuation [1]. 

Global  Positioning  System  (GPS)  and  Global  Navigation  Satellite  System 
(GLONASS) provide the general solutions of positioning for outdoor LBS. Google maps, 
Naver  Maps,  Daum  Maps  and  others  provide  the  general  solution  of  user  interface  for 
outdoor LBS. However, there are no general solutions of indoor positioning and of user 

                                                           
* Corresponding Author 

ISSN: 1738-9984 IJSEIA  
Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
interface  for  indoor  LBS.  Therefore,  techniques  for  indoor  LBS  are  still  hot  research 
topics [2, 3]. 

Tourist  guide  mobile  apps  explain  the  origins  of  manufacturing  methods  of,  and 
historical facts associated with the ruins and relics of ancient times to tourists on behalf 
of tourist guides. Therefore, a tourist guide app must recognize the ruin and the relic that 
the  tourist  is  watching.  Recognizing  the  things  that  the  user  is  watching  requires 
recognizing the position where the tourist is located. 

Nowadays,  almost  everybody  carries  a  smartphone  that  is  equipped  with  a  fast 
processor, a large capacity memory, a GPS receiver, and various accurate sensors. Thus, 
smartphones are the best candidate platform where tourist guide apps run. 

This  paper  provides  the  details  on  the  development  of  an  indoor  and  outdoor 
positioning  app  that  can  be  plugged  into  a  tourist  guide  app  as  an  accurate  location 
provider.  Outdoor  positioning  can  be  done  by  using  GPS.  Once  we  have  the  position 
from  the  GPS,  we  can  determine  the  things  that  the  user  is  watching  with  the  sensor 
values from the smartphone sensors. 

There  is  no  general  solution  of  indoor  positioning.  We  introduce  an  enhanced  dead 
reckoning  (EDR)  indoor  positioning.  EDR  recognizes  the  moment  when  the  user  is 
entering  a  manmade  structure  and  uses  the  entrance  as  the  start  point  of  the  dead 
reckoning  process.  EDR  counts  steps  with  accelerometer  values  and  determines  the 
direction with orientation values. With the step count and the direction, EDR determines 
the user's current position as the ordinary dead reckoning process does. The uniqueness 
of EDR is that it recognizes when the user is not moving, finds out the point of interest 
(POI)  in  which  the  user  is  interested,  and  adjusts  the  result  of  dead  reckoning  with  the 
position of the POI.  

We  implemented  our  indoor  and  outdoor  positioning  app  and  tested  it  in  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park.  Our  test  results  showed  that  our  positioning 
app is efficient and accurate enough to be used in practical tourist guide apps. 
 
2. Related Works 

As  buildings  and  underground  facilities  such  as  shopping  malls  around  subway 
stations  are  getting  bigger  numbers  of  people,  the  duration  of  time  people  work 
inside  a  building  is  longer  than  that  of  people  working  outside  the  building.  It 
frequently  happens  to  us  to  visit  a  huge  manmade  structure  to  do  something. 
Therefore, indoor LBS and indoor positioning have attracted a lot of attention from 
researchers.  The  smart  guide  that  shows  the  way  to  viewpoints  [4],  the  museum 
guide [5], and the indoor navigation system [6] are a few examples of Indoor LBS.  
techniques  and 
emphasized  that  extending  GIS  (Geographic  Information  System)  to  manmade 
structures is a requirement for fostering indoor LBS industry. 

The  authors  of  [1]  surveyed  various 

indoor  positioning 

So  many  indoor  positioning  techniques  have  been  proposed.  The  techniques 
proposed  in  the  early  stage  of  the  indoor  positioning  required  special  equipment 
dedicated  to  positioning.  The  method  introduced  in  [7]  required  attaching  beacons 
and sending out infrared to the  moving  objects and to install receivers at rooms so 
that  the  system  could  recognize  in  which  room  a  user  is  located.  The  method 
introduced  in  [8]  required  attaching  beacons  to  moving  objects  to  send  out  both 
radio wave and sound wave and to install many receivers in the ceilings so that the 
system accurately estimated the moving object's position. The method introduced in 
[9]  worked  in  the  reverse  way,  in  that  the  beacons  are  installed  at  fixed  positions 
whereas  a  receiver  is  attached  to  a  moving  object  so  that  the  moving  object  could 
identify where it is located.  

Using  special  equipment,  we  can  extremely  correctly  estimate  the  location  of  a 
moving  object.  However,  a  technique  that  requires  special  equipment  cannot  be  a 

196  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

general  solution  for  indoor  positioning.  Meanwhile,  wireless  local  area  networks 
(WLAN)  spread  widely  and  became  available  almost  everywhere.  Thus,  many 
WLAN  based  indoor  positioning  techniques  were  introduced  and  are  still  being 
studied. For example, the techniques introduced in [10, 11] are WLAN based.  

Smartphones  are  equipped  with  various  sensors,  powerful  processors,  and  large 
capacity memories. Smartphones have been so widely spread that almost everybody 
has a smartphone and carries the smartphone all the time because a smartphone has 
become  a  daily  necessity.  Therefore,  smartphone  based  indoor  positioning  and 
indoor  LBS  have  been  hot  research  topics.  For  example,  the  authors  of  [12] 
introduced a smartphone based indoor positioning method. Since smartphone based 
indoor positioning uses the sensors equipped on the smartphone, it can be generally 
used  in  developing  applications.  Furthermore,  a  smartphone  is  a  perfect  candidate 
platform  for  indoor  LBS  because  it  has  enough  memory  space  to  save  floor  maps 
and its computing power is more than enough to execute LBS applications.   

As  is  discussed,  the  environments  of  indoor  positioning  have  significantly 
evolved.  However,  the  basic  processes  of  determining  the  position  have  not 
changed much. They can be classified into the fingerprinting, trilateration, and dead 
reckoning. The deployment of fingerprinting consists of two  phases: off -line phase 
and real-time phase. During the off-line phase, we create a fingerprint for all CP i in 
candidate  points.  A  fingerprint  of  CP i  is  anything  that  identifies  CP i.  All  sensor 
values  collected  at  CPi  can  be  used  as  a  fingerprint  of  CP i.  During  the  real-time 
phase,  it  collects  sensor  values,  X,  finds  the  fingerprint  that  is  closest  to  X,  and 
returns  CPi  that  is  associated  with  the  closest  fingerprint  as  the  current  position  of 
the moving object. One of the disadvantages of the fingerprinting process is that the 
off-line phase of it is very time-consuming. However, the idea of the process is easy 
to  understand  and  the  result  is  relatively  accurate,  so  the  fingerprinting  is  still 
widely  used  [5,  13-20].  The  trilateration  process  receives  signals  sent  from  fixed 
positions, transfers  either  or  both  of them  into distances and orientations. With the 
coordinates  of  the  fixed  positions,  distances  (ranges),  and  orientations,  the 
trilateration  process  calculates  the  position  of  the  moving  object.  If  the  signal  is 
reliable  then  the  result  is  accurate.  GPS  and  the  methods  used  in  [8,  9,  18-20] 
belong to this category. Examples of dead reckoning are introduced in [3, 20, 21].   

The  method  introduced  in  [20]  is  a  combination  of  dead  reckoning  and 
fingerprinting. The prediction methods such as the Kalman filter and particle fil ters 
are  introduced  in  [22].  The  collaboration  method  in  which  users  exchange  their 
positions is introduced in [6]. 
 
3. The Proposed Indoor Outdoor Positioning 

The application  should  be run  on  a  device  that is  possessed  and  carried  by  everyone 
and  should  not  rely  on  special  resources.  Otherwise,  we  cannot  generally  use  the 
application.  As  we  discussed  in  the  Related  Works  section,  smartphone  based  dead 
reckoning for indoor positioning and GPS for outdoor positioning can be considered as a 
general solution. The GPS is run by the USA government and is available anywhere and 
anytime as long as satellite signals are receivable. According to our experimental results, 
the error range of the GPS is less than 6 meters. The dead reckoning indoor positioning 
relies only on the sensors inside the smartphone and it can be considered to be a general 
solution of indoor positioning even though the error of it increases as time goes by.  

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

197 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 1. Important Components of our Indoor and Outdoor Positioning 

System 

In this paper, we improve the accuracy of dead reckoning indoor positioning, making 
use of the information we can find on the map and floor maps. The important components 
of  our  indoor  and  outdoor  positioning  system  are  shown  in  Figure  1.  In  the  floor  map 
repository,  the  floor  maps  of  the  manmade  structures  in  the  domain  are  stored. 
Information on points of interest we can find indoor/outdoor is stored in the Indoor POI 
DB/Outdoor POI DB. Our app downloads information of POI and floor maps via the POI 
Web server and the map Web server.  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 2. The Classes for Outdoor Positioning 

198  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 3. A Flowchart for OutdoorTraceThread 

For outdoor positioning, we defined classes shown in Figure 2. OutdoorTraceActivity 
uses  LocationManager  provided  by  the  Android  operating  system.  MapView  is  a  view 
which  displays  a  map.  In  MyMath,  the  methods  to  calculate  the  mean  and  standard 
deviation are defined. OutdoorTraceThread reads GPS and checks if the user is moving 
or not by investigating the speed attribute obtained from the GPS receiver. If the user is 
moving, then it repeats reading GPS after sleeping for a while. Otherwise, it finds the POI 
that  is  nearest  to  the  user's  current  position.  If  the  distance  between  that  POI  and  the 
user's  current  position  is  less  than  a  threshold,  then  it  determines  that  the  user's  current 
position  is  the  position  of  the  POI.  It  repeats  this  process  until  the  user  enters  the 
building. This process of OutdoorTraceThread is described in Figure 3. 

The process to determine whether the user is inside or outside a building is described 
in Figure 4. It collects GPS signals every one second. If the average of recently collected 
five  accuracy  attributes  is  greater  than  a  threshold  then  it  determines  that  the  user  is 
inside the building. As is shown in Figure 5, the accuracy is high when the user is inside a 
building. 

For indoor positioning, we defined the classes shown in Figure 6. IndoorTraceActivity 
uses  SensorManager  in  order  to  read  the  accelerometer  and  orientation  sensors. 
IndoorTraceThread counts the number of steps taken by the user, determines whether the 
user  is  moving  or  not,  and  determines  the  direction  the  user  is  taking.  The 
DownloadFloorPlanThread downloads floor maps via HTTP GET method. MyView is a 
View which displays a floor map.  

 

 

 

Copyright ⓒ 2015 SERSC 

 

199 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 4. The Process to Determine whether the User is Inside a Building or 

Not 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 5. The Accuracy of GPS is High when the User is in a Building 

200  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015), pp. 195-208 
http://dx.doi.org/10.14257/ijseia.2015.9.3.19 
 
 

Development of an Indoor-Outdoor Positioning Android App for 

Anapji Tourist Guides 

Kyubark Shim1, Jaegeol Yim2* and Junri Jeon2 

 
 

1Department of Applied Statistics 

2Department of Computer Engineering 

Dongguk University at Gyeongju, Gyeongbuk, Korea 

{shim, yim, junri}@dongguk.ac.kr 

Abstract 

This paper introduces the development details of an Indoor and Outdoor Positioning 
Android app for Anapji, an artificial pond in Gyeongju National Park in Korea, tourist 
guide  apps.  There  is  a  pathway  around  the  pond,  with  around  10  viewpoints  and 
Imhaejeon, a gazebo-like Korean traditional house, along this pathway. In Imhaejeon, we 
can  find  an  Anapji  bird's-eye  view  at  the  center  and  12  cultural  artifacts  unearthed  at 
Anapji displayed along the four edges of Imhaejeon. Tourists walk along the pathway and 
stop  at  a  viewpoint  to  enjoy  the  scenic  beauty  at  their  wish.  Most  of  them  also  enter 
Imhaejeon, walk along the edge, and stop in front of an artifact to watch it. Whenever a 
tourist stops to watch something, tourist guide apps show a content that is closely related 
to  the  thing  that  is  being  watched.  The  content  can  be  a  video  clip  describing  how  the 
artifact was crafted or a video game that mimics an ancient game played by the people in 
the  8th  century.  This  kind  of  tourist  guide  app  cannot  be  realized  unless  they  can 
recognize the position where the user is located. This paper develops an indoor-outdoor 
positioning  Android  app  that  is  an  essential  part  of  tourist  guide  apps.  Our  indoor-
outdoor  positioning  app  uses  the  GPS  receiver  for  outdoor  positioning  whereas  it  uses 
the  dead  reckoning  method  for  indoor  positioning.  Our  test  results  showed  that  our 
indoor-outdoor positioning app is accurate enough to be used for practical tourist guide 
apps. 

 
Keywords: positioning; Android app; GPS; dead reckoning; indoor positioning. 

 
1. Introduction 

As it is included in Korea's future strategic industries, Location Based services (LBS) 
have been intensively studied. Now, it matured and  is widely used in our daily life and 
makes a good deal of contribution to the development of various industries. LBS should 
be available inside of manmade structures such as buildings, subways, and underground 
shopping  malls  because  they  are  huge  and  people  spend  most  of  their  time  there.  LBS 
provided  in  manmade  structures  is  called  indoor  LBS.  Kids  care  in  amusement  parks, 
senior  care,  building  management,  and  personalized  smart  service  are  types  of  indoor 
LBS  and  indoor  LBS  performs  crucial  roles  in  life-saving  in  fire  and  emergency 
evacuation [1]. 

Global  Positioning  System  (GPS)  and  Global  Navigation  Satellite  System 
(GLONASS) provide the general solutions of positioning for outdoor LBS. Google maps, 
Naver  Maps,  Daum  Maps  and  others  provide  the  general  solution  of  user  interface  for 
outdoor LBS. However, there are no general solutions of indoor positioning and of user 

                                                           
* Corresponding Author 

ISSN: 1738-9984 IJSEIA  
Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
interface  for  indoor  LBS.  Therefore,  techniques  for  indoor  LBS  are  still  hot  research 
topics [2, 3]. 

Tourist  guide  mobile  apps  explain  the  origins  of  manufacturing  methods  of,  and 
historical facts associated with the ruins and relics of ancient times to tourists on behalf 
of tourist guides. Therefore, a tourist guide app must recognize the ruin and the relic that 
the  tourist  is  watching.  Recognizing  the  things  that  the  user  is  watching  requires 
recognizing the position where the tourist is located. 

Nowadays,  almost  everybody  carries  a  smartphone  that  is  equipped  with  a  fast 
processor, a large capacity memory, a GPS receiver, and various accurate sensors. Thus, 
smartphones are the best candidate platform where tourist guide apps run. 

This  paper  provides  the  details  on  the  development  of  an  indoor  and  outdoor 
positioning  app  that  can  be  plugged  into  a  tourist  guide  app  as  an  accurate  location 
provider.  Outdoor  positioning  can  be  done  by  using  GPS.  Once  we  have  the  position 
from  the  GPS,  we  can  determine  the  things  that  the  user  is  watching  with  the  sensor 
values from the smartphone sensors. 

There  is  no  general  solution  of  indoor  positioning.  We  introduce  an  enhanced  dead 
reckoning  (EDR)  indoor  positioning.  EDR  recognizes  the  moment  when  the  user  is 
entering  a  manmade  structure  and  uses  the  entrance  as  the  start  point  of  the  dead 
reckoning  process.  EDR  counts  steps  with  accelerometer  values  and  determines  the 
direction with orientation values. With the step count and the direction, EDR determines 
the user's current position as the ordinary dead reckoning process does. The uniqueness 
of EDR is that it recognizes when the user is not moving, finds out the point of interest 
(POI)  in  which  the  user  is  interested,  and  adjusts  the  result  of  dead  reckoning  with  the 
position of the POI.  

We  implemented  our  indoor  and  outdoor  positioning  app  and  tested  it  in  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park.  Our  test  results  showed  that  our  positioning 
app is efficient and accurate enough to be used in practical tourist guide apps. 
 
2. Related Works 

As  buildings  and  underground  facilities  such  as  shopping  malls  around  subway 
stations  are  getting  bigger  numbers  of  people,  the  duration  of  time  people  work 
inside  a  building  is  longer  than  that  of  people  working  outside  the  building.  It 
frequently  happens  to  us  to  visit  a  huge  manmade  structure  to  do  something. 
Therefore, indoor LBS and indoor positioning have attracted a lot of attention from 
researchers.  The  smart  guide  that  shows  the  way  to  viewpoints  [4],  the  museum 
guide [5], and the indoor navigation system [6] are a few examples of Indoor LBS.  
techniques  and 
emphasized  that  extending  GIS  (Geographic  Information  System)  to  manmade 
structures is a requirement for fostering indoor LBS industry. 

The  authors  of  [1]  surveyed  various 

indoor  positioning 

So  many  indoor  positioning  techniques  have  been  proposed.  The  techniques 
proposed  in  the  early  stage  of  the  indoor  positioning  required  special  equipment 
dedicated  to  positioning.  The  method  introduced  in  [7]  required  attaching  beacons 
and sending out infrared to the  moving  objects and to install receivers at rooms so 
that  the  system  could  recognize  in  which  room  a  user  is  located.  The  method 
introduced  in  [8]  required  attaching  beacons  to  moving  objects  to  send  out  both 
radio wave and sound wave and to install many receivers in the ceilings so that the 
system accurately estimated the moving object's position. The method introduced in 
[9]  worked  in  the  reverse  way,  in  that  the  beacons  are  installed  at  fixed  positions 
whereas  a  receiver  is  attached  to  a  moving  object  so  that  the  moving  object  could 
identify where it is located.  

Using  special  equipment,  we  can  extremely  correctly  estimate  the  location  of  a 
moving  object.  However,  a  technique  that  requires  special  equipment  cannot  be  a 

196  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

general  solution  for  indoor  positioning.  Meanwhile,  wireless  local  area  networks 
(WLAN)  spread  widely  and  became  available  almost  everywhere.  Thus,  many 
WLAN  based  indoor  positioning  techniques  were  introduced  and  are  still  being 
studied. For example, the techniques introduced in [10, 11] are WLAN based.  

Smartphones  are  equipped  with  various  sensors,  powerful  processors,  and  large 
capacity memories. Smartphones have been so widely spread that almost everybody 
has a smartphone and carries the smartphone all the time because a smartphone has 
become  a  daily  necessity.  Therefore,  smartphone  based  indoor  positioning  and 
indoor  LBS  have  been  hot  research  topics.  For  example,  the  authors  of  [12] 
introduced a smartphone based indoor positioning method. Since smartphone based 
indoor positioning uses the sensors equipped on the smartphone, it can be generally 
used  in  developing  applications.  Furthermore,  a  smartphone  is  a  perfect  candidate 
platform  for  indoor  LBS  because  it  has  enough  memory  space  to  save  floor  maps 
and its computing power is more than enough to execute LBS applications.   

As  is  discussed,  the  environments  of  indoor  positioning  have  significantly 
evolved.  However,  the  basic  processes  of  determining  the  position  have  not 
changed much. They can be classified into the fingerprinting, trilateration, and dead 
reckoning. The deployment of fingerprinting consists of two  phases: off -line phase 
and real-time phase. During the off-line phase, we create a fingerprint for all CP i in 
candidate  points.  A  fingerprint  of  CP i  is  anything  that  identifies  CP i.  All  sensor 
values  collected  at  CPi  can  be  used  as  a  fingerprint  of  CP i.  During  the  real-time 
phase,  it  collects  sensor  values,  X,  finds  the  fingerprint  that  is  closest  to  X,  and 
returns  CPi  that  is  associated  with  the  closest  fingerprint  as  the  current  position  of 
the moving object. One of the disadvantages of the fingerprinting process is that the 
off-line phase of it is very time-consuming. However, the idea of the process is easy 
to  understand  and  the  result  is  relatively  accurate,  so  the  fingerprinting  is  still 
widely  used  [5,  13-20].  The  trilateration  process  receives  signals  sent  from  fixed 
positions, transfers  either  or  both  of them  into distances and orientations. With the 
coordinates  of  the  fixed  positions,  distances  (ranges),  and  orientations,  the 
trilateration  process  calculates  the  position  of  the  moving  object.  If  the  signal  is 
reliable  then  the  result  is  accurate.  GPS  and  the  methods  used  in  [8,  9,  18-20] 
belong to this category. Examples of dead reckoning are introduced in [3, 20, 21].   

The  method  introduced  in  [20]  is  a  combination  of  dead  reckoning  and 
fingerprinting. The prediction methods such as the Kalman filter and particle fil ters 
are  introduced  in  [22].  The  collaboration  method  in  which  users  exchange  their 
positions is introduced in [6]. 
 
3. The Proposed Indoor Outdoor Positioning 

The application  should  be run  on  a  device  that is  possessed  and  carried  by  everyone 
and  should  not  rely  on  special  resources.  Otherwise,  we  cannot  generally  use  the 
application.  As  we  discussed  in  the  Related  Works  section,  smartphone  based  dead 
reckoning for indoor positioning and GPS for outdoor positioning can be considered as a 
general solution. The GPS is run by the USA government and is available anywhere and 
anytime as long as satellite signals are receivable. According to our experimental results, 
the error range of the GPS is less than 6 meters. The dead reckoning indoor positioning 
relies only on the sensors inside the smartphone and it can be considered to be a general 
solution of indoor positioning even though the error of it increases as time goes by.  

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

197 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 1. Important Components of our Indoor and Outdoor Positioning 

System 

In this paper, we improve the accuracy of dead reckoning indoor positioning, making 
use of the information we can find on the map and floor maps. The important components 
of  our  indoor  and  outdoor  positioning  system  are  shown  in  Figure  1.  In  the  floor  map 
repository,  the  floor  maps  of  the  manmade  structures  in  the  domain  are  stored. 
Information on points of interest we can find indoor/outdoor is stored in the Indoor POI 
DB/Outdoor POI DB. Our app downloads information of POI and floor maps via the POI 
Web server and the map Web server.  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 2. The Classes for Outdoor Positioning 

198  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 3. A Flowchart for OutdoorTraceThread 

For outdoor positioning, we defined classes shown in Figure 2. OutdoorTraceActivity 
uses  LocationManager  provided  by  the  Android  operating  system.  MapView  is  a  view 
which  displays  a  map.  In  MyMath,  the  methods  to  calculate  the  mean  and  standard 
deviation are defined. OutdoorTraceThread reads GPS and checks if the user is moving 
or not by investigating the speed attribute obtained from the GPS receiver. If the user is 
moving, then it repeats reading GPS after sleeping for a while. Otherwise, it finds the POI 
that  is  nearest  to  the  user's  current  position.  If  the  distance  between  that  POI  and  the 
user's  current  position  is  less  than  a  threshold,  then  it  determines  that  the  user's  current 
position  is  the  position  of  the  POI.  It  repeats  this  process  until  the  user  enters  the 
building. This process of OutdoorTraceThread is described in Figure 3. 

The process to determine whether the user is inside or outside a building is described 
in Figure 4. It collects GPS signals every one second. If the average of recently collected 
five  accuracy  attributes  is  greater  than  a  threshold  then  it  determines  that  the  user  is 
inside the building. As is shown in Figure 5, the accuracy is high when the user is inside a 
building. 

For indoor positioning, we defined the classes shown in Figure 6. IndoorTraceActivity 
uses  SensorManager  in  order  to  read  the  accelerometer  and  orientation  sensors. 
IndoorTraceThread counts the number of steps taken by the user, determines whether the 
user  is  moving  or  not,  and  determines  the  direction  the  user  is  taking.  The 
DownloadFloorPlanThread downloads floor maps via HTTP GET method. MyView is a 
View which displays a floor map.  

 

 

 

Copyright ⓒ 2015 SERSC 

 

199 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 4. The Process to Determine whether the User is Inside a Building or 

Not 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 5. The Accuracy of GPS is High when the User is in a Building 

200  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

Figure 6. The Classes for Indoor Positioning 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 7. The Process of Recognizing a Step Defined in the StepCheck 

Class 

Referring  to  the  value  of  the  accelerometer  sensor,  the  StepCheck  class  recognizes a 
step  taken  by  the  user.  While  the  user  takes  a  step,  the  value  of  the  accelerometer 
increases to the pos_peek value, and then decreases to the neg_peek value. Therefore, the 

Copyright ⓒ 2015 SERSC 

 

201 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015), pp. 195-208 
http://dx.doi.org/10.14257/ijseia.2015.9.3.19 
 
 

Development of an Indoor-Outdoor Positioning Android App for 

Anapji Tourist Guides 

Kyubark Shim1, Jaegeol Yim2* and Junri Jeon2 

 
 

1Department of Applied Statistics 

2Department of Computer Engineering 

Dongguk University at Gyeongju, Gyeongbuk, Korea 

{shim, yim, junri}@dongguk.ac.kr 

Abstract 

This paper introduces the development details of an Indoor and Outdoor Positioning 
Android app for Anapji, an artificial pond in Gyeongju National Park in Korea, tourist 
guide  apps.  There  is  a  pathway  around  the  pond,  with  around  10  viewpoints  and 
Imhaejeon, a gazebo-like Korean traditional house, along this pathway. In Imhaejeon, we 
can  find  an  Anapji  bird's-eye  view  at  the  center  and  12  cultural  artifacts  unearthed  at 
Anapji displayed along the four edges of Imhaejeon. Tourists walk along the pathway and 
stop  at  a  viewpoint  to  enjoy  the  scenic  beauty  at  their  wish.  Most  of  them  also  enter 
Imhaejeon, walk along the edge, and stop in front of an artifact to watch it. Whenever a 
tourist stops to watch something, tourist guide apps show a content that is closely related 
to  the  thing  that  is  being  watched.  The  content  can  be  a  video  clip  describing  how  the 
artifact was crafted or a video game that mimics an ancient game played by the people in 
the  8th  century.  This  kind  of  tourist  guide  app  cannot  be  realized  unless  they  can 
recognize the position where the user is located. This paper develops an indoor-outdoor 
positioning  Android  app  that  is  an  essential  part  of  tourist  guide  apps.  Our  indoor-
outdoor  positioning  app  uses  the  GPS  receiver  for  outdoor  positioning  whereas  it  uses 
the  dead  reckoning  method  for  indoor  positioning.  Our  test  results  showed  that  our 
indoor-outdoor positioning app is accurate enough to be used for practical tourist guide 
apps. 

 
Keywords: positioning; Android app; GPS; dead reckoning; indoor positioning. 

 
1. Introduction 

As it is included in Korea's future strategic industries, Location Based services (LBS) 
have been intensively studied. Now, it matured and  is widely used in our daily life and 
makes a good deal of contribution to the development of various industries. LBS should 
be available inside of manmade structures such as buildings, subways, and underground 
shopping  malls  because  they  are  huge  and  people  spend  most  of  their  time  there.  LBS 
provided  in  manmade  structures  is  called  indoor  LBS.  Kids  care  in  amusement  parks, 
senior  care,  building  management,  and  personalized  smart  service  are  types  of  indoor 
LBS  and  indoor  LBS  performs  crucial  roles  in  life-saving  in  fire  and  emergency 
evacuation [1]. 

Global  Positioning  System  (GPS)  and  Global  Navigation  Satellite  System 
(GLONASS) provide the general solutions of positioning for outdoor LBS. Google maps, 
Naver  Maps,  Daum  Maps  and  others  provide  the  general  solution  of  user  interface  for 
outdoor LBS. However, there are no general solutions of indoor positioning and of user 

                                                           
* Corresponding Author 

ISSN: 1738-9984 IJSEIA  
Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
interface  for  indoor  LBS.  Therefore,  techniques  for  indoor  LBS  are  still  hot  research 
topics [2, 3]. 

Tourist  guide  mobile  apps  explain  the  origins  of  manufacturing  methods  of,  and 
historical facts associated with the ruins and relics of ancient times to tourists on behalf 
of tourist guides. Therefore, a tourist guide app must recognize the ruin and the relic that 
the  tourist  is  watching.  Recognizing  the  things  that  the  user  is  watching  requires 
recognizing the position where the tourist is located. 

Nowadays,  almost  everybody  carries  a  smartphone  that  is  equipped  with  a  fast 
processor, a large capacity memory, a GPS receiver, and various accurate sensors. Thus, 
smartphones are the best candidate platform where tourist guide apps run. 

This  paper  provides  the  details  on  the  development  of  an  indoor  and  outdoor 
positioning  app  that  can  be  plugged  into  a  tourist  guide  app  as  an  accurate  location 
provider.  Outdoor  positioning  can  be  done  by  using  GPS.  Once  we  have  the  position 
from  the  GPS,  we  can  determine  the  things  that  the  user  is  watching  with  the  sensor 
values from the smartphone sensors. 

There  is  no  general  solution  of  indoor  positioning.  We  introduce  an  enhanced  dead 
reckoning  (EDR)  indoor  positioning.  EDR  recognizes  the  moment  when  the  user  is 
entering  a  manmade  structure  and  uses  the  entrance  as  the  start  point  of  the  dead 
reckoning  process.  EDR  counts  steps  with  accelerometer  values  and  determines  the 
direction with orientation values. With the step count and the direction, EDR determines 
the user's current position as the ordinary dead reckoning process does. The uniqueness 
of EDR is that it recognizes when the user is not moving, finds out the point of interest 
(POI)  in  which  the  user  is  interested,  and  adjusts  the  result  of  dead  reckoning  with  the 
position of the POI.  

We  implemented  our  indoor  and  outdoor  positioning  app  and  tested  it  in  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park.  Our  test  results  showed  that  our  positioning 
app is efficient and accurate enough to be used in practical tourist guide apps. 
 
2. Related Works 

As  buildings  and  underground  facilities  such  as  shopping  malls  around  subway 
stations  are  getting  bigger  numbers  of  people,  the  duration  of  time  people  work 
inside  a  building  is  longer  than  that  of  people  working  outside  the  building.  It 
frequently  happens  to  us  to  visit  a  huge  manmade  structure  to  do  something. 
Therefore, indoor LBS and indoor positioning have attracted a lot of attention from 
researchers.  The  smart  guide  that  shows  the  way  to  viewpoints  [4],  the  museum 
guide [5], and the indoor navigation system [6] are a few examples of Indoor LBS.  
techniques  and 
emphasized  that  extending  GIS  (Geographic  Information  System)  to  manmade 
structures is a requirement for fostering indoor LBS industry. 

The  authors  of  [1]  surveyed  various 

indoor  positioning 

So  many  indoor  positioning  techniques  have  been  proposed.  The  techniques 
proposed  in  the  early  stage  of  the  indoor  positioning  required  special  equipment 
dedicated  to  positioning.  The  method  introduced  in  [7]  required  attaching  beacons 
and sending out infrared to the  moving  objects and to install receivers at rooms so 
that  the  system  could  recognize  in  which  room  a  user  is  located.  The  method 
introduced  in  [8]  required  attaching  beacons  to  moving  objects  to  send  out  both 
radio wave and sound wave and to install many receivers in the ceilings so that the 
system accurately estimated the moving object's position. The method introduced in 
[9]  worked  in  the  reverse  way,  in  that  the  beacons  are  installed  at  fixed  positions 
whereas  a  receiver  is  attached  to  a  moving  object  so  that  the  moving  object  could 
identify where it is located.  

Using  special  equipment,  we  can  extremely  correctly  estimate  the  location  of  a 
moving  object.  However,  a  technique  that  requires  special  equipment  cannot  be  a 

196  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

general  solution  for  indoor  positioning.  Meanwhile,  wireless  local  area  networks 
(WLAN)  spread  widely  and  became  available  almost  everywhere.  Thus,  many 
WLAN  based  indoor  positioning  techniques  were  introduced  and  are  still  being 
studied. For example, the techniques introduced in [10, 11] are WLAN based.  

Smartphones  are  equipped  with  various  sensors,  powerful  processors,  and  large 
capacity memories. Smartphones have been so widely spread that almost everybody 
has a smartphone and carries the smartphone all the time because a smartphone has 
become  a  daily  necessity.  Therefore,  smartphone  based  indoor  positioning  and 
indoor  LBS  have  been  hot  research  topics.  For  example,  the  authors  of  [12] 
introduced a smartphone based indoor positioning method. Since smartphone based 
indoor positioning uses the sensors equipped on the smartphone, it can be generally 
used  in  developing  applications.  Furthermore,  a  smartphone  is  a  perfect  candidate 
platform  for  indoor  LBS  because  it  has  enough  memory  space  to  save  floor  maps 
and its computing power is more than enough to execute LBS applications.   

As  is  discussed,  the  environments  of  indoor  positioning  have  significantly 
evolved.  However,  the  basic  processes  of  determining  the  position  have  not 
changed much. They can be classified into the fingerprinting, trilateration, and dead 
reckoning. The deployment of fingerprinting consists of two  phases: off -line phase 
and real-time phase. During the off-line phase, we create a fingerprint for all CP i in 
candidate  points.  A  fingerprint  of  CP i  is  anything  that  identifies  CP i.  All  sensor 
values  collected  at  CPi  can  be  used  as  a  fingerprint  of  CP i.  During  the  real-time 
phase,  it  collects  sensor  values,  X,  finds  the  fingerprint  that  is  closest  to  X,  and 
returns  CPi  that  is  associated  with  the  closest  fingerprint  as  the  current  position  of 
the moving object. One of the disadvantages of the fingerprinting process is that the 
off-line phase of it is very time-consuming. However, the idea of the process is easy 
to  understand  and  the  result  is  relatively  accurate,  so  the  fingerprinting  is  still 
widely  used  [5,  13-20].  The  trilateration  process  receives  signals  sent  from  fixed 
positions, transfers  either  or  both  of them  into distances and orientations. With the 
coordinates  of  the  fixed  positions,  distances  (ranges),  and  orientations,  the 
trilateration  process  calculates  the  position  of  the  moving  object.  If  the  signal  is 
reliable  then  the  result  is  accurate.  GPS  and  the  methods  used  in  [8,  9,  18-20] 
belong to this category. Examples of dead reckoning are introduced in [3, 20, 21].   

The  method  introduced  in  [20]  is  a  combination  of  dead  reckoning  and 
fingerprinting. The prediction methods such as the Kalman filter and particle fil ters 
are  introduced  in  [22].  The  collaboration  method  in  which  users  exchange  their 
positions is introduced in [6]. 
 
3. The Proposed Indoor Outdoor Positioning 

The application  should  be run  on  a  device  that is  possessed  and  carried  by  everyone 
and  should  not  rely  on  special  resources.  Otherwise,  we  cannot  generally  use  the 
application.  As  we  discussed  in  the  Related  Works  section,  smartphone  based  dead 
reckoning for indoor positioning and GPS for outdoor positioning can be considered as a 
general solution. The GPS is run by the USA government and is available anywhere and 
anytime as long as satellite signals are receivable. According to our experimental results, 
the error range of the GPS is less than 6 meters. The dead reckoning indoor positioning 
relies only on the sensors inside the smartphone and it can be considered to be a general 
solution of indoor positioning even though the error of it increases as time goes by.  

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

197 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 1. Important Components of our Indoor and Outdoor Positioning 

System 

In this paper, we improve the accuracy of dead reckoning indoor positioning, making 
use of the information we can find on the map and floor maps. The important components 
of  our  indoor  and  outdoor  positioning  system  are  shown  in  Figure  1.  In  the  floor  map 
repository,  the  floor  maps  of  the  manmade  structures  in  the  domain  are  stored. 
Information on points of interest we can find indoor/outdoor is stored in the Indoor POI 
DB/Outdoor POI DB. Our app downloads information of POI and floor maps via the POI 
Web server and the map Web server.  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 2. The Classes for Outdoor Positioning 

198  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 3. A Flowchart for OutdoorTraceThread 

For outdoor positioning, we defined classes shown in Figure 2. OutdoorTraceActivity 
uses  LocationManager  provided  by  the  Android  operating  system.  MapView  is  a  view 
which  displays  a  map.  In  MyMath,  the  methods  to  calculate  the  mean  and  standard 
deviation are defined. OutdoorTraceThread reads GPS and checks if the user is moving 
or not by investigating the speed attribute obtained from the GPS receiver. If the user is 
moving, then it repeats reading GPS after sleeping for a while. Otherwise, it finds the POI 
that  is  nearest  to  the  user's  current  position.  If  the  distance  between  that  POI  and  the 
user's  current  position  is  less  than  a  threshold,  then  it  determines  that  the  user's  current 
position  is  the  position  of  the  POI.  It  repeats  this  process  until  the  user  enters  the 
building. This process of OutdoorTraceThread is described in Figure 3. 

The process to determine whether the user is inside or outside a building is described 
in Figure 4. It collects GPS signals every one second. If the average of recently collected 
five  accuracy  attributes  is  greater  than  a  threshold  then  it  determines  that  the  user  is 
inside the building. As is shown in Figure 5, the accuracy is high when the user is inside a 
building. 

For indoor positioning, we defined the classes shown in Figure 6. IndoorTraceActivity 
uses  SensorManager  in  order  to  read  the  accelerometer  and  orientation  sensors. 
IndoorTraceThread counts the number of steps taken by the user, determines whether the 
user  is  moving  or  not,  and  determines  the  direction  the  user  is  taking.  The 
DownloadFloorPlanThread downloads floor maps via HTTP GET method. MyView is a 
View which displays a floor map.  

 

 

 

Copyright ⓒ 2015 SERSC 

 

199 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 4. The Process to Determine whether the User is Inside a Building or 

Not 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 5. The Accuracy of GPS is High when the User is in a Building 

200  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

Figure 6. The Classes for Indoor Positioning 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 7. The Process of Recognizing a Step Defined in the StepCheck 

Class 

Referring  to  the  value  of  the  accelerometer  sensor,  the  StepCheck  class  recognizes a 
step  taken  by  the  user.  While  the  user  takes  a  step,  the  value  of  the  accelerometer 
increases to the pos_peek value, and then decreases to the neg_peek value. Therefore, the 

Copyright ⓒ 2015 SERSC 

 

201 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
StepCheck  increases  the  number  of steps  whenever the  accelerometer  value  reaches the 
neg_peek after reaching the pos_peek as shown in Figure 7.  

 

 

 

 

 

 

 

 

 

 

 

Figure 8. The Process to Determine whether the User is Moving or Not 

Figure 9. The Process of Recognizing the POI that the User is Watching 

When  the  GPS  is  available,  we  can  determine  whether  the  user  is  moving  or  not  by 
investigating  the  speed  attribute  of  the  GPS.  In  indoor  positioning,  the  GPS  is  not 
available  and  we  investigate  the  accelerometer  values.  If  the  standard  deviation  of 
recently collected k accelerometer values is less than a threshold, then we conclude that 
the user is not moving as shown in Figure 8. 

The process of recognizing the POI that the user is watching is shown in Figure 9. This 
process  uses  the  StopStateCheck,  StepCheck,  DrawingOrientation,  and  UserOrientation 
classes. Using the StopStateCheck class, it determines if the user is moving or not. If the 
user  is  moving,  then  it  goes  back  to  the  step  of  reading  the  accelerometer  sensor; 
otherwise it proceeds to the next step of recognizing the POI that the user is watching.  

Using the StepCheck class, it recognizes a step taken by the user and updates the user's 
current position for every step until the last accelerometer value is reached. When the last 

202  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015), pp. 195-208 
http://dx.doi.org/10.14257/ijseia.2015.9.3.19 
 
 

Development of an Indoor-Outdoor Positioning Android App for 

Anapji Tourist Guides 

Kyubark Shim1, Jaegeol Yim2* and Junri Jeon2 

 
 

1Department of Applied Statistics 

2Department of Computer Engineering 

Dongguk University at Gyeongju, Gyeongbuk, Korea 

{shim, yim, junri}@dongguk.ac.kr 

Abstract 

This paper introduces the development details of an Indoor and Outdoor Positioning 
Android app for Anapji, an artificial pond in Gyeongju National Park in Korea, tourist 
guide  apps.  There  is  a  pathway  around  the  pond,  with  around  10  viewpoints  and 
Imhaejeon, a gazebo-like Korean traditional house, along this pathway. In Imhaejeon, we 
can  find  an  Anapji  bird's-eye  view  at  the  center  and  12  cultural  artifacts  unearthed  at 
Anapji displayed along the four edges of Imhaejeon. Tourists walk along the pathway and 
stop  at  a  viewpoint  to  enjoy  the  scenic  beauty  at  their  wish.  Most  of  them  also  enter 
Imhaejeon, walk along the edge, and stop in front of an artifact to watch it. Whenever a 
tourist stops to watch something, tourist guide apps show a content that is closely related 
to  the  thing  that  is  being  watched.  The  content  can  be  a  video  clip  describing  how  the 
artifact was crafted or a video game that mimics an ancient game played by the people in 
the  8th  century.  This  kind  of  tourist  guide  app  cannot  be  realized  unless  they  can 
recognize the position where the user is located. This paper develops an indoor-outdoor 
positioning  Android  app  that  is  an  essential  part  of  tourist  guide  apps.  Our  indoor-
outdoor  positioning  app  uses  the  GPS  receiver  for  outdoor  positioning  whereas  it  uses 
the  dead  reckoning  method  for  indoor  positioning.  Our  test  results  showed  that  our 
indoor-outdoor positioning app is accurate enough to be used for practical tourist guide 
apps. 

 
Keywords: positioning; Android app; GPS; dead reckoning; indoor positioning. 

 
1. Introduction 

As it is included in Korea's future strategic industries, Location Based services (LBS) 
have been intensively studied. Now, it matured and  is widely used in our daily life and 
makes a good deal of contribution to the development of various industries. LBS should 
be available inside of manmade structures such as buildings, subways, and underground 
shopping  malls  because  they  are  huge  and  people  spend  most  of  their  time  there.  LBS 
provided  in  manmade  structures  is  called  indoor  LBS.  Kids  care  in  amusement  parks, 
senior  care,  building  management,  and  personalized  smart  service  are  types  of  indoor 
LBS  and  indoor  LBS  performs  crucial  roles  in  life-saving  in  fire  and  emergency 
evacuation [1]. 

Global  Positioning  System  (GPS)  and  Global  Navigation  Satellite  System 
(GLONASS) provide the general solutions of positioning for outdoor LBS. Google maps, 
Naver  Maps,  Daum  Maps  and  others  provide  the  general  solution  of  user  interface  for 
outdoor LBS. However, there are no general solutions of indoor positioning and of user 

                                                           
* Corresponding Author 

ISSN: 1738-9984 IJSEIA  
Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
interface  for  indoor  LBS.  Therefore,  techniques  for  indoor  LBS  are  still  hot  research 
topics [2, 3]. 

Tourist  guide  mobile  apps  explain  the  origins  of  manufacturing  methods  of,  and 
historical facts associated with the ruins and relics of ancient times to tourists on behalf 
of tourist guides. Therefore, a tourist guide app must recognize the ruin and the relic that 
the  tourist  is  watching.  Recognizing  the  things  that  the  user  is  watching  requires 
recognizing the position where the tourist is located. 

Nowadays,  almost  everybody  carries  a  smartphone  that  is  equipped  with  a  fast 
processor, a large capacity memory, a GPS receiver, and various accurate sensors. Thus, 
smartphones are the best candidate platform where tourist guide apps run. 

This  paper  provides  the  details  on  the  development  of  an  indoor  and  outdoor 
positioning  app  that  can  be  plugged  into  a  tourist  guide  app  as  an  accurate  location 
provider.  Outdoor  positioning  can  be  done  by  using  GPS.  Once  we  have  the  position 
from  the  GPS,  we  can  determine  the  things  that  the  user  is  watching  with  the  sensor 
values from the smartphone sensors. 

There  is  no  general  solution  of  indoor  positioning.  We  introduce  an  enhanced  dead 
reckoning  (EDR)  indoor  positioning.  EDR  recognizes  the  moment  when  the  user  is 
entering  a  manmade  structure  and  uses  the  entrance  as  the  start  point  of  the  dead 
reckoning  process.  EDR  counts  steps  with  accelerometer  values  and  determines  the 
direction with orientation values. With the step count and the direction, EDR determines 
the user's current position as the ordinary dead reckoning process does. The uniqueness 
of EDR is that it recognizes when the user is not moving, finds out the point of interest 
(POI)  in  which  the  user  is  interested,  and  adjusts  the  result  of  dead  reckoning  with  the 
position of the POI.  

We  implemented  our  indoor  and  outdoor  positioning  app  and  tested  it  in  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park.  Our  test  results  showed  that  our  positioning 
app is efficient and accurate enough to be used in practical tourist guide apps. 
 
2. Related Works 

As  buildings  and  underground  facilities  such  as  shopping  malls  around  subway 
stations  are  getting  bigger  numbers  of  people,  the  duration  of  time  people  work 
inside  a  building  is  longer  than  that  of  people  working  outside  the  building.  It 
frequently  happens  to  us  to  visit  a  huge  manmade  structure  to  do  something. 
Therefore, indoor LBS and indoor positioning have attracted a lot of attention from 
researchers.  The  smart  guide  that  shows  the  way  to  viewpoints  [4],  the  museum 
guide [5], and the indoor navigation system [6] are a few examples of Indoor LBS.  
techniques  and 
emphasized  that  extending  GIS  (Geographic  Information  System)  to  manmade 
structures is a requirement for fostering indoor LBS industry. 

The  authors  of  [1]  surveyed  various 

indoor  positioning 

So  many  indoor  positioning  techniques  have  been  proposed.  The  techniques 
proposed  in  the  early  stage  of  the  indoor  positioning  required  special  equipment 
dedicated  to  positioning.  The  method  introduced  in  [7]  required  attaching  beacons 
and sending out infrared to the  moving  objects and to install receivers at rooms so 
that  the  system  could  recognize  in  which  room  a  user  is  located.  The  method 
introduced  in  [8]  required  attaching  beacons  to  moving  objects  to  send  out  both 
radio wave and sound wave and to install many receivers in the ceilings so that the 
system accurately estimated the moving object's position. The method introduced in 
[9]  worked  in  the  reverse  way,  in  that  the  beacons  are  installed  at  fixed  positions 
whereas  a  receiver  is  attached  to  a  moving  object  so  that  the  moving  object  could 
identify where it is located.  

Using  special  equipment,  we  can  extremely  correctly  estimate  the  location  of  a 
moving  object.  However,  a  technique  that  requires  special  equipment  cannot  be  a 

196  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

general  solution  for  indoor  positioning.  Meanwhile,  wireless  local  area  networks 
(WLAN)  spread  widely  and  became  available  almost  everywhere.  Thus,  many 
WLAN  based  indoor  positioning  techniques  were  introduced  and  are  still  being 
studied. For example, the techniques introduced in [10, 11] are WLAN based.  

Smartphones  are  equipped  with  various  sensors,  powerful  processors,  and  large 
capacity memories. Smartphones have been so widely spread that almost everybody 
has a smartphone and carries the smartphone all the time because a smartphone has 
become  a  daily  necessity.  Therefore,  smartphone  based  indoor  positioning  and 
indoor  LBS  have  been  hot  research  topics.  For  example,  the  authors  of  [12] 
introduced a smartphone based indoor positioning method. Since smartphone based 
indoor positioning uses the sensors equipped on the smartphone, it can be generally 
used  in  developing  applications.  Furthermore,  a  smartphone  is  a  perfect  candidate 
platform  for  indoor  LBS  because  it  has  enough  memory  space  to  save  floor  maps 
and its computing power is more than enough to execute LBS applications.   

As  is  discussed,  the  environments  of  indoor  positioning  have  significantly 
evolved.  However,  the  basic  processes  of  determining  the  position  have  not 
changed much. They can be classified into the fingerprinting, trilateration, and dead 
reckoning. The deployment of fingerprinting consists of two  phases: off -line phase 
and real-time phase. During the off-line phase, we create a fingerprint for all CP i in 
candidate  points.  A  fingerprint  of  CP i  is  anything  that  identifies  CP i.  All  sensor 
values  collected  at  CPi  can  be  used  as  a  fingerprint  of  CP i.  During  the  real-time 
phase,  it  collects  sensor  values,  X,  finds  the  fingerprint  that  is  closest  to  X,  and 
returns  CPi  that  is  associated  with  the  closest  fingerprint  as  the  current  position  of 
the moving object. One of the disadvantages of the fingerprinting process is that the 
off-line phase of it is very time-consuming. However, the idea of the process is easy 
to  understand  and  the  result  is  relatively  accurate,  so  the  fingerprinting  is  still 
widely  used  [5,  13-20].  The  trilateration  process  receives  signals  sent  from  fixed 
positions, transfers  either  or  both  of them  into distances and orientations. With the 
coordinates  of  the  fixed  positions,  distances  (ranges),  and  orientations,  the 
trilateration  process  calculates  the  position  of  the  moving  object.  If  the  signal  is 
reliable  then  the  result  is  accurate.  GPS  and  the  methods  used  in  [8,  9,  18-20] 
belong to this category. Examples of dead reckoning are introduced in [3, 20, 21].   

The  method  introduced  in  [20]  is  a  combination  of  dead  reckoning  and 
fingerprinting. The prediction methods such as the Kalman filter and particle fil ters 
are  introduced  in  [22].  The  collaboration  method  in  which  users  exchange  their 
positions is introduced in [6]. 
 
3. The Proposed Indoor Outdoor Positioning 

The application  should  be run  on  a  device  that is  possessed  and  carried  by  everyone 
and  should  not  rely  on  special  resources.  Otherwise,  we  cannot  generally  use  the 
application.  As  we  discussed  in  the  Related  Works  section,  smartphone  based  dead 
reckoning for indoor positioning and GPS for outdoor positioning can be considered as a 
general solution. The GPS is run by the USA government and is available anywhere and 
anytime as long as satellite signals are receivable. According to our experimental results, 
the error range of the GPS is less than 6 meters. The dead reckoning indoor positioning 
relies only on the sensors inside the smartphone and it can be considered to be a general 
solution of indoor positioning even though the error of it increases as time goes by.  

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

197 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 1. Important Components of our Indoor and Outdoor Positioning 

System 

In this paper, we improve the accuracy of dead reckoning indoor positioning, making 
use of the information we can find on the map and floor maps. The important components 
of  our  indoor  and  outdoor  positioning  system  are  shown  in  Figure  1.  In  the  floor  map 
repository,  the  floor  maps  of  the  manmade  structures  in  the  domain  are  stored. 
Information on points of interest we can find indoor/outdoor is stored in the Indoor POI 
DB/Outdoor POI DB. Our app downloads information of POI and floor maps via the POI 
Web server and the map Web server.  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 2. The Classes for Outdoor Positioning 

198  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 3. A Flowchart for OutdoorTraceThread 

For outdoor positioning, we defined classes shown in Figure 2. OutdoorTraceActivity 
uses  LocationManager  provided  by  the  Android  operating  system.  MapView  is  a  view 
which  displays  a  map.  In  MyMath,  the  methods  to  calculate  the  mean  and  standard 
deviation are defined. OutdoorTraceThread reads GPS and checks if the user is moving 
or not by investigating the speed attribute obtained from the GPS receiver. If the user is 
moving, then it repeats reading GPS after sleeping for a while. Otherwise, it finds the POI 
that  is  nearest  to  the  user's  current  position.  If  the  distance  between  that  POI  and  the 
user's  current  position  is  less  than  a  threshold,  then  it  determines  that  the  user's  current 
position  is  the  position  of  the  POI.  It  repeats  this  process  until  the  user  enters  the 
building. This process of OutdoorTraceThread is described in Figure 3. 

The process to determine whether the user is inside or outside a building is described 
in Figure 4. It collects GPS signals every one second. If the average of recently collected 
five  accuracy  attributes  is  greater  than  a  threshold  then  it  determines  that  the  user  is 
inside the building. As is shown in Figure 5, the accuracy is high when the user is inside a 
building. 

For indoor positioning, we defined the classes shown in Figure 6. IndoorTraceActivity 
uses  SensorManager  in  order  to  read  the  accelerometer  and  orientation  sensors. 
IndoorTraceThread counts the number of steps taken by the user, determines whether the 
user  is  moving  or  not,  and  determines  the  direction  the  user  is  taking.  The 
DownloadFloorPlanThread downloads floor maps via HTTP GET method. MyView is a 
View which displays a floor map.  

 

 

 

Copyright ⓒ 2015 SERSC 

 

199 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 4. The Process to Determine whether the User is Inside a Building or 

Not 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 5. The Accuracy of GPS is High when the User is in a Building 

200  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

Figure 6. The Classes for Indoor Positioning 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 7. The Process of Recognizing a Step Defined in the StepCheck 

Class 

Referring  to  the  value  of  the  accelerometer  sensor,  the  StepCheck  class  recognizes a 
step  taken  by  the  user.  While  the  user  takes  a  step,  the  value  of  the  accelerometer 
increases to the pos_peek value, and then decreases to the neg_peek value. Therefore, the 

Copyright ⓒ 2015 SERSC 

 

201 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
StepCheck  increases  the  number  of steps  whenever the  accelerometer  value  reaches the 
neg_peek after reaching the pos_peek as shown in Figure 7.  

 

 

 

 

 

 

 

 

 

 

 

Figure 8. The Process to Determine whether the User is Moving or Not 

Figure 9. The Process of Recognizing the POI that the User is Watching 

When  the  GPS  is  available,  we  can  determine  whether  the  user  is  moving  or  not  by 
investigating  the  speed  attribute  of  the  GPS.  In  indoor  positioning,  the  GPS  is  not 
available  and  we  investigate  the  accelerometer  values.  If  the  standard  deviation  of 
recently collected k accelerometer values is less than a threshold, then we conclude that 
the user is not moving as shown in Figure 8. 

The process of recognizing the POI that the user is watching is shown in Figure 9. This 
process  uses  the  StopStateCheck,  StepCheck,  DrawingOrientation,  and  UserOrientation 
classes. Using the StopStateCheck class, it determines if the user is moving or not. If the 
user  is  moving,  then  it  goes  back  to  the  step  of  reading  the  accelerometer  sensor; 
otherwise it proceeds to the next step of recognizing the POI that the user is watching.  

Using the StepCheck class, it recognizes a step taken by the user and updates the user's 
current position for every step until the last accelerometer value is reached. When the last 

202  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
accelerometer  value  is  reached,  it  determines  whether  the  user  is  facing  north  (TOP), 
south  (BOTTOM),  east  (RIGHT),  or  west  (LEFT),  by  using  the  UserOrientation  class. 
Then, it finds the nearest POI. Assuming that the user's current position is the position of 
the  nearest  POI,  we  can  update the  user's  current  position to  the  position  of  the  nearest 
POI.  

We use the following expressions in order to find the relative x/y coordinate distance 

from the last position: 

where,  difOri  represents  the  direction,  550  represents  an  average  stride,  and  28.3 

 

represents the number of pixels in 1 cm. 
 
4. Experiments  

We  have  implemented  the  indoor-outdoor  positioning  system  for  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park,  on  an  LG  G4  smartphone.  We  can  find 
11  viewpoints  and  Imhaejeon,  a  gazebo-like  Korean  traditional  house  in  Anapji  as 
shown in Figure 10. 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 10. An Anapji Pond map 

A  list  of  the  viewpoints  in  Anapji  is  shown  in  Figure  11.  "Silk  Carp"  is  a  place 

where we can find a school of colorful carp.  

 

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

203 

3.28/)550*)(sin(sin3.28/)550*)(cos(cosdifOriradiansValdifOriradiansValInternational Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015), pp. 195-208 
http://dx.doi.org/10.14257/ijseia.2015.9.3.19 
 
 

Development of an Indoor-Outdoor Positioning Android App for 

Anapji Tourist Guides 

Kyubark Shim1, Jaegeol Yim2* and Junri Jeon2 

 
 

1Department of Applied Statistics 

2Department of Computer Engineering 

Dongguk University at Gyeongju, Gyeongbuk, Korea 

{shim, yim, junri}@dongguk.ac.kr 

Abstract 

This paper introduces the development details of an Indoor and Outdoor Positioning 
Android app for Anapji, an artificial pond in Gyeongju National Park in Korea, tourist 
guide  apps.  There  is  a  pathway  around  the  pond,  with  around  10  viewpoints  and 
Imhaejeon, a gazebo-like Korean traditional house, along this pathway. In Imhaejeon, we 
can  find  an  Anapji  bird's-eye  view  at  the  center  and  12  cultural  artifacts  unearthed  at 
Anapji displayed along the four edges of Imhaejeon. Tourists walk along the pathway and 
stop  at  a  viewpoint  to  enjoy  the  scenic  beauty  at  their  wish.  Most  of  them  also  enter 
Imhaejeon, walk along the edge, and stop in front of an artifact to watch it. Whenever a 
tourist stops to watch something, tourist guide apps show a content that is closely related 
to  the  thing  that  is  being  watched.  The  content  can  be  a  video  clip  describing  how  the 
artifact was crafted or a video game that mimics an ancient game played by the people in 
the  8th  century.  This  kind  of  tourist  guide  app  cannot  be  realized  unless  they  can 
recognize the position where the user is located. This paper develops an indoor-outdoor 
positioning  Android  app  that  is  an  essential  part  of  tourist  guide  apps.  Our  indoor-
outdoor  positioning  app  uses  the  GPS  receiver  for  outdoor  positioning  whereas  it  uses 
the  dead  reckoning  method  for  indoor  positioning.  Our  test  results  showed  that  our 
indoor-outdoor positioning app is accurate enough to be used for practical tourist guide 
apps. 

 
Keywords: positioning; Android app; GPS; dead reckoning; indoor positioning. 

 
1. Introduction 

As it is included in Korea's future strategic industries, Location Based services (LBS) 
have been intensively studied. Now, it matured and  is widely used in our daily life and 
makes a good deal of contribution to the development of various industries. LBS should 
be available inside of manmade structures such as buildings, subways, and underground 
shopping  malls  because  they  are  huge  and  people  spend  most  of  their  time  there.  LBS 
provided  in  manmade  structures  is  called  indoor  LBS.  Kids  care  in  amusement  parks, 
senior  care,  building  management,  and  personalized  smart  service  are  types  of  indoor 
LBS  and  indoor  LBS  performs  crucial  roles  in  life-saving  in  fire  and  emergency 
evacuation [1]. 

Global  Positioning  System  (GPS)  and  Global  Navigation  Satellite  System 
(GLONASS) provide the general solutions of positioning for outdoor LBS. Google maps, 
Naver  Maps,  Daum  Maps  and  others  provide  the  general  solution  of  user  interface  for 
outdoor LBS. However, there are no general solutions of indoor positioning and of user 

                                                           
* Corresponding Author 

ISSN: 1738-9984 IJSEIA  
Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
interface  for  indoor  LBS.  Therefore,  techniques  for  indoor  LBS  are  still  hot  research 
topics [2, 3]. 

Tourist  guide  mobile  apps  explain  the  origins  of  manufacturing  methods  of,  and 
historical facts associated with the ruins and relics of ancient times to tourists on behalf 
of tourist guides. Therefore, a tourist guide app must recognize the ruin and the relic that 
the  tourist  is  watching.  Recognizing  the  things  that  the  user  is  watching  requires 
recognizing the position where the tourist is located. 

Nowadays,  almost  everybody  carries  a  smartphone  that  is  equipped  with  a  fast 
processor, a large capacity memory, a GPS receiver, and various accurate sensors. Thus, 
smartphones are the best candidate platform where tourist guide apps run. 

This  paper  provides  the  details  on  the  development  of  an  indoor  and  outdoor 
positioning  app  that  can  be  plugged  into  a  tourist  guide  app  as  an  accurate  location 
provider.  Outdoor  positioning  can  be  done  by  using  GPS.  Once  we  have  the  position 
from  the  GPS,  we  can  determine  the  things  that  the  user  is  watching  with  the  sensor 
values from the smartphone sensors. 

There  is  no  general  solution  of  indoor  positioning.  We  introduce  an  enhanced  dead 
reckoning  (EDR)  indoor  positioning.  EDR  recognizes  the  moment  when  the  user  is 
entering  a  manmade  structure  and  uses  the  entrance  as  the  start  point  of  the  dead 
reckoning  process.  EDR  counts  steps  with  accelerometer  values  and  determines  the 
direction with orientation values. With the step count and the direction, EDR determines 
the user's current position as the ordinary dead reckoning process does. The uniqueness 
of EDR is that it recognizes when the user is not moving, finds out the point of interest 
(POI)  in  which  the  user  is  interested,  and  adjusts  the  result  of  dead  reckoning  with  the 
position of the POI.  

We  implemented  our  indoor  and  outdoor  positioning  app  and  tested  it  in  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park.  Our  test  results  showed  that  our  positioning 
app is efficient and accurate enough to be used in practical tourist guide apps. 
 
2. Related Works 

As  buildings  and  underground  facilities  such  as  shopping  malls  around  subway 
stations  are  getting  bigger  numbers  of  people,  the  duration  of  time  people  work 
inside  a  building  is  longer  than  that  of  people  working  outside  the  building.  It 
frequently  happens  to  us  to  visit  a  huge  manmade  structure  to  do  something. 
Therefore, indoor LBS and indoor positioning have attracted a lot of attention from 
researchers.  The  smart  guide  that  shows  the  way  to  viewpoints  [4],  the  museum 
guide [5], and the indoor navigation system [6] are a few examples of Indoor LBS.  
techniques  and 
emphasized  that  extending  GIS  (Geographic  Information  System)  to  manmade 
structures is a requirement for fostering indoor LBS industry. 

The  authors  of  [1]  surveyed  various 

indoor  positioning 

So  many  indoor  positioning  techniques  have  been  proposed.  The  techniques 
proposed  in  the  early  stage  of  the  indoor  positioning  required  special  equipment 
dedicated  to  positioning.  The  method  introduced  in  [7]  required  attaching  beacons 
and sending out infrared to the  moving  objects and to install receivers at rooms so 
that  the  system  could  recognize  in  which  room  a  user  is  located.  The  method 
introduced  in  [8]  required  attaching  beacons  to  moving  objects  to  send  out  both 
radio wave and sound wave and to install many receivers in the ceilings so that the 
system accurately estimated the moving object's position. The method introduced in 
[9]  worked  in  the  reverse  way,  in  that  the  beacons  are  installed  at  fixed  positions 
whereas  a  receiver  is  attached  to  a  moving  object  so  that  the  moving  object  could 
identify where it is located.  

Using  special  equipment,  we  can  extremely  correctly  estimate  the  location  of  a 
moving  object.  However,  a  technique  that  requires  special  equipment  cannot  be  a 

196  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

general  solution  for  indoor  positioning.  Meanwhile,  wireless  local  area  networks 
(WLAN)  spread  widely  and  became  available  almost  everywhere.  Thus,  many 
WLAN  based  indoor  positioning  techniques  were  introduced  and  are  still  being 
studied. For example, the techniques introduced in [10, 11] are WLAN based.  

Smartphones  are  equipped  with  various  sensors,  powerful  processors,  and  large 
capacity memories. Smartphones have been so widely spread that almost everybody 
has a smartphone and carries the smartphone all the time because a smartphone has 
become  a  daily  necessity.  Therefore,  smartphone  based  indoor  positioning  and 
indoor  LBS  have  been  hot  research  topics.  For  example,  the  authors  of  [12] 
introduced a smartphone based indoor positioning method. Since smartphone based 
indoor positioning uses the sensors equipped on the smartphone, it can be generally 
used  in  developing  applications.  Furthermore,  a  smartphone  is  a  perfect  candidate 
platform  for  indoor  LBS  because  it  has  enough  memory  space  to  save  floor  maps 
and its computing power is more than enough to execute LBS applications.   

As  is  discussed,  the  environments  of  indoor  positioning  have  significantly 
evolved.  However,  the  basic  processes  of  determining  the  position  have  not 
changed much. They can be classified into the fingerprinting, trilateration, and dead 
reckoning. The deployment of fingerprinting consists of two  phases: off -line phase 
and real-time phase. During the off-line phase, we create a fingerprint for all CP i in 
candidate  points.  A  fingerprint  of  CP i  is  anything  that  identifies  CP i.  All  sensor 
values  collected  at  CPi  can  be  used  as  a  fingerprint  of  CP i.  During  the  real-time 
phase,  it  collects  sensor  values,  X,  finds  the  fingerprint  that  is  closest  to  X,  and 
returns  CPi  that  is  associated  with  the  closest  fingerprint  as  the  current  position  of 
the moving object. One of the disadvantages of the fingerprinting process is that the 
off-line phase of it is very time-consuming. However, the idea of the process is easy 
to  understand  and  the  result  is  relatively  accurate,  so  the  fingerprinting  is  still 
widely  used  [5,  13-20].  The  trilateration  process  receives  signals  sent  from  fixed 
positions, transfers  either  or  both  of them  into distances and orientations. With the 
coordinates  of  the  fixed  positions,  distances  (ranges),  and  orientations,  the 
trilateration  process  calculates  the  position  of  the  moving  object.  If  the  signal  is 
reliable  then  the  result  is  accurate.  GPS  and  the  methods  used  in  [8,  9,  18-20] 
belong to this category. Examples of dead reckoning are introduced in [3, 20, 21].   

The  method  introduced  in  [20]  is  a  combination  of  dead  reckoning  and 
fingerprinting. The prediction methods such as the Kalman filter and particle fil ters 
are  introduced  in  [22].  The  collaboration  method  in  which  users  exchange  their 
positions is introduced in [6]. 
 
3. The Proposed Indoor Outdoor Positioning 

The application  should  be run  on  a  device  that is  possessed  and  carried  by  everyone 
and  should  not  rely  on  special  resources.  Otherwise,  we  cannot  generally  use  the 
application.  As  we  discussed  in  the  Related  Works  section,  smartphone  based  dead 
reckoning for indoor positioning and GPS for outdoor positioning can be considered as a 
general solution. The GPS is run by the USA government and is available anywhere and 
anytime as long as satellite signals are receivable. According to our experimental results, 
the error range of the GPS is less than 6 meters. The dead reckoning indoor positioning 
relies only on the sensors inside the smartphone and it can be considered to be a general 
solution of indoor positioning even though the error of it increases as time goes by.  

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

197 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 1. Important Components of our Indoor and Outdoor Positioning 

System 

In this paper, we improve the accuracy of dead reckoning indoor positioning, making 
use of the information we can find on the map and floor maps. The important components 
of  our  indoor  and  outdoor  positioning  system  are  shown  in  Figure  1.  In  the  floor  map 
repository,  the  floor  maps  of  the  manmade  structures  in  the  domain  are  stored. 
Information on points of interest we can find indoor/outdoor is stored in the Indoor POI 
DB/Outdoor POI DB. Our app downloads information of POI and floor maps via the POI 
Web server and the map Web server.  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 2. The Classes for Outdoor Positioning 

198  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 3. A Flowchart for OutdoorTraceThread 

For outdoor positioning, we defined classes shown in Figure 2. OutdoorTraceActivity 
uses  LocationManager  provided  by  the  Android  operating  system.  MapView  is  a  view 
which  displays  a  map.  In  MyMath,  the  methods  to  calculate  the  mean  and  standard 
deviation are defined. OutdoorTraceThread reads GPS and checks if the user is moving 
or not by investigating the speed attribute obtained from the GPS receiver. If the user is 
moving, then it repeats reading GPS after sleeping for a while. Otherwise, it finds the POI 
that  is  nearest  to  the  user's  current  position.  If  the  distance  between  that  POI  and  the 
user's  current  position  is  less  than  a  threshold,  then  it  determines  that  the  user's  current 
position  is  the  position  of  the  POI.  It  repeats  this  process  until  the  user  enters  the 
building. This process of OutdoorTraceThread is described in Figure 3. 

The process to determine whether the user is inside or outside a building is described 
in Figure 4. It collects GPS signals every one second. If the average of recently collected 
five  accuracy  attributes  is  greater  than  a  threshold  then  it  determines  that  the  user  is 
inside the building. As is shown in Figure 5, the accuracy is high when the user is inside a 
building. 

For indoor positioning, we defined the classes shown in Figure 6. IndoorTraceActivity 
uses  SensorManager  in  order  to  read  the  accelerometer  and  orientation  sensors. 
IndoorTraceThread counts the number of steps taken by the user, determines whether the 
user  is  moving  or  not,  and  determines  the  direction  the  user  is  taking.  The 
DownloadFloorPlanThread downloads floor maps via HTTP GET method. MyView is a 
View which displays a floor map.  

 

 

 

Copyright ⓒ 2015 SERSC 

 

199 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 4. The Process to Determine whether the User is Inside a Building or 

Not 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 5. The Accuracy of GPS is High when the User is in a Building 

200  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

Figure 6. The Classes for Indoor Positioning 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 7. The Process of Recognizing a Step Defined in the StepCheck 

Class 

Referring  to  the  value  of  the  accelerometer  sensor,  the  StepCheck  class  recognizes a 
step  taken  by  the  user.  While  the  user  takes  a  step,  the  value  of  the  accelerometer 
increases to the pos_peek value, and then decreases to the neg_peek value. Therefore, the 

Copyright ⓒ 2015 SERSC 

 

201 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
StepCheck  increases  the  number  of steps  whenever the  accelerometer  value  reaches the 
neg_peek after reaching the pos_peek as shown in Figure 7.  

 

 

 

 

 

 

 

 

 

 

 

Figure 8. The Process to Determine whether the User is Moving or Not 

Figure 9. The Process of Recognizing the POI that the User is Watching 

When  the  GPS  is  available,  we  can  determine  whether  the  user  is  moving  or  not  by 
investigating  the  speed  attribute  of  the  GPS.  In  indoor  positioning,  the  GPS  is  not 
available  and  we  investigate  the  accelerometer  values.  If  the  standard  deviation  of 
recently collected k accelerometer values is less than a threshold, then we conclude that 
the user is not moving as shown in Figure 8. 

The process of recognizing the POI that the user is watching is shown in Figure 9. This 
process  uses  the  StopStateCheck,  StepCheck,  DrawingOrientation,  and  UserOrientation 
classes. Using the StopStateCheck class, it determines if the user is moving or not. If the 
user  is  moving,  then  it  goes  back  to  the  step  of  reading  the  accelerometer  sensor; 
otherwise it proceeds to the next step of recognizing the POI that the user is watching.  

Using the StepCheck class, it recognizes a step taken by the user and updates the user's 
current position for every step until the last accelerometer value is reached. When the last 

202  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
accelerometer  value  is  reached,  it  determines  whether  the  user  is  facing  north  (TOP), 
south  (BOTTOM),  east  (RIGHT),  or  west  (LEFT),  by  using  the  UserOrientation  class. 
Then, it finds the nearest POI. Assuming that the user's current position is the position of 
the  nearest  POI,  we  can  update the  user's  current  position to  the  position  of  the  nearest 
POI.  

We use the following expressions in order to find the relative x/y coordinate distance 

from the last position: 

where,  difOri  represents  the  direction,  550  represents  an  average  stride,  and  28.3 

 

represents the number of pixels in 1 cm. 
 
4. Experiments  

We  have  implemented  the  indoor-outdoor  positioning  system  for  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park,  on  an  LG  G4  smartphone.  We  can  find 
11  viewpoints  and  Imhaejeon,  a  gazebo-like  Korean  traditional  house  in  Anapji  as 
shown in Figure 10. 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 10. An Anapji Pond map 

A  list  of  the  viewpoints  in  Anapji  is  shown  in  Figure  11.  "Silk  Carp"  is  a  place 

where we can find a school of colorful carp.  

 

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

203 

3.28/)550*)(sin(sin3.28/)550*)(cos(cosdifOriradiansValdifOriradiansValInternational Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

No.  Name 

Latitude 

Longitude 

1  Outdoor theater 

35.8334377 

129.226881 

Excavated building site 

35.83382256 

129.22655365 

Restored building 1 

35.8341224 

129.2267243 

Silk Carp 

35.8346375 

129.226638 

Restored building 3 

35.8350398 

129.2259305 

2 

3 

4 

5 

6 

7 

8 

9 

Shooting place 1 

Shooting place 2 

Shooting place 3 

Shooting place 4 

10  Water tank 

11  Gift store  

35.83525467 

129.22597275 

35.8354763 

129.2267946 

35.83542928 

129.22719923 

35.8353019 

129.2277628 

35.83390647 

129.22786741 

35.8334605 

129.2265516 

Figure 11. A list of viewpoints in Anapji 

Figure 12. An Example Outdoor Positioning Screenshot 

 

A  sample  outdoor  positioning  screenshot  is  shown  in  Figure  12.  The  latitude, 
longitude,  and  accuracy  read  from  the  GPS  are  35.83465756,  129.22662406,  and 
4.0,  respectively.  With  the  GPS  data,  it  concluded  that  the  user  is  at  the  4th 
viewpoint. 

In  Imhaejeon,  an  Anpji  bird's  eye  view  and  12  cultural  artifacts  unearthed  at 
Anapji  are  displayed  as  shown  in  Figure  13.  The  entrance  of  Imhaejeon  is 
represented by B1 in the figure. 
 

204  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015), pp. 195-208 
http://dx.doi.org/10.14257/ijseia.2015.9.3.19 
 
 

Development of an Indoor-Outdoor Positioning Android App for 

Anapji Tourist Guides 

Kyubark Shim1, Jaegeol Yim2* and Junri Jeon2 

 
 

1Department of Applied Statistics 

2Department of Computer Engineering 

Dongguk University at Gyeongju, Gyeongbuk, Korea 

{shim, yim, junri}@dongguk.ac.kr 

Abstract 

This paper introduces the development details of an Indoor and Outdoor Positioning 
Android app for Anapji, an artificial pond in Gyeongju National Park in Korea, tourist 
guide  apps.  There  is  a  pathway  around  the  pond,  with  around  10  viewpoints  and 
Imhaejeon, a gazebo-like Korean traditional house, along this pathway. In Imhaejeon, we 
can  find  an  Anapji  bird's-eye  view  at  the  center  and  12  cultural  artifacts  unearthed  at 
Anapji displayed along the four edges of Imhaejeon. Tourists walk along the pathway and 
stop  at  a  viewpoint  to  enjoy  the  scenic  beauty  at  their  wish.  Most  of  them  also  enter 
Imhaejeon, walk along the edge, and stop in front of an artifact to watch it. Whenever a 
tourist stops to watch something, tourist guide apps show a content that is closely related 
to  the  thing  that  is  being  watched.  The  content  can  be  a  video  clip  describing  how  the 
artifact was crafted or a video game that mimics an ancient game played by the people in 
the  8th  century.  This  kind  of  tourist  guide  app  cannot  be  realized  unless  they  can 
recognize the position where the user is located. This paper develops an indoor-outdoor 
positioning  Android  app  that  is  an  essential  part  of  tourist  guide  apps.  Our  indoor-
outdoor  positioning  app  uses  the  GPS  receiver  for  outdoor  positioning  whereas  it  uses 
the  dead  reckoning  method  for  indoor  positioning.  Our  test  results  showed  that  our 
indoor-outdoor positioning app is accurate enough to be used for practical tourist guide 
apps. 

 
Keywords: positioning; Android app; GPS; dead reckoning; indoor positioning. 

 
1. Introduction 

As it is included in Korea's future strategic industries, Location Based services (LBS) 
have been intensively studied. Now, it matured and  is widely used in our daily life and 
makes a good deal of contribution to the development of various industries. LBS should 
be available inside of manmade structures such as buildings, subways, and underground 
shopping  malls  because  they  are  huge  and  people  spend  most  of  their  time  there.  LBS 
provided  in  manmade  structures  is  called  indoor  LBS.  Kids  care  in  amusement  parks, 
senior  care,  building  management,  and  personalized  smart  service  are  types  of  indoor 
LBS  and  indoor  LBS  performs  crucial  roles  in  life-saving  in  fire  and  emergency 
evacuation [1]. 

Global  Positioning  System  (GPS)  and  Global  Navigation  Satellite  System 
(GLONASS) provide the general solutions of positioning for outdoor LBS. Google maps, 
Naver  Maps,  Daum  Maps  and  others  provide  the  general  solution  of  user  interface  for 
outdoor LBS. However, there are no general solutions of indoor positioning and of user 

                                                           
* Corresponding Author 

ISSN: 1738-9984 IJSEIA  
Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
interface  for  indoor  LBS.  Therefore,  techniques  for  indoor  LBS  are  still  hot  research 
topics [2, 3]. 

Tourist  guide  mobile  apps  explain  the  origins  of  manufacturing  methods  of,  and 
historical facts associated with the ruins and relics of ancient times to tourists on behalf 
of tourist guides. Therefore, a tourist guide app must recognize the ruin and the relic that 
the  tourist  is  watching.  Recognizing  the  things  that  the  user  is  watching  requires 
recognizing the position where the tourist is located. 

Nowadays,  almost  everybody  carries  a  smartphone  that  is  equipped  with  a  fast 
processor, a large capacity memory, a GPS receiver, and various accurate sensors. Thus, 
smartphones are the best candidate platform where tourist guide apps run. 

This  paper  provides  the  details  on  the  development  of  an  indoor  and  outdoor 
positioning  app  that  can  be  plugged  into  a  tourist  guide  app  as  an  accurate  location 
provider.  Outdoor  positioning  can  be  done  by  using  GPS.  Once  we  have  the  position 
from  the  GPS,  we  can  determine  the  things  that  the  user  is  watching  with  the  sensor 
values from the smartphone sensors. 

There  is  no  general  solution  of  indoor  positioning.  We  introduce  an  enhanced  dead 
reckoning  (EDR)  indoor  positioning.  EDR  recognizes  the  moment  when  the  user  is 
entering  a  manmade  structure  and  uses  the  entrance  as  the  start  point  of  the  dead 
reckoning  process.  EDR  counts  steps  with  accelerometer  values  and  determines  the 
direction with orientation values. With the step count and the direction, EDR determines 
the user's current position as the ordinary dead reckoning process does. The uniqueness 
of EDR is that it recognizes when the user is not moving, finds out the point of interest 
(POI)  in  which  the  user  is  interested,  and  adjusts  the  result  of  dead  reckoning  with  the 
position of the POI.  

We  implemented  our  indoor  and  outdoor  positioning  app  and  tested  it  in  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park.  Our  test  results  showed  that  our  positioning 
app is efficient and accurate enough to be used in practical tourist guide apps. 
 
2. Related Works 

As  buildings  and  underground  facilities  such  as  shopping  malls  around  subway 
stations  are  getting  bigger  numbers  of  people,  the  duration  of  time  people  work 
inside  a  building  is  longer  than  that  of  people  working  outside  the  building.  It 
frequently  happens  to  us  to  visit  a  huge  manmade  structure  to  do  something. 
Therefore, indoor LBS and indoor positioning have attracted a lot of attention from 
researchers.  The  smart  guide  that  shows  the  way  to  viewpoints  [4],  the  museum 
guide [5], and the indoor navigation system [6] are a few examples of Indoor LBS.  
techniques  and 
emphasized  that  extending  GIS  (Geographic  Information  System)  to  manmade 
structures is a requirement for fostering indoor LBS industry. 

The  authors  of  [1]  surveyed  various 

indoor  positioning 

So  many  indoor  positioning  techniques  have  been  proposed.  The  techniques 
proposed  in  the  early  stage  of  the  indoor  positioning  required  special  equipment 
dedicated  to  positioning.  The  method  introduced  in  [7]  required  attaching  beacons 
and sending out infrared to the  moving  objects and to install receivers at rooms so 
that  the  system  could  recognize  in  which  room  a  user  is  located.  The  method 
introduced  in  [8]  required  attaching  beacons  to  moving  objects  to  send  out  both 
radio wave and sound wave and to install many receivers in the ceilings so that the 
system accurately estimated the moving object's position. The method introduced in 
[9]  worked  in  the  reverse  way,  in  that  the  beacons  are  installed  at  fixed  positions 
whereas  a  receiver  is  attached  to  a  moving  object  so  that  the  moving  object  could 
identify where it is located.  

Using  special  equipment,  we  can  extremely  correctly  estimate  the  location  of  a 
moving  object.  However,  a  technique  that  requires  special  equipment  cannot  be  a 

196  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

general  solution  for  indoor  positioning.  Meanwhile,  wireless  local  area  networks 
(WLAN)  spread  widely  and  became  available  almost  everywhere.  Thus,  many 
WLAN  based  indoor  positioning  techniques  were  introduced  and  are  still  being 
studied. For example, the techniques introduced in [10, 11] are WLAN based.  

Smartphones  are  equipped  with  various  sensors,  powerful  processors,  and  large 
capacity memories. Smartphones have been so widely spread that almost everybody 
has a smartphone and carries the smartphone all the time because a smartphone has 
become  a  daily  necessity.  Therefore,  smartphone  based  indoor  positioning  and 
indoor  LBS  have  been  hot  research  topics.  For  example,  the  authors  of  [12] 
introduced a smartphone based indoor positioning method. Since smartphone based 
indoor positioning uses the sensors equipped on the smartphone, it can be generally 
used  in  developing  applications.  Furthermore,  a  smartphone  is  a  perfect  candidate 
platform  for  indoor  LBS  because  it  has  enough  memory  space  to  save  floor  maps 
and its computing power is more than enough to execute LBS applications.   

As  is  discussed,  the  environments  of  indoor  positioning  have  significantly 
evolved.  However,  the  basic  processes  of  determining  the  position  have  not 
changed much. They can be classified into the fingerprinting, trilateration, and dead 
reckoning. The deployment of fingerprinting consists of two  phases: off -line phase 
and real-time phase. During the off-line phase, we create a fingerprint for all CP i in 
candidate  points.  A  fingerprint  of  CP i  is  anything  that  identifies  CP i.  All  sensor 
values  collected  at  CPi  can  be  used  as  a  fingerprint  of  CP i.  During  the  real-time 
phase,  it  collects  sensor  values,  X,  finds  the  fingerprint  that  is  closest  to  X,  and 
returns  CPi  that  is  associated  with  the  closest  fingerprint  as  the  current  position  of 
the moving object. One of the disadvantages of the fingerprinting process is that the 
off-line phase of it is very time-consuming. However, the idea of the process is easy 
to  understand  and  the  result  is  relatively  accurate,  so  the  fingerprinting  is  still 
widely  used  [5,  13-20].  The  trilateration  process  receives  signals  sent  from  fixed 
positions, transfers  either  or  both  of them  into distances and orientations. With the 
coordinates  of  the  fixed  positions,  distances  (ranges),  and  orientations,  the 
trilateration  process  calculates  the  position  of  the  moving  object.  If  the  signal  is 
reliable  then  the  result  is  accurate.  GPS  and  the  methods  used  in  [8,  9,  18-20] 
belong to this category. Examples of dead reckoning are introduced in [3, 20, 21].   

The  method  introduced  in  [20]  is  a  combination  of  dead  reckoning  and 
fingerprinting. The prediction methods such as the Kalman filter and particle fil ters 
are  introduced  in  [22].  The  collaboration  method  in  which  users  exchange  their 
positions is introduced in [6]. 
 
3. The Proposed Indoor Outdoor Positioning 

The application  should  be run  on  a  device  that is  possessed  and  carried  by  everyone 
and  should  not  rely  on  special  resources.  Otherwise,  we  cannot  generally  use  the 
application.  As  we  discussed  in  the  Related  Works  section,  smartphone  based  dead 
reckoning for indoor positioning and GPS for outdoor positioning can be considered as a 
general solution. The GPS is run by the USA government and is available anywhere and 
anytime as long as satellite signals are receivable. According to our experimental results, 
the error range of the GPS is less than 6 meters. The dead reckoning indoor positioning 
relies only on the sensors inside the smartphone and it can be considered to be a general 
solution of indoor positioning even though the error of it increases as time goes by.  

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

197 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 1. Important Components of our Indoor and Outdoor Positioning 

System 

In this paper, we improve the accuracy of dead reckoning indoor positioning, making 
use of the information we can find on the map and floor maps. The important components 
of  our  indoor  and  outdoor  positioning  system  are  shown  in  Figure  1.  In  the  floor  map 
repository,  the  floor  maps  of  the  manmade  structures  in  the  domain  are  stored. 
Information on points of interest we can find indoor/outdoor is stored in the Indoor POI 
DB/Outdoor POI DB. Our app downloads information of POI and floor maps via the POI 
Web server and the map Web server.  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 2. The Classes for Outdoor Positioning 

198  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 3. A Flowchart for OutdoorTraceThread 

For outdoor positioning, we defined classes shown in Figure 2. OutdoorTraceActivity 
uses  LocationManager  provided  by  the  Android  operating  system.  MapView  is  a  view 
which  displays  a  map.  In  MyMath,  the  methods  to  calculate  the  mean  and  standard 
deviation are defined. OutdoorTraceThread reads GPS and checks if the user is moving 
or not by investigating the speed attribute obtained from the GPS receiver. If the user is 
moving, then it repeats reading GPS after sleeping for a while. Otherwise, it finds the POI 
that  is  nearest  to  the  user's  current  position.  If  the  distance  between  that  POI  and  the 
user's  current  position  is  less  than  a  threshold,  then  it  determines  that  the  user's  current 
position  is  the  position  of  the  POI.  It  repeats  this  process  until  the  user  enters  the 
building. This process of OutdoorTraceThread is described in Figure 3. 

The process to determine whether the user is inside or outside a building is described 
in Figure 4. It collects GPS signals every one second. If the average of recently collected 
five  accuracy  attributes  is  greater  than  a  threshold  then  it  determines  that  the  user  is 
inside the building. As is shown in Figure 5, the accuracy is high when the user is inside a 
building. 

For indoor positioning, we defined the classes shown in Figure 6. IndoorTraceActivity 
uses  SensorManager  in  order  to  read  the  accelerometer  and  orientation  sensors. 
IndoorTraceThread counts the number of steps taken by the user, determines whether the 
user  is  moving  or  not,  and  determines  the  direction  the  user  is  taking.  The 
DownloadFloorPlanThread downloads floor maps via HTTP GET method. MyView is a 
View which displays a floor map.  

 

 

 

Copyright ⓒ 2015 SERSC 

 

199 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 4. The Process to Determine whether the User is Inside a Building or 

Not 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 5. The Accuracy of GPS is High when the User is in a Building 

200  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

Figure 6. The Classes for Indoor Positioning 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 7. The Process of Recognizing a Step Defined in the StepCheck 

Class 

Referring  to  the  value  of  the  accelerometer  sensor,  the  StepCheck  class  recognizes a 
step  taken  by  the  user.  While  the  user  takes  a  step,  the  value  of  the  accelerometer 
increases to the pos_peek value, and then decreases to the neg_peek value. Therefore, the 

Copyright ⓒ 2015 SERSC 

 

201 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
StepCheck  increases  the  number  of steps  whenever the  accelerometer  value  reaches the 
neg_peek after reaching the pos_peek as shown in Figure 7.  

 

 

 

 

 

 

 

 

 

 

 

Figure 8. The Process to Determine whether the User is Moving or Not 

Figure 9. The Process of Recognizing the POI that the User is Watching 

When  the  GPS  is  available,  we  can  determine  whether  the  user  is  moving  or  not  by 
investigating  the  speed  attribute  of  the  GPS.  In  indoor  positioning,  the  GPS  is  not 
available  and  we  investigate  the  accelerometer  values.  If  the  standard  deviation  of 
recently collected k accelerometer values is less than a threshold, then we conclude that 
the user is not moving as shown in Figure 8. 

The process of recognizing the POI that the user is watching is shown in Figure 9. This 
process  uses  the  StopStateCheck,  StepCheck,  DrawingOrientation,  and  UserOrientation 
classes. Using the StopStateCheck class, it determines if the user is moving or not. If the 
user  is  moving,  then  it  goes  back  to  the  step  of  reading  the  accelerometer  sensor; 
otherwise it proceeds to the next step of recognizing the POI that the user is watching.  

Using the StepCheck class, it recognizes a step taken by the user and updates the user's 
current position for every step until the last accelerometer value is reached. When the last 

202  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
accelerometer  value  is  reached,  it  determines  whether  the  user  is  facing  north  (TOP), 
south  (BOTTOM),  east  (RIGHT),  or  west  (LEFT),  by  using  the  UserOrientation  class. 
Then, it finds the nearest POI. Assuming that the user's current position is the position of 
the  nearest  POI,  we  can  update the  user's  current  position to  the  position  of  the  nearest 
POI.  

We use the following expressions in order to find the relative x/y coordinate distance 

from the last position: 

where,  difOri  represents  the  direction,  550  represents  an  average  stride,  and  28.3 

 

represents the number of pixels in 1 cm. 
 
4. Experiments  

We  have  implemented  the  indoor-outdoor  positioning  system  for  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park,  on  an  LG  G4  smartphone.  We  can  find 
11  viewpoints  and  Imhaejeon,  a  gazebo-like  Korean  traditional  house  in  Anapji  as 
shown in Figure 10. 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 10. An Anapji Pond map 

A  list  of  the  viewpoints  in  Anapji  is  shown  in  Figure  11.  "Silk  Carp"  is  a  place 

where we can find a school of colorful carp.  

 

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

203 

3.28/)550*)(sin(sin3.28/)550*)(cos(cosdifOriradiansValdifOriradiansValInternational Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

No.  Name 

Latitude 

Longitude 

1  Outdoor theater 

35.8334377 

129.226881 

Excavated building site 

35.83382256 

129.22655365 

Restored building 1 

35.8341224 

129.2267243 

Silk Carp 

35.8346375 

129.226638 

Restored building 3 

35.8350398 

129.2259305 

2 

3 

4 

5 

6 

7 

8 

9 

Shooting place 1 

Shooting place 2 

Shooting place 3 

Shooting place 4 

10  Water tank 

11  Gift store  

35.83525467 

129.22597275 

35.8354763 

129.2267946 

35.83542928 

129.22719923 

35.8353019 

129.2277628 

35.83390647 

129.22786741 

35.8334605 

129.2265516 

Figure 11. A list of viewpoints in Anapji 

Figure 12. An Example Outdoor Positioning Screenshot 

 

A  sample  outdoor  positioning  screenshot  is  shown  in  Figure  12.  The  latitude, 
longitude,  and  accuracy  read  from  the  GPS  are  35.83465756,  129.22662406,  and 
4.0,  respectively.  With  the  GPS  data,  it  concluded  that  the  user  is  at  the  4th 
viewpoint. 

In  Imhaejeon,  an  Anpji  bird's  eye  view  and  12  cultural  artifacts  unearthed  at 
Anapji  are  displayed  as  shown  in  Figure  13.  The  entrance  of  Imhaejeon  is 
represented by B1 in the figure. 
 

204  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

Figure 13. A Floor Map for Imhaejeon 

 

 

Figure 14. Scenario 1 to Test the Indoor Positioning App 

We have implemented two versions of indoor positioning apps, A and B. In the A 
app, we implemented the dead reckoning process. In the B app, we implemented the 
dead reckoning that updates its position with the position of POI whenever the user 
stops.  For  example,  it  changes  its  current  position  to  the  position  of  R3  when  the 
user stops at R3 as shown in Figure 15.  

We  have  performed  many  experiments  testing  our  indoor  positioning  app  in 
Imhaejeon.  The  scenario  1  of  our  experiments  is  to  stop  and  take  a  look  at  every 
exhibit  as  shown  in  Figure  14.  We  tested  the  scenario  1  30  times.  A  typical  test 
result  is  shown  in  Fig.  15.  During  the  experiment,  we  checked  the  user's  position 
360  (12  items  *  30  reps)  times.  The  A  app  correctly  identified  the  positions  323 
times out of 360 times whereas the B app correctly identified 348 times.   
 

Copyright ⓒ 2015 SERSC 

 

205 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015), pp. 195-208 
http://dx.doi.org/10.14257/ijseia.2015.9.3.19 
 
 

Development of an Indoor-Outdoor Positioning Android App for 

Anapji Tourist Guides 

Kyubark Shim1, Jaegeol Yim2* and Junri Jeon2 

 
 

1Department of Applied Statistics 

2Department of Computer Engineering 

Dongguk University at Gyeongju, Gyeongbuk, Korea 

{shim, yim, junri}@dongguk.ac.kr 

Abstract 

This paper introduces the development details of an Indoor and Outdoor Positioning 
Android app for Anapji, an artificial pond in Gyeongju National Park in Korea, tourist 
guide  apps.  There  is  a  pathway  around  the  pond,  with  around  10  viewpoints  and 
Imhaejeon, a gazebo-like Korean traditional house, along this pathway. In Imhaejeon, we 
can  find  an  Anapji  bird's-eye  view  at  the  center  and  12  cultural  artifacts  unearthed  at 
Anapji displayed along the four edges of Imhaejeon. Tourists walk along the pathway and 
stop  at  a  viewpoint  to  enjoy  the  scenic  beauty  at  their  wish.  Most  of  them  also  enter 
Imhaejeon, walk along the edge, and stop in front of an artifact to watch it. Whenever a 
tourist stops to watch something, tourist guide apps show a content that is closely related 
to  the  thing  that  is  being  watched.  The  content  can  be  a  video  clip  describing  how  the 
artifact was crafted or a video game that mimics an ancient game played by the people in 
the  8th  century.  This  kind  of  tourist  guide  app  cannot  be  realized  unless  they  can 
recognize the position where the user is located. This paper develops an indoor-outdoor 
positioning  Android  app  that  is  an  essential  part  of  tourist  guide  apps.  Our  indoor-
outdoor  positioning  app  uses  the  GPS  receiver  for  outdoor  positioning  whereas  it  uses 
the  dead  reckoning  method  for  indoor  positioning.  Our  test  results  showed  that  our 
indoor-outdoor positioning app is accurate enough to be used for practical tourist guide 
apps. 

 
Keywords: positioning; Android app; GPS; dead reckoning; indoor positioning. 

 
1. Introduction 

As it is included in Korea's future strategic industries, Location Based services (LBS) 
have been intensively studied. Now, it matured and  is widely used in our daily life and 
makes a good deal of contribution to the development of various industries. LBS should 
be available inside of manmade structures such as buildings, subways, and underground 
shopping  malls  because  they  are  huge  and  people  spend  most  of  their  time  there.  LBS 
provided  in  manmade  structures  is  called  indoor  LBS.  Kids  care  in  amusement  parks, 
senior  care,  building  management,  and  personalized  smart  service  are  types  of  indoor 
LBS  and  indoor  LBS  performs  crucial  roles  in  life-saving  in  fire  and  emergency 
evacuation [1]. 

Global  Positioning  System  (GPS)  and  Global  Navigation  Satellite  System 
(GLONASS) provide the general solutions of positioning for outdoor LBS. Google maps, 
Naver  Maps,  Daum  Maps  and  others  provide  the  general  solution  of  user  interface  for 
outdoor LBS. However, there are no general solutions of indoor positioning and of user 

                                                           
* Corresponding Author 

ISSN: 1738-9984 IJSEIA  
Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
interface  for  indoor  LBS.  Therefore,  techniques  for  indoor  LBS  are  still  hot  research 
topics [2, 3]. 

Tourist  guide  mobile  apps  explain  the  origins  of  manufacturing  methods  of,  and 
historical facts associated with the ruins and relics of ancient times to tourists on behalf 
of tourist guides. Therefore, a tourist guide app must recognize the ruin and the relic that 
the  tourist  is  watching.  Recognizing  the  things  that  the  user  is  watching  requires 
recognizing the position where the tourist is located. 

Nowadays,  almost  everybody  carries  a  smartphone  that  is  equipped  with  a  fast 
processor, a large capacity memory, a GPS receiver, and various accurate sensors. Thus, 
smartphones are the best candidate platform where tourist guide apps run. 

This  paper  provides  the  details  on  the  development  of  an  indoor  and  outdoor 
positioning  app  that  can  be  plugged  into  a  tourist  guide  app  as  an  accurate  location 
provider.  Outdoor  positioning  can  be  done  by  using  GPS.  Once  we  have  the  position 
from  the  GPS,  we  can  determine  the  things  that  the  user  is  watching  with  the  sensor 
values from the smartphone sensors. 

There  is  no  general  solution  of  indoor  positioning.  We  introduce  an  enhanced  dead 
reckoning  (EDR)  indoor  positioning.  EDR  recognizes  the  moment  when  the  user  is 
entering  a  manmade  structure  and  uses  the  entrance  as  the  start  point  of  the  dead 
reckoning  process.  EDR  counts  steps  with  accelerometer  values  and  determines  the 
direction with orientation values. With the step count and the direction, EDR determines 
the user's current position as the ordinary dead reckoning process does. The uniqueness 
of EDR is that it recognizes when the user is not moving, finds out the point of interest 
(POI)  in  which  the  user  is  interested,  and  adjusts  the  result  of  dead  reckoning  with  the 
position of the POI.  

We  implemented  our  indoor  and  outdoor  positioning  app  and  tested  it  in  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park.  Our  test  results  showed  that  our  positioning 
app is efficient and accurate enough to be used in practical tourist guide apps. 
 
2. Related Works 

As  buildings  and  underground  facilities  such  as  shopping  malls  around  subway 
stations  are  getting  bigger  numbers  of  people,  the  duration  of  time  people  work 
inside  a  building  is  longer  than  that  of  people  working  outside  the  building.  It 
frequently  happens  to  us  to  visit  a  huge  manmade  structure  to  do  something. 
Therefore, indoor LBS and indoor positioning have attracted a lot of attention from 
researchers.  The  smart  guide  that  shows  the  way  to  viewpoints  [4],  the  museum 
guide [5], and the indoor navigation system [6] are a few examples of Indoor LBS.  
techniques  and 
emphasized  that  extending  GIS  (Geographic  Information  System)  to  manmade 
structures is a requirement for fostering indoor LBS industry. 

The  authors  of  [1]  surveyed  various 

indoor  positioning 

So  many  indoor  positioning  techniques  have  been  proposed.  The  techniques 
proposed  in  the  early  stage  of  the  indoor  positioning  required  special  equipment 
dedicated  to  positioning.  The  method  introduced  in  [7]  required  attaching  beacons 
and sending out infrared to the  moving  objects and to install receivers at rooms so 
that  the  system  could  recognize  in  which  room  a  user  is  located.  The  method 
introduced  in  [8]  required  attaching  beacons  to  moving  objects  to  send  out  both 
radio wave and sound wave and to install many receivers in the ceilings so that the 
system accurately estimated the moving object's position. The method introduced in 
[9]  worked  in  the  reverse  way,  in  that  the  beacons  are  installed  at  fixed  positions 
whereas  a  receiver  is  attached  to  a  moving  object  so  that  the  moving  object  could 
identify where it is located.  

Using  special  equipment,  we  can  extremely  correctly  estimate  the  location  of  a 
moving  object.  However,  a  technique  that  requires  special  equipment  cannot  be  a 

196  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

general  solution  for  indoor  positioning.  Meanwhile,  wireless  local  area  networks 
(WLAN)  spread  widely  and  became  available  almost  everywhere.  Thus,  many 
WLAN  based  indoor  positioning  techniques  were  introduced  and  are  still  being 
studied. For example, the techniques introduced in [10, 11] are WLAN based.  

Smartphones  are  equipped  with  various  sensors,  powerful  processors,  and  large 
capacity memories. Smartphones have been so widely spread that almost everybody 
has a smartphone and carries the smartphone all the time because a smartphone has 
become  a  daily  necessity.  Therefore,  smartphone  based  indoor  positioning  and 
indoor  LBS  have  been  hot  research  topics.  For  example,  the  authors  of  [12] 
introduced a smartphone based indoor positioning method. Since smartphone based 
indoor positioning uses the sensors equipped on the smartphone, it can be generally 
used  in  developing  applications.  Furthermore,  a  smartphone  is  a  perfect  candidate 
platform  for  indoor  LBS  because  it  has  enough  memory  space  to  save  floor  maps 
and its computing power is more than enough to execute LBS applications.   

As  is  discussed,  the  environments  of  indoor  positioning  have  significantly 
evolved.  However,  the  basic  processes  of  determining  the  position  have  not 
changed much. They can be classified into the fingerprinting, trilateration, and dead 
reckoning. The deployment of fingerprinting consists of two  phases: off -line phase 
and real-time phase. During the off-line phase, we create a fingerprint for all CP i in 
candidate  points.  A  fingerprint  of  CP i  is  anything  that  identifies  CP i.  All  sensor 
values  collected  at  CPi  can  be  used  as  a  fingerprint  of  CP i.  During  the  real-time 
phase,  it  collects  sensor  values,  X,  finds  the  fingerprint  that  is  closest  to  X,  and 
returns  CPi  that  is  associated  with  the  closest  fingerprint  as  the  current  position  of 
the moving object. One of the disadvantages of the fingerprinting process is that the 
off-line phase of it is very time-consuming. However, the idea of the process is easy 
to  understand  and  the  result  is  relatively  accurate,  so  the  fingerprinting  is  still 
widely  used  [5,  13-20].  The  trilateration  process  receives  signals  sent  from  fixed 
positions, transfers  either  or  both  of them  into distances and orientations. With the 
coordinates  of  the  fixed  positions,  distances  (ranges),  and  orientations,  the 
trilateration  process  calculates  the  position  of  the  moving  object.  If  the  signal  is 
reliable  then  the  result  is  accurate.  GPS  and  the  methods  used  in  [8,  9,  18-20] 
belong to this category. Examples of dead reckoning are introduced in [3, 20, 21].   

The  method  introduced  in  [20]  is  a  combination  of  dead  reckoning  and 
fingerprinting. The prediction methods such as the Kalman filter and particle fil ters 
are  introduced  in  [22].  The  collaboration  method  in  which  users  exchange  their 
positions is introduced in [6]. 
 
3. The Proposed Indoor Outdoor Positioning 

The application  should  be run  on  a  device  that is  possessed  and  carried  by  everyone 
and  should  not  rely  on  special  resources.  Otherwise,  we  cannot  generally  use  the 
application.  As  we  discussed  in  the  Related  Works  section,  smartphone  based  dead 
reckoning for indoor positioning and GPS for outdoor positioning can be considered as a 
general solution. The GPS is run by the USA government and is available anywhere and 
anytime as long as satellite signals are receivable. According to our experimental results, 
the error range of the GPS is less than 6 meters. The dead reckoning indoor positioning 
relies only on the sensors inside the smartphone and it can be considered to be a general 
solution of indoor positioning even though the error of it increases as time goes by.  

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

197 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 1. Important Components of our Indoor and Outdoor Positioning 

System 

In this paper, we improve the accuracy of dead reckoning indoor positioning, making 
use of the information we can find on the map and floor maps. The important components 
of  our  indoor  and  outdoor  positioning  system  are  shown  in  Figure  1.  In  the  floor  map 
repository,  the  floor  maps  of  the  manmade  structures  in  the  domain  are  stored. 
Information on points of interest we can find indoor/outdoor is stored in the Indoor POI 
DB/Outdoor POI DB. Our app downloads information of POI and floor maps via the POI 
Web server and the map Web server.  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 2. The Classes for Outdoor Positioning 

198  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 3. A Flowchart for OutdoorTraceThread 

For outdoor positioning, we defined classes shown in Figure 2. OutdoorTraceActivity 
uses  LocationManager  provided  by  the  Android  operating  system.  MapView  is  a  view 
which  displays  a  map.  In  MyMath,  the  methods  to  calculate  the  mean  and  standard 
deviation are defined. OutdoorTraceThread reads GPS and checks if the user is moving 
or not by investigating the speed attribute obtained from the GPS receiver. If the user is 
moving, then it repeats reading GPS after sleeping for a while. Otherwise, it finds the POI 
that  is  nearest  to  the  user's  current  position.  If  the  distance  between  that  POI  and  the 
user's  current  position  is  less  than  a  threshold,  then  it  determines  that  the  user's  current 
position  is  the  position  of  the  POI.  It  repeats  this  process  until  the  user  enters  the 
building. This process of OutdoorTraceThread is described in Figure 3. 

The process to determine whether the user is inside or outside a building is described 
in Figure 4. It collects GPS signals every one second. If the average of recently collected 
five  accuracy  attributes  is  greater  than  a  threshold  then  it  determines  that  the  user  is 
inside the building. As is shown in Figure 5, the accuracy is high when the user is inside a 
building. 

For indoor positioning, we defined the classes shown in Figure 6. IndoorTraceActivity 
uses  SensorManager  in  order  to  read  the  accelerometer  and  orientation  sensors. 
IndoorTraceThread counts the number of steps taken by the user, determines whether the 
user  is  moving  or  not,  and  determines  the  direction  the  user  is  taking.  The 
DownloadFloorPlanThread downloads floor maps via HTTP GET method. MyView is a 
View which displays a floor map.  

 

 

 

Copyright ⓒ 2015 SERSC 

 

199 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 4. The Process to Determine whether the User is Inside a Building or 

Not 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 5. The Accuracy of GPS is High when the User is in a Building 

200  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

Figure 6. The Classes for Indoor Positioning 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 7. The Process of Recognizing a Step Defined in the StepCheck 

Class 

Referring  to  the  value  of  the  accelerometer  sensor,  the  StepCheck  class  recognizes a 
step  taken  by  the  user.  While  the  user  takes  a  step,  the  value  of  the  accelerometer 
increases to the pos_peek value, and then decreases to the neg_peek value. Therefore, the 

Copyright ⓒ 2015 SERSC 

 

201 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
StepCheck  increases  the  number  of steps  whenever the  accelerometer  value  reaches the 
neg_peek after reaching the pos_peek as shown in Figure 7.  

 

 

 

 

 

 

 

 

 

 

 

Figure 8. The Process to Determine whether the User is Moving or Not 

Figure 9. The Process of Recognizing the POI that the User is Watching 

When  the  GPS  is  available,  we  can  determine  whether  the  user  is  moving  or  not  by 
investigating  the  speed  attribute  of  the  GPS.  In  indoor  positioning,  the  GPS  is  not 
available  and  we  investigate  the  accelerometer  values.  If  the  standard  deviation  of 
recently collected k accelerometer values is less than a threshold, then we conclude that 
the user is not moving as shown in Figure 8. 

The process of recognizing the POI that the user is watching is shown in Figure 9. This 
process  uses  the  StopStateCheck,  StepCheck,  DrawingOrientation,  and  UserOrientation 
classes. Using the StopStateCheck class, it determines if the user is moving or not. If the 
user  is  moving,  then  it  goes  back  to  the  step  of  reading  the  accelerometer  sensor; 
otherwise it proceeds to the next step of recognizing the POI that the user is watching.  

Using the StepCheck class, it recognizes a step taken by the user and updates the user's 
current position for every step until the last accelerometer value is reached. When the last 

202  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
accelerometer  value  is  reached,  it  determines  whether  the  user  is  facing  north  (TOP), 
south  (BOTTOM),  east  (RIGHT),  or  west  (LEFT),  by  using  the  UserOrientation  class. 
Then, it finds the nearest POI. Assuming that the user's current position is the position of 
the  nearest  POI,  we  can  update the  user's  current  position to  the  position  of  the  nearest 
POI.  

We use the following expressions in order to find the relative x/y coordinate distance 

from the last position: 

where,  difOri  represents  the  direction,  550  represents  an  average  stride,  and  28.3 

 

represents the number of pixels in 1 cm. 
 
4. Experiments  

We  have  implemented  the  indoor-outdoor  positioning  system  for  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park,  on  an  LG  G4  smartphone.  We  can  find 
11  viewpoints  and  Imhaejeon,  a  gazebo-like  Korean  traditional  house  in  Anapji  as 
shown in Figure 10. 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 10. An Anapji Pond map 

A  list  of  the  viewpoints  in  Anapji  is  shown  in  Figure  11.  "Silk  Carp"  is  a  place 

where we can find a school of colorful carp.  

 

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

203 

3.28/)550*)(sin(sin3.28/)550*)(cos(cosdifOriradiansValdifOriradiansValInternational Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

No.  Name 

Latitude 

Longitude 

1  Outdoor theater 

35.8334377 

129.226881 

Excavated building site 

35.83382256 

129.22655365 

Restored building 1 

35.8341224 

129.2267243 

Silk Carp 

35.8346375 

129.226638 

Restored building 3 

35.8350398 

129.2259305 

2 

3 

4 

5 

6 

7 

8 

9 

Shooting place 1 

Shooting place 2 

Shooting place 3 

Shooting place 4 

10  Water tank 

11  Gift store  

35.83525467 

129.22597275 

35.8354763 

129.2267946 

35.83542928 

129.22719923 

35.8353019 

129.2277628 

35.83390647 

129.22786741 

35.8334605 

129.2265516 

Figure 11. A list of viewpoints in Anapji 

Figure 12. An Example Outdoor Positioning Screenshot 

 

A  sample  outdoor  positioning  screenshot  is  shown  in  Figure  12.  The  latitude, 
longitude,  and  accuracy  read  from  the  GPS  are  35.83465756,  129.22662406,  and 
4.0,  respectively.  With  the  GPS  data,  it  concluded  that  the  user  is  at  the  4th 
viewpoint. 

In  Imhaejeon,  an  Anpji  bird's  eye  view  and  12  cultural  artifacts  unearthed  at 
Anapji  are  displayed  as  shown  in  Figure  13.  The  entrance  of  Imhaejeon  is 
represented by B1 in the figure. 
 

204  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

Figure 13. A Floor Map for Imhaejeon 

 

 

Figure 14. Scenario 1 to Test the Indoor Positioning App 

We have implemented two versions of indoor positioning apps, A and B. In the A 
app, we implemented the dead reckoning process. In the B app, we implemented the 
dead reckoning that updates its position with the position of POI whenever the user 
stops.  For  example,  it  changes  its  current  position  to  the  position  of  R3  when  the 
user stops at R3 as shown in Figure 15.  

We  have  performed  many  experiments  testing  our  indoor  positioning  app  in 
Imhaejeon.  The  scenario  1  of  our  experiments  is  to  stop  and  take  a  look  at  every 
exhibit  as  shown  in  Figure  14.  We  tested  the  scenario  1  30  times.  A  typical  test 
result  is  shown  in  Fig.  15.  During  the  experiment,  we  checked  the  user's  position 
360  (12  items  *  30  reps)  times.  The  A  app  correctly  identified  the  positions  323 
times out of 360 times whereas the B app correctly identified 348 times.   
 

Copyright ⓒ 2015 SERSC 

 

205 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

Figure 15. A Typical Test Result for the Scenario 1 

 

We  tried  many  other  scenarios.  Our  experimental  results  showed  that  the  B  app 

about 95% correctly identified the position. 
 
5. Conclusions 

We  described  our  implementation  of  an  indoor-outdoor  positioning  Android 
application. Our experimental results showed that the outdoor positioning app 100% 
correctly identifies the user's current position when the user stops at a viewpoint in 
Anapji  pond  and  the  indoor  positioning  app  about  95%  correctly  identifies  the 
user's position  when the user stops and watches  an  exhibit displayed in  Imhaejeon. 
We  are  planning  to  develop  a  practical  smart  tourism  guide  app  based  on  indoor-
outdoor positioning app discussed in the paper. 
 
Acknowledgment 

This research was supported by Basic Science Research Program through the National 
Research  Foundation  of  Korea(NRF)  funded  by  the  Ministry  of  Education  (NRF-2011-
0006942)  and  by  ‘Development  of  Global  Culture  and  Tourism  IPTV  Broadcasting 
Station’  Project 
the  Industrial  Infrastructure  Program  for  Fundamental 
Technologies funded by the Ministry of Knowledge Economy (10037393).  
 
References 

through 

[1]  Z.  Deng,  Y.  Yu,  Y.  Xie,  W.  Neng  and  L.  Yang,  “Situation  and  development  tendency  of  indoor 

positioning”, Communications, China, vol. 10, no. 3, (2013), pp. 42-55. 

[2]  J.  Yim,  “Development  of  Web  Services  for  WLAN-based  Indoor  Positioning  and  Floor  Map 

Repositories”, International Journal of Control and Automation, vol. 7, no. 3, (2014), pp. 63-74. 

[3]  D. Philipp, P. Baier, C. Dibak, F. Durr, K. Rothermel, S. Becker, M. Peter and D. Fritsch, “MapGENIE: 
Grammar-enhanced indoor map construction from crowd-sourced data”, IEEE International Conference 
on Pervasive Computing and Communications (PerCom), pp. 139–147, (2014). 

[4]  T. Liu, W. Zhu, X. Ding, J. Pan and C. Wang, “Research on Mechanism of Smart Guide in the Scenic 
Spots  Based  on  Dynamic  LBS”,  2nd  International  Conference  on  Remote  Sensing,  Environment  and 
Transportation Engineering (RSETE), (2012), pp. 1-4. 

[5]  M.  Ficco  and  R.  Aversa,  “Hybrid  Localization  for  Ubiquitous  Services”,  IEEE  10th  International 
Conference  on  Ubiquitous  Intelligence  and  Computing,  and  10th  International  Conference  on 
Autonomic and Trusted Computing (UIC/ATC), (2013), pp. 1-8. 

[6]  T.  Reinsch,  Y.  Wang,  M.  Knechtel,  M.  Ameling  and  P.  Herzig,  “CINA  -  A  Crowdsourced  Indoor 
Navigation  Assistant”,  IEEE/ACM  6th  International  Conference  on  Utility  and  Cloud  Computing 
(UCC), (2013), pp.500-505. 

206  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015), pp. 195-208 
http://dx.doi.org/10.14257/ijseia.2015.9.3.19 
 
 

Development of an Indoor-Outdoor Positioning Android App for 

Anapji Tourist Guides 

Kyubark Shim1, Jaegeol Yim2* and Junri Jeon2 

 
 

1Department of Applied Statistics 

2Department of Computer Engineering 

Dongguk University at Gyeongju, Gyeongbuk, Korea 

{shim, yim, junri}@dongguk.ac.kr 

Abstract 

This paper introduces the development details of an Indoor and Outdoor Positioning 
Android app for Anapji, an artificial pond in Gyeongju National Park in Korea, tourist 
guide  apps.  There  is  a  pathway  around  the  pond,  with  around  10  viewpoints  and 
Imhaejeon, a gazebo-like Korean traditional house, along this pathway. In Imhaejeon, we 
can  find  an  Anapji  bird's-eye  view  at  the  center  and  12  cultural  artifacts  unearthed  at 
Anapji displayed along the four edges of Imhaejeon. Tourists walk along the pathway and 
stop  at  a  viewpoint  to  enjoy  the  scenic  beauty  at  their  wish.  Most  of  them  also  enter 
Imhaejeon, walk along the edge, and stop in front of an artifact to watch it. Whenever a 
tourist stops to watch something, tourist guide apps show a content that is closely related 
to  the  thing  that  is  being  watched.  The  content  can  be  a  video  clip  describing  how  the 
artifact was crafted or a video game that mimics an ancient game played by the people in 
the  8th  century.  This  kind  of  tourist  guide  app  cannot  be  realized  unless  they  can 
recognize the position where the user is located. This paper develops an indoor-outdoor 
positioning  Android  app  that  is  an  essential  part  of  tourist  guide  apps.  Our  indoor-
outdoor  positioning  app  uses  the  GPS  receiver  for  outdoor  positioning  whereas  it  uses 
the  dead  reckoning  method  for  indoor  positioning.  Our  test  results  showed  that  our 
indoor-outdoor positioning app is accurate enough to be used for practical tourist guide 
apps. 

 
Keywords: positioning; Android app; GPS; dead reckoning; indoor positioning. 

 
1. Introduction 

As it is included in Korea's future strategic industries, Location Based services (LBS) 
have been intensively studied. Now, it matured and  is widely used in our daily life and 
makes a good deal of contribution to the development of various industries. LBS should 
be available inside of manmade structures such as buildings, subways, and underground 
shopping  malls  because  they  are  huge  and  people  spend  most  of  their  time  there.  LBS 
provided  in  manmade  structures  is  called  indoor  LBS.  Kids  care  in  amusement  parks, 
senior  care,  building  management,  and  personalized  smart  service  are  types  of  indoor 
LBS  and  indoor  LBS  performs  crucial  roles  in  life-saving  in  fire  and  emergency 
evacuation [1]. 

Global  Positioning  System  (GPS)  and  Global  Navigation  Satellite  System 
(GLONASS) provide the general solutions of positioning for outdoor LBS. Google maps, 
Naver  Maps,  Daum  Maps  and  others  provide  the  general  solution  of  user  interface  for 
outdoor LBS. However, there are no general solutions of indoor positioning and of user 

                                                           
* Corresponding Author 

ISSN: 1738-9984 IJSEIA  
Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
interface  for  indoor  LBS.  Therefore,  techniques  for  indoor  LBS  are  still  hot  research 
topics [2, 3]. 

Tourist  guide  mobile  apps  explain  the  origins  of  manufacturing  methods  of,  and 
historical facts associated with the ruins and relics of ancient times to tourists on behalf 
of tourist guides. Therefore, a tourist guide app must recognize the ruin and the relic that 
the  tourist  is  watching.  Recognizing  the  things  that  the  user  is  watching  requires 
recognizing the position where the tourist is located. 

Nowadays,  almost  everybody  carries  a  smartphone  that  is  equipped  with  a  fast 
processor, a large capacity memory, a GPS receiver, and various accurate sensors. Thus, 
smartphones are the best candidate platform where tourist guide apps run. 

This  paper  provides  the  details  on  the  development  of  an  indoor  and  outdoor 
positioning  app  that  can  be  plugged  into  a  tourist  guide  app  as  an  accurate  location 
provider.  Outdoor  positioning  can  be  done  by  using  GPS.  Once  we  have  the  position 
from  the  GPS,  we  can  determine  the  things  that  the  user  is  watching  with  the  sensor 
values from the smartphone sensors. 

There  is  no  general  solution  of  indoor  positioning.  We  introduce  an  enhanced  dead 
reckoning  (EDR)  indoor  positioning.  EDR  recognizes  the  moment  when  the  user  is 
entering  a  manmade  structure  and  uses  the  entrance  as  the  start  point  of  the  dead 
reckoning  process.  EDR  counts  steps  with  accelerometer  values  and  determines  the 
direction with orientation values. With the step count and the direction, EDR determines 
the user's current position as the ordinary dead reckoning process does. The uniqueness 
of EDR is that it recognizes when the user is not moving, finds out the point of interest 
(POI)  in  which  the  user  is  interested,  and  adjusts  the  result  of  dead  reckoning  with  the 
position of the POI.  

We  implemented  our  indoor  and  outdoor  positioning  app  and  tested  it  in  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park.  Our  test  results  showed  that  our  positioning 
app is efficient and accurate enough to be used in practical tourist guide apps. 
 
2. Related Works 

As  buildings  and  underground  facilities  such  as  shopping  malls  around  subway 
stations  are  getting  bigger  numbers  of  people,  the  duration  of  time  people  work 
inside  a  building  is  longer  than  that  of  people  working  outside  the  building.  It 
frequently  happens  to  us  to  visit  a  huge  manmade  structure  to  do  something. 
Therefore, indoor LBS and indoor positioning have attracted a lot of attention from 
researchers.  The  smart  guide  that  shows  the  way  to  viewpoints  [4],  the  museum 
guide [5], and the indoor navigation system [6] are a few examples of Indoor LBS.  
techniques  and 
emphasized  that  extending  GIS  (Geographic  Information  System)  to  manmade 
structures is a requirement for fostering indoor LBS industry. 

The  authors  of  [1]  surveyed  various 

indoor  positioning 

So  many  indoor  positioning  techniques  have  been  proposed.  The  techniques 
proposed  in  the  early  stage  of  the  indoor  positioning  required  special  equipment 
dedicated  to  positioning.  The  method  introduced  in  [7]  required  attaching  beacons 
and sending out infrared to the  moving  objects and to install receivers at rooms so 
that  the  system  could  recognize  in  which  room  a  user  is  located.  The  method 
introduced  in  [8]  required  attaching  beacons  to  moving  objects  to  send  out  both 
radio wave and sound wave and to install many receivers in the ceilings so that the 
system accurately estimated the moving object's position. The method introduced in 
[9]  worked  in  the  reverse  way,  in  that  the  beacons  are  installed  at  fixed  positions 
whereas  a  receiver  is  attached  to  a  moving  object  so  that  the  moving  object  could 
identify where it is located.  

Using  special  equipment,  we  can  extremely  correctly  estimate  the  location  of  a 
moving  object.  However,  a  technique  that  requires  special  equipment  cannot  be  a 

196  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

general  solution  for  indoor  positioning.  Meanwhile,  wireless  local  area  networks 
(WLAN)  spread  widely  and  became  available  almost  everywhere.  Thus,  many 
WLAN  based  indoor  positioning  techniques  were  introduced  and  are  still  being 
studied. For example, the techniques introduced in [10, 11] are WLAN based.  

Smartphones  are  equipped  with  various  sensors,  powerful  processors,  and  large 
capacity memories. Smartphones have been so widely spread that almost everybody 
has a smartphone and carries the smartphone all the time because a smartphone has 
become  a  daily  necessity.  Therefore,  smartphone  based  indoor  positioning  and 
indoor  LBS  have  been  hot  research  topics.  For  example,  the  authors  of  [12] 
introduced a smartphone based indoor positioning method. Since smartphone based 
indoor positioning uses the sensors equipped on the smartphone, it can be generally 
used  in  developing  applications.  Furthermore,  a  smartphone  is  a  perfect  candidate 
platform  for  indoor  LBS  because  it  has  enough  memory  space  to  save  floor  maps 
and its computing power is more than enough to execute LBS applications.   

As  is  discussed,  the  environments  of  indoor  positioning  have  significantly 
evolved.  However,  the  basic  processes  of  determining  the  position  have  not 
changed much. They can be classified into the fingerprinting, trilateration, and dead 
reckoning. The deployment of fingerprinting consists of two  phases: off -line phase 
and real-time phase. During the off-line phase, we create a fingerprint for all CP i in 
candidate  points.  A  fingerprint  of  CP i  is  anything  that  identifies  CP i.  All  sensor 
values  collected  at  CPi  can  be  used  as  a  fingerprint  of  CP i.  During  the  real-time 
phase,  it  collects  sensor  values,  X,  finds  the  fingerprint  that  is  closest  to  X,  and 
returns  CPi  that  is  associated  with  the  closest  fingerprint  as  the  current  position  of 
the moving object. One of the disadvantages of the fingerprinting process is that the 
off-line phase of it is very time-consuming. However, the idea of the process is easy 
to  understand  and  the  result  is  relatively  accurate,  so  the  fingerprinting  is  still 
widely  used  [5,  13-20].  The  trilateration  process  receives  signals  sent  from  fixed 
positions, transfers  either  or  both  of them  into distances and orientations. With the 
coordinates  of  the  fixed  positions,  distances  (ranges),  and  orientations,  the 
trilateration  process  calculates  the  position  of  the  moving  object.  If  the  signal  is 
reliable  then  the  result  is  accurate.  GPS  and  the  methods  used  in  [8,  9,  18-20] 
belong to this category. Examples of dead reckoning are introduced in [3, 20, 21].   

The  method  introduced  in  [20]  is  a  combination  of  dead  reckoning  and 
fingerprinting. The prediction methods such as the Kalman filter and particle fil ters 
are  introduced  in  [22].  The  collaboration  method  in  which  users  exchange  their 
positions is introduced in [6]. 
 
3. The Proposed Indoor Outdoor Positioning 

The application  should  be run  on  a  device  that is  possessed  and  carried  by  everyone 
and  should  not  rely  on  special  resources.  Otherwise,  we  cannot  generally  use  the 
application.  As  we  discussed  in  the  Related  Works  section,  smartphone  based  dead 
reckoning for indoor positioning and GPS for outdoor positioning can be considered as a 
general solution. The GPS is run by the USA government and is available anywhere and 
anytime as long as satellite signals are receivable. According to our experimental results, 
the error range of the GPS is less than 6 meters. The dead reckoning indoor positioning 
relies only on the sensors inside the smartphone and it can be considered to be a general 
solution of indoor positioning even though the error of it increases as time goes by.  

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

197 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 1. Important Components of our Indoor and Outdoor Positioning 

System 

In this paper, we improve the accuracy of dead reckoning indoor positioning, making 
use of the information we can find on the map and floor maps. The important components 
of  our  indoor  and  outdoor  positioning  system  are  shown  in  Figure  1.  In  the  floor  map 
repository,  the  floor  maps  of  the  manmade  structures  in  the  domain  are  stored. 
Information on points of interest we can find indoor/outdoor is stored in the Indoor POI 
DB/Outdoor POI DB. Our app downloads information of POI and floor maps via the POI 
Web server and the map Web server.  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 2. The Classes for Outdoor Positioning 

198  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 3. A Flowchart for OutdoorTraceThread 

For outdoor positioning, we defined classes shown in Figure 2. OutdoorTraceActivity 
uses  LocationManager  provided  by  the  Android  operating  system.  MapView  is  a  view 
which  displays  a  map.  In  MyMath,  the  methods  to  calculate  the  mean  and  standard 
deviation are defined. OutdoorTraceThread reads GPS and checks if the user is moving 
or not by investigating the speed attribute obtained from the GPS receiver. If the user is 
moving, then it repeats reading GPS after sleeping for a while. Otherwise, it finds the POI 
that  is  nearest  to  the  user's  current  position.  If  the  distance  between  that  POI  and  the 
user's  current  position  is  less  than  a  threshold,  then  it  determines  that  the  user's  current 
position  is  the  position  of  the  POI.  It  repeats  this  process  until  the  user  enters  the 
building. This process of OutdoorTraceThread is described in Figure 3. 

The process to determine whether the user is inside or outside a building is described 
in Figure 4. It collects GPS signals every one second. If the average of recently collected 
five  accuracy  attributes  is  greater  than  a  threshold  then  it  determines  that  the  user  is 
inside the building. As is shown in Figure 5, the accuracy is high when the user is inside a 
building. 

For indoor positioning, we defined the classes shown in Figure 6. IndoorTraceActivity 
uses  SensorManager  in  order  to  read  the  accelerometer  and  orientation  sensors. 
IndoorTraceThread counts the number of steps taken by the user, determines whether the 
user  is  moving  or  not,  and  determines  the  direction  the  user  is  taking.  The 
DownloadFloorPlanThread downloads floor maps via HTTP GET method. MyView is a 
View which displays a floor map.  

 

 

 

Copyright ⓒ 2015 SERSC 

 

199 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 4. The Process to Determine whether the User is Inside a Building or 

Not 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 5. The Accuracy of GPS is High when the User is in a Building 

200  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

Figure 6. The Classes for Indoor Positioning 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 7. The Process of Recognizing a Step Defined in the StepCheck 

Class 

Referring  to  the  value  of  the  accelerometer  sensor,  the  StepCheck  class  recognizes a 
step  taken  by  the  user.  While  the  user  takes  a  step,  the  value  of  the  accelerometer 
increases to the pos_peek value, and then decreases to the neg_peek value. Therefore, the 

Copyright ⓒ 2015 SERSC 

 

201 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
StepCheck  increases  the  number  of steps  whenever the  accelerometer  value  reaches the 
neg_peek after reaching the pos_peek as shown in Figure 7.  

 

 

 

 

 

 

 

 

 

 

 

Figure 8. The Process to Determine whether the User is Moving or Not 

Figure 9. The Process of Recognizing the POI that the User is Watching 

When  the  GPS  is  available,  we  can  determine  whether  the  user  is  moving  or  not  by 
investigating  the  speed  attribute  of  the  GPS.  In  indoor  positioning,  the  GPS  is  not 
available  and  we  investigate  the  accelerometer  values.  If  the  standard  deviation  of 
recently collected k accelerometer values is less than a threshold, then we conclude that 
the user is not moving as shown in Figure 8. 

The process of recognizing the POI that the user is watching is shown in Figure 9. This 
process  uses  the  StopStateCheck,  StepCheck,  DrawingOrientation,  and  UserOrientation 
classes. Using the StopStateCheck class, it determines if the user is moving or not. If the 
user  is  moving,  then  it  goes  back  to  the  step  of  reading  the  accelerometer  sensor; 
otherwise it proceeds to the next step of recognizing the POI that the user is watching.  

Using the StepCheck class, it recognizes a step taken by the user and updates the user's 
current position for every step until the last accelerometer value is reached. When the last 

202  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
accelerometer  value  is  reached,  it  determines  whether  the  user  is  facing  north  (TOP), 
south  (BOTTOM),  east  (RIGHT),  or  west  (LEFT),  by  using  the  UserOrientation  class. 
Then, it finds the nearest POI. Assuming that the user's current position is the position of 
the  nearest  POI,  we  can  update the  user's  current  position to  the  position  of  the  nearest 
POI.  

We use the following expressions in order to find the relative x/y coordinate distance 

from the last position: 

where,  difOri  represents  the  direction,  550  represents  an  average  stride,  and  28.3 

 

represents the number of pixels in 1 cm. 
 
4. Experiments  

We  have  implemented  the  indoor-outdoor  positioning  system  for  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park,  on  an  LG  G4  smartphone.  We  can  find 
11  viewpoints  and  Imhaejeon,  a  gazebo-like  Korean  traditional  house  in  Anapji  as 
shown in Figure 10. 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 10. An Anapji Pond map 

A  list  of  the  viewpoints  in  Anapji  is  shown  in  Figure  11.  "Silk  Carp"  is  a  place 

where we can find a school of colorful carp.  

 

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

203 

3.28/)550*)(sin(sin3.28/)550*)(cos(cosdifOriradiansValdifOriradiansValInternational Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

No.  Name 

Latitude 

Longitude 

1  Outdoor theater 

35.8334377 

129.226881 

Excavated building site 

35.83382256 

129.22655365 

Restored building 1 

35.8341224 

129.2267243 

Silk Carp 

35.8346375 

129.226638 

Restored building 3 

35.8350398 

129.2259305 

2 

3 

4 

5 

6 

7 

8 

9 

Shooting place 1 

Shooting place 2 

Shooting place 3 

Shooting place 4 

10  Water tank 

11  Gift store  

35.83525467 

129.22597275 

35.8354763 

129.2267946 

35.83542928 

129.22719923 

35.8353019 

129.2277628 

35.83390647 

129.22786741 

35.8334605 

129.2265516 

Figure 11. A list of viewpoints in Anapji 

Figure 12. An Example Outdoor Positioning Screenshot 

 

A  sample  outdoor  positioning  screenshot  is  shown  in  Figure  12.  The  latitude, 
longitude,  and  accuracy  read  from  the  GPS  are  35.83465756,  129.22662406,  and 
4.0,  respectively.  With  the  GPS  data,  it  concluded  that  the  user  is  at  the  4th 
viewpoint. 

In  Imhaejeon,  an  Anpji  bird's  eye  view  and  12  cultural  artifacts  unearthed  at 
Anapji  are  displayed  as  shown  in  Figure  13.  The  entrance  of  Imhaejeon  is 
represented by B1 in the figure. 
 

204  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

Figure 13. A Floor Map for Imhaejeon 

 

 

Figure 14. Scenario 1 to Test the Indoor Positioning App 

We have implemented two versions of indoor positioning apps, A and B. In the A 
app, we implemented the dead reckoning process. In the B app, we implemented the 
dead reckoning that updates its position with the position of POI whenever the user 
stops.  For  example,  it  changes  its  current  position  to  the  position  of  R3  when  the 
user stops at R3 as shown in Figure 15.  

We  have  performed  many  experiments  testing  our  indoor  positioning  app  in 
Imhaejeon.  The  scenario  1  of  our  experiments  is  to  stop  and  take  a  look  at  every 
exhibit  as  shown  in  Figure  14.  We  tested  the  scenario  1  30  times.  A  typical  test 
result  is  shown  in  Fig.  15.  During  the  experiment,  we  checked  the  user's  position 
360  (12  items  *  30  reps)  times.  The  A  app  correctly  identified  the  positions  323 
times out of 360 times whereas the B app correctly identified 348 times.   
 

Copyright ⓒ 2015 SERSC 

 

205 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

Figure 15. A Typical Test Result for the Scenario 1 

 

We  tried  many  other  scenarios.  Our  experimental  results  showed  that  the  B  app 

about 95% correctly identified the position. 
 
5. Conclusions 

We  described  our  implementation  of  an  indoor-outdoor  positioning  Android 
application. Our experimental results showed that the outdoor positioning app 100% 
correctly identifies the user's current position when the user stops at a viewpoint in 
Anapji  pond  and  the  indoor  positioning  app  about  95%  correctly  identifies  the 
user's position  when the user stops and watches  an  exhibit displayed in  Imhaejeon. 
We  are  planning  to  develop  a  practical  smart  tourism  guide  app  based  on  indoor-
outdoor positioning app discussed in the paper. 
 
Acknowledgment 

This research was supported by Basic Science Research Program through the National 
Research  Foundation  of  Korea(NRF)  funded  by  the  Ministry  of  Education  (NRF-2011-
0006942)  and  by  ‘Development  of  Global  Culture  and  Tourism  IPTV  Broadcasting 
Station’  Project 
the  Industrial  Infrastructure  Program  for  Fundamental 
Technologies funded by the Ministry of Knowledge Economy (10037393).  
 
References 

through 

[1]  Z.  Deng,  Y.  Yu,  Y.  Xie,  W.  Neng  and  L.  Yang,  “Situation  and  development  tendency  of  indoor 

positioning”, Communications, China, vol. 10, no. 3, (2013), pp. 42-55. 

[2]  J.  Yim,  “Development  of  Web  Services  for  WLAN-based  Indoor  Positioning  and  Floor  Map 

Repositories”, International Journal of Control and Automation, vol. 7, no. 3, (2014), pp. 63-74. 

[3]  D. Philipp, P. Baier, C. Dibak, F. Durr, K. Rothermel, S. Becker, M. Peter and D. Fritsch, “MapGENIE: 
Grammar-enhanced indoor map construction from crowd-sourced data”, IEEE International Conference 
on Pervasive Computing and Communications (PerCom), pp. 139–147, (2014). 

[4]  T. Liu, W. Zhu, X. Ding, J. Pan and C. Wang, “Research on Mechanism of Smart Guide in the Scenic 
Spots  Based  on  Dynamic  LBS”,  2nd  International  Conference  on  Remote  Sensing,  Environment  and 
Transportation Engineering (RSETE), (2012), pp. 1-4. 

[5]  M.  Ficco  and  R.  Aversa,  “Hybrid  Localization  for  Ubiquitous  Services”,  IEEE  10th  International 
Conference  on  Ubiquitous  Intelligence  and  Computing,  and  10th  International  Conference  on 
Autonomic and Trusted Computing (UIC/ATC), (2013), pp. 1-8. 

[6]  T.  Reinsch,  Y.  Wang,  M.  Knechtel,  M.  Ameling  and  P.  Herzig,  “CINA  -  A  Crowdsourced  Indoor 
Navigation  Assistant”,  IEEE/ACM  6th  International  Conference  on  Utility  and  Cloud  Computing 
(UCC), (2013), pp.500-505. 

206  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

[7]  R.  Want,  A.  Hopper,  V.  Falcao  and  J.  Gibbons,  “The  Active  Badge  Location  System”,  ACM 

Transactions on Information Systems, vol. 10, no. 1, (1992), pp. 91-102. 

[8]  A.  Harter  and  A.  Hopper,  “A  New  Location  Technique  for  the  Active  Office”,  IEEE  Personal 

Communications, vol. 4, no. 5, (1997), pp. 43-47. 

[9]  N. Priyanthat, A. Chakraborty and H. Balakrishnan, “The Cricket  Location-Support System”, Proc. of 

6th ACM International Conference on Mobile Computing and Networking, Boston, MA, (2000). 

[10] J.  Yim,  “Introducing  a  decision  tree-based  indoor  positioning  technique”,  Expert  Systems  with 

Applications, vol. 34, no. 2, (2008), pp. 1296-1302. 

[11] J.  Yim,  C.  Park,  J.  Joo  and  S.  Jeong,  “Extended  Kalman  Filter  for  Wireless  LAN  Based  Indoor 

Positioning”, Decision Support Systems, vol. 45, (2008), pp. 960-971. 

[12] J. Yim, “A Smartphone Indoor Positioning Method”, International Journal of Smart Home, vol. 7, no. 5, 

(2013), pp. 9-18. 

[13] K.  Khaoampai,  K.  Suksen,  K.  Nakorn  and  K.  Rojviboonchai,  “DecaFriend:  Serverless  indoor 
localization  system  on  mobile  phone  platform”,  11th  International  Joint  Conference  on  Computer 
Science and Software Engineering (JCSSE), (2014), pp. 176–181. 

[14] G. Villarrubia, G., J. De Paz, P. De La amd J. Bajo, “Hybrid indoor location system for museum tourist 
routes in augmented reality”, 17th International Conference on Information Fusion (FUSION), (2014), 
pp. 1-8. 

[15] C.  Lu,  H.  Kuo,  C.  Hsiao,  Y.  Ho,  Y.  Lin  and  H.  Ma,  “Localization  with  WLAN  on  smartphones  in 
hospitals”,  IEEE  15th  International  Conference  on  e-Health  Networking,  Applications  &  Services 
(Healthcom), (2013), pp. 534-538. 

[16] P. Brida, M. Mlynka and J. Machaj, “How to solve GNSS problem in critical environment?”, IEEE 17th 

International Conference on Intelligent Engineering Systems (INES), (2013), pp. 27-31. 

[17] P.  Nagpal  and  R.  Rashidzadeh,  “Indoor  positioning  using  magnetic  compass  and  accelerometer  of 
smartphones”,  International  Conference  on  Selected  Topics  in  Mobile  and  Wireless  Networking 
(MoWNeT), (2013), pp. 140-145. 

[18] G.  Cullen,  K.  Curran  and  J.  Santos,  “Cooperatively  extending  the  range  of  Indoor  Localisation”,  24th 

IET Irish Signals and Systems Conference (ISSC 2013), (2013), pp. 1–8. 

[19] A. Kuntal, P. Karmakar and S. Chakraborty, “Optimization technique based localization in IEEE 802.11 

WLAN”, Recent Advances and Innovations in Engineering (ICRAIE), (2014), pp. 1-5. 

[20] T. Gaedeke, M. Johnson, M. Hedley and W. Stork, “Fusion of wireless ranging and inertial sensors for 
precise  and  scalable  indoor  localization”,  IEEE  International  Conference  on  Communications 
Workshops (ICC), (2014), pp. 138-143. 

[21] B.  Al  Delail,  L.  Weruaga,  M.  Zemerly  and  J.  Ng,  “Indoor  localization  and  navigation  using 
smartphones  augmented  reality  and  inertial  tracking”,  IEEE  20th  International  Conference  on 
Electronics, Circuits, and Systems (ICECS), (2013), pp. 929-932. 

[22] A.  Nakib,  B.  Daachi,  M.  Dakkak  and  P.  Siarry,  “Mobile  Tracking  Based  on  Fractional  Integration”, 

IEEE Transactions on Mobile Computing, vol. 13, no. 10, (2014), pp. 2306-2319. 

 

 
 
 

Authors 

 

the  Dongguk  University 

Kyubark  Shim  received  the  M.S.  and  the  Ph.D.  degrees  in 
Statistics  from 
in  1986  and  1993, 
respectively. He is a Professor in the Department of Information and 
Statistics  at  Dongguk  University  at  Gyeongju,  Korea.  His  current 
research  interests  include  Computational  Statistics,  Reliability  Test, 
Analysis of Statistical Data. 

Jaegeol  Yim,  received  the  M.S.  and  Ph.D.  degrees  in 
Computer  Science  from the  University of  Illinois at  Chicago,  in 
1987 and 1990, respectively. He is a Professor in the Department 
of  Computer  Engineering  at  Dongguk  University  at  Gyeongju 
Korea. His current research interests include Petri net theory and 
its  applications,  Location  Based  Service,  AI  systems,  and 
multimedia  systems.  He  has  published  more  than  50  journal 
papers,  100  conference  papers  (mostly  written  in  Korean 
Language), and several undergraduate textbooks. 

Copyright ⓒ 2015 SERSC 

 

207 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015), pp. 195-208 
http://dx.doi.org/10.14257/ijseia.2015.9.3.19 
 
 

Development of an Indoor-Outdoor Positioning Android App for 

Anapji Tourist Guides 

Kyubark Shim1, Jaegeol Yim2* and Junri Jeon2 

 
 

1Department of Applied Statistics 

2Department of Computer Engineering 

Dongguk University at Gyeongju, Gyeongbuk, Korea 

{shim, yim, junri}@dongguk.ac.kr 

Abstract 

This paper introduces the development details of an Indoor and Outdoor Positioning 
Android app for Anapji, an artificial pond in Gyeongju National Park in Korea, tourist 
guide  apps.  There  is  a  pathway  around  the  pond,  with  around  10  viewpoints  and 
Imhaejeon, a gazebo-like Korean traditional house, along this pathway. In Imhaejeon, we 
can  find  an  Anapji  bird's-eye  view  at  the  center  and  12  cultural  artifacts  unearthed  at 
Anapji displayed along the four edges of Imhaejeon. Tourists walk along the pathway and 
stop  at  a  viewpoint  to  enjoy  the  scenic  beauty  at  their  wish.  Most  of  them  also  enter 
Imhaejeon, walk along the edge, and stop in front of an artifact to watch it. Whenever a 
tourist stops to watch something, tourist guide apps show a content that is closely related 
to  the  thing  that  is  being  watched.  The  content  can  be  a  video  clip  describing  how  the 
artifact was crafted or a video game that mimics an ancient game played by the people in 
the  8th  century.  This  kind  of  tourist  guide  app  cannot  be  realized  unless  they  can 
recognize the position where the user is located. This paper develops an indoor-outdoor 
positioning  Android  app  that  is  an  essential  part  of  tourist  guide  apps.  Our  indoor-
outdoor  positioning  app  uses  the  GPS  receiver  for  outdoor  positioning  whereas  it  uses 
the  dead  reckoning  method  for  indoor  positioning.  Our  test  results  showed  that  our 
indoor-outdoor positioning app is accurate enough to be used for practical tourist guide 
apps. 

 
Keywords: positioning; Android app; GPS; dead reckoning; indoor positioning. 

 
1. Introduction 

As it is included in Korea's future strategic industries, Location Based services (LBS) 
have been intensively studied. Now, it matured and  is widely used in our daily life and 
makes a good deal of contribution to the development of various industries. LBS should 
be available inside of manmade structures such as buildings, subways, and underground 
shopping  malls  because  they  are  huge  and  people  spend  most  of  their  time  there.  LBS 
provided  in  manmade  structures  is  called  indoor  LBS.  Kids  care  in  amusement  parks, 
senior  care,  building  management,  and  personalized  smart  service  are  types  of  indoor 
LBS  and  indoor  LBS  performs  crucial  roles  in  life-saving  in  fire  and  emergency 
evacuation [1]. 

Global  Positioning  System  (GPS)  and  Global  Navigation  Satellite  System 
(GLONASS) provide the general solutions of positioning for outdoor LBS. Google maps, 
Naver  Maps,  Daum  Maps  and  others  provide  the  general  solution  of  user  interface  for 
outdoor LBS. However, there are no general solutions of indoor positioning and of user 

                                                           
* Corresponding Author 

ISSN: 1738-9984 IJSEIA  
Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
interface  for  indoor  LBS.  Therefore,  techniques  for  indoor  LBS  are  still  hot  research 
topics [2, 3]. 

Tourist  guide  mobile  apps  explain  the  origins  of  manufacturing  methods  of,  and 
historical facts associated with the ruins and relics of ancient times to tourists on behalf 
of tourist guides. Therefore, a tourist guide app must recognize the ruin and the relic that 
the  tourist  is  watching.  Recognizing  the  things  that  the  user  is  watching  requires 
recognizing the position where the tourist is located. 

Nowadays,  almost  everybody  carries  a  smartphone  that  is  equipped  with  a  fast 
processor, a large capacity memory, a GPS receiver, and various accurate sensors. Thus, 
smartphones are the best candidate platform where tourist guide apps run. 

This  paper  provides  the  details  on  the  development  of  an  indoor  and  outdoor 
positioning  app  that  can  be  plugged  into  a  tourist  guide  app  as  an  accurate  location 
provider.  Outdoor  positioning  can  be  done  by  using  GPS.  Once  we  have  the  position 
from  the  GPS,  we  can  determine  the  things  that  the  user  is  watching  with  the  sensor 
values from the smartphone sensors. 

There  is  no  general  solution  of  indoor  positioning.  We  introduce  an  enhanced  dead 
reckoning  (EDR)  indoor  positioning.  EDR  recognizes  the  moment  when  the  user  is 
entering  a  manmade  structure  and  uses  the  entrance  as  the  start  point  of  the  dead 
reckoning  process.  EDR  counts  steps  with  accelerometer  values  and  determines  the 
direction with orientation values. With the step count and the direction, EDR determines 
the user's current position as the ordinary dead reckoning process does. The uniqueness 
of EDR is that it recognizes when the user is not moving, finds out the point of interest 
(POI)  in  which  the  user  is  interested,  and  adjusts  the  result  of  dead  reckoning  with  the 
position of the POI.  

We  implemented  our  indoor  and  outdoor  positioning  app  and  tested  it  in  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park.  Our  test  results  showed  that  our  positioning 
app is efficient and accurate enough to be used in practical tourist guide apps. 
 
2. Related Works 

As  buildings  and  underground  facilities  such  as  shopping  malls  around  subway 
stations  are  getting  bigger  numbers  of  people,  the  duration  of  time  people  work 
inside  a  building  is  longer  than  that  of  people  working  outside  the  building.  It 
frequently  happens  to  us  to  visit  a  huge  manmade  structure  to  do  something. 
Therefore, indoor LBS and indoor positioning have attracted a lot of attention from 
researchers.  The  smart  guide  that  shows  the  way  to  viewpoints  [4],  the  museum 
guide [5], and the indoor navigation system [6] are a few examples of Indoor LBS.  
techniques  and 
emphasized  that  extending  GIS  (Geographic  Information  System)  to  manmade 
structures is a requirement for fostering indoor LBS industry. 

The  authors  of  [1]  surveyed  various 

indoor  positioning 

So  many  indoor  positioning  techniques  have  been  proposed.  The  techniques 
proposed  in  the  early  stage  of  the  indoor  positioning  required  special  equipment 
dedicated  to  positioning.  The  method  introduced  in  [7]  required  attaching  beacons 
and sending out infrared to the  moving  objects and to install receivers at rooms so 
that  the  system  could  recognize  in  which  room  a  user  is  located.  The  method 
introduced  in  [8]  required  attaching  beacons  to  moving  objects  to  send  out  both 
radio wave and sound wave and to install many receivers in the ceilings so that the 
system accurately estimated the moving object's position. The method introduced in 
[9]  worked  in  the  reverse  way,  in  that  the  beacons  are  installed  at  fixed  positions 
whereas  a  receiver  is  attached  to  a  moving  object  so  that  the  moving  object  could 
identify where it is located.  

Using  special  equipment,  we  can  extremely  correctly  estimate  the  location  of  a 
moving  object.  However,  a  technique  that  requires  special  equipment  cannot  be  a 

196  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

general  solution  for  indoor  positioning.  Meanwhile,  wireless  local  area  networks 
(WLAN)  spread  widely  and  became  available  almost  everywhere.  Thus,  many 
WLAN  based  indoor  positioning  techniques  were  introduced  and  are  still  being 
studied. For example, the techniques introduced in [10, 11] are WLAN based.  

Smartphones  are  equipped  with  various  sensors,  powerful  processors,  and  large 
capacity memories. Smartphones have been so widely spread that almost everybody 
has a smartphone and carries the smartphone all the time because a smartphone has 
become  a  daily  necessity.  Therefore,  smartphone  based  indoor  positioning  and 
indoor  LBS  have  been  hot  research  topics.  For  example,  the  authors  of  [12] 
introduced a smartphone based indoor positioning method. Since smartphone based 
indoor positioning uses the sensors equipped on the smartphone, it can be generally 
used  in  developing  applications.  Furthermore,  a  smartphone  is  a  perfect  candidate 
platform  for  indoor  LBS  because  it  has  enough  memory  space  to  save  floor  maps 
and its computing power is more than enough to execute LBS applications.   

As  is  discussed,  the  environments  of  indoor  positioning  have  significantly 
evolved.  However,  the  basic  processes  of  determining  the  position  have  not 
changed much. They can be classified into the fingerprinting, trilateration, and dead 
reckoning. The deployment of fingerprinting consists of two  phases: off -line phase 
and real-time phase. During the off-line phase, we create a fingerprint for all CP i in 
candidate  points.  A  fingerprint  of  CP i  is  anything  that  identifies  CP i.  All  sensor 
values  collected  at  CPi  can  be  used  as  a  fingerprint  of  CP i.  During  the  real-time 
phase,  it  collects  sensor  values,  X,  finds  the  fingerprint  that  is  closest  to  X,  and 
returns  CPi  that  is  associated  with  the  closest  fingerprint  as  the  current  position  of 
the moving object. One of the disadvantages of the fingerprinting process is that the 
off-line phase of it is very time-consuming. However, the idea of the process is easy 
to  understand  and  the  result  is  relatively  accurate,  so  the  fingerprinting  is  still 
widely  used  [5,  13-20].  The  trilateration  process  receives  signals  sent  from  fixed 
positions, transfers  either  or  both  of them  into distances and orientations. With the 
coordinates  of  the  fixed  positions,  distances  (ranges),  and  orientations,  the 
trilateration  process  calculates  the  position  of  the  moving  object.  If  the  signal  is 
reliable  then  the  result  is  accurate.  GPS  and  the  methods  used  in  [8,  9,  18-20] 
belong to this category. Examples of dead reckoning are introduced in [3, 20, 21].   

The  method  introduced  in  [20]  is  a  combination  of  dead  reckoning  and 
fingerprinting. The prediction methods such as the Kalman filter and particle fil ters 
are  introduced  in  [22].  The  collaboration  method  in  which  users  exchange  their 
positions is introduced in [6]. 
 
3. The Proposed Indoor Outdoor Positioning 

The application  should  be run  on  a  device  that is  possessed  and  carried  by  everyone 
and  should  not  rely  on  special  resources.  Otherwise,  we  cannot  generally  use  the 
application.  As  we  discussed  in  the  Related  Works  section,  smartphone  based  dead 
reckoning for indoor positioning and GPS for outdoor positioning can be considered as a 
general solution. The GPS is run by the USA government and is available anywhere and 
anytime as long as satellite signals are receivable. According to our experimental results, 
the error range of the GPS is less than 6 meters. The dead reckoning indoor positioning 
relies only on the sensors inside the smartphone and it can be considered to be a general 
solution of indoor positioning even though the error of it increases as time goes by.  

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

197 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 1. Important Components of our Indoor and Outdoor Positioning 

System 

In this paper, we improve the accuracy of dead reckoning indoor positioning, making 
use of the information we can find on the map and floor maps. The important components 
of  our  indoor  and  outdoor  positioning  system  are  shown  in  Figure  1.  In  the  floor  map 
repository,  the  floor  maps  of  the  manmade  structures  in  the  domain  are  stored. 
Information on points of interest we can find indoor/outdoor is stored in the Indoor POI 
DB/Outdoor POI DB. Our app downloads information of POI and floor maps via the POI 
Web server and the map Web server.  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 2. The Classes for Outdoor Positioning 

198  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 3. A Flowchart for OutdoorTraceThread 

For outdoor positioning, we defined classes shown in Figure 2. OutdoorTraceActivity 
uses  LocationManager  provided  by  the  Android  operating  system.  MapView  is  a  view 
which  displays  a  map.  In  MyMath,  the  methods  to  calculate  the  mean  and  standard 
deviation are defined. OutdoorTraceThread reads GPS and checks if the user is moving 
or not by investigating the speed attribute obtained from the GPS receiver. If the user is 
moving, then it repeats reading GPS after sleeping for a while. Otherwise, it finds the POI 
that  is  nearest  to  the  user's  current  position.  If  the  distance  between  that  POI  and  the 
user's  current  position  is  less  than  a  threshold,  then  it  determines  that  the  user's  current 
position  is  the  position  of  the  POI.  It  repeats  this  process  until  the  user  enters  the 
building. This process of OutdoorTraceThread is described in Figure 3. 

The process to determine whether the user is inside or outside a building is described 
in Figure 4. It collects GPS signals every one second. If the average of recently collected 
five  accuracy  attributes  is  greater  than  a  threshold  then  it  determines  that  the  user  is 
inside the building. As is shown in Figure 5, the accuracy is high when the user is inside a 
building. 

For indoor positioning, we defined the classes shown in Figure 6. IndoorTraceActivity 
uses  SensorManager  in  order  to  read  the  accelerometer  and  orientation  sensors. 
IndoorTraceThread counts the number of steps taken by the user, determines whether the 
user  is  moving  or  not,  and  determines  the  direction  the  user  is  taking.  The 
DownloadFloorPlanThread downloads floor maps via HTTP GET method. MyView is a 
View which displays a floor map.  

 

 

 

Copyright ⓒ 2015 SERSC 

 

199 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 4. The Process to Determine whether the User is Inside a Building or 

Not 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 5. The Accuracy of GPS is High when the User is in a Building 

200  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

Figure 6. The Classes for Indoor Positioning 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 7. The Process of Recognizing a Step Defined in the StepCheck 

Class 

Referring  to  the  value  of  the  accelerometer  sensor,  the  StepCheck  class  recognizes a 
step  taken  by  the  user.  While  the  user  takes  a  step,  the  value  of  the  accelerometer 
increases to the pos_peek value, and then decreases to the neg_peek value. Therefore, the 

Copyright ⓒ 2015 SERSC 

 

201 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
StepCheck  increases  the  number  of steps  whenever the  accelerometer  value  reaches the 
neg_peek after reaching the pos_peek as shown in Figure 7.  

 

 

 

 

 

 

 

 

 

 

 

Figure 8. The Process to Determine whether the User is Moving or Not 

Figure 9. The Process of Recognizing the POI that the User is Watching 

When  the  GPS  is  available,  we  can  determine  whether  the  user  is  moving  or  not  by 
investigating  the  speed  attribute  of  the  GPS.  In  indoor  positioning,  the  GPS  is  not 
available  and  we  investigate  the  accelerometer  values.  If  the  standard  deviation  of 
recently collected k accelerometer values is less than a threshold, then we conclude that 
the user is not moving as shown in Figure 8. 

The process of recognizing the POI that the user is watching is shown in Figure 9. This 
process  uses  the  StopStateCheck,  StepCheck,  DrawingOrientation,  and  UserOrientation 
classes. Using the StopStateCheck class, it determines if the user is moving or not. If the 
user  is  moving,  then  it  goes  back  to  the  step  of  reading  the  accelerometer  sensor; 
otherwise it proceeds to the next step of recognizing the POI that the user is watching.  

Using the StepCheck class, it recognizes a step taken by the user and updates the user's 
current position for every step until the last accelerometer value is reached. When the last 

202  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
accelerometer  value  is  reached,  it  determines  whether  the  user  is  facing  north  (TOP), 
south  (BOTTOM),  east  (RIGHT),  or  west  (LEFT),  by  using  the  UserOrientation  class. 
Then, it finds the nearest POI. Assuming that the user's current position is the position of 
the  nearest  POI,  we  can  update the  user's  current  position to  the  position  of  the  nearest 
POI.  

We use the following expressions in order to find the relative x/y coordinate distance 

from the last position: 

where,  difOri  represents  the  direction,  550  represents  an  average  stride,  and  28.3 

 

represents the number of pixels in 1 cm. 
 
4. Experiments  

We  have  implemented  the  indoor-outdoor  positioning  system  for  Anapji,  an 
artificial  pond  in  Gyeongju  National  Park,  on  an  LG  G4  smartphone.  We  can  find 
11  viewpoints  and  Imhaejeon,  a  gazebo-like  Korean  traditional  house  in  Anapji  as 
shown in Figure 10. 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Figure 10. An Anapji Pond map 

A  list  of  the  viewpoints  in  Anapji  is  shown  in  Figure  11.  "Silk  Carp"  is  a  place 

where we can find a school of colorful carp.  

 

 

 

 

 

Copyright ⓒ 2015 SERSC 

 

203 

3.28/)550*)(sin(sin3.28/)550*)(cos(cosdifOriradiansValdifOriradiansValInternational Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

No.  Name 

Latitude 

Longitude 

1  Outdoor theater 

35.8334377 

129.226881 

Excavated building site 

35.83382256 

129.22655365 

Restored building 1 

35.8341224 

129.2267243 

Silk Carp 

35.8346375 

129.226638 

Restored building 3 

35.8350398 

129.2259305 

2 

3 

4 

5 

6 

7 

8 

9 

Shooting place 1 

Shooting place 2 

Shooting place 3 

Shooting place 4 

10  Water tank 

11  Gift store  

35.83525467 

129.22597275 

35.8354763 

129.2267946 

35.83542928 

129.22719923 

35.8353019 

129.2277628 

35.83390647 

129.22786741 

35.8334605 

129.2265516 

Figure 11. A list of viewpoints in Anapji 

Figure 12. An Example Outdoor Positioning Screenshot 

 

A  sample  outdoor  positioning  screenshot  is  shown  in  Figure  12.  The  latitude, 
longitude,  and  accuracy  read  from  the  GPS  are  35.83465756,  129.22662406,  and 
4.0,  respectively.  With  the  GPS  data,  it  concluded  that  the  user  is  at  the  4th 
viewpoint. 

In  Imhaejeon,  an  Anpji  bird's  eye  view  and  12  cultural  artifacts  unearthed  at 
Anapji  are  displayed  as  shown  in  Figure  13.  The  entrance  of  Imhaejeon  is 
represented by B1 in the figure. 
 

204  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

Figure 13. A Floor Map for Imhaejeon 

 

 

Figure 14. Scenario 1 to Test the Indoor Positioning App 

We have implemented two versions of indoor positioning apps, A and B. In the A 
app, we implemented the dead reckoning process. In the B app, we implemented the 
dead reckoning that updates its position with the position of POI whenever the user 
stops.  For  example,  it  changes  its  current  position  to  the  position  of  R3  when  the 
user stops at R3 as shown in Figure 15.  

We  have  performed  many  experiments  testing  our  indoor  positioning  app  in 
Imhaejeon.  The  scenario  1  of  our  experiments  is  to  stop  and  take  a  look  at  every 
exhibit  as  shown  in  Figure  14.  We  tested  the  scenario  1  30  times.  A  typical  test 
result  is  shown  in  Fig.  15.  During  the  experiment,  we  checked  the  user's  position 
360  (12  items  *  30  reps)  times.  The  A  app  correctly  identified  the  positions  323 
times out of 360 times whereas the B app correctly identified 348 times.   
 

Copyright ⓒ 2015 SERSC 

 

205 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

Figure 15. A Typical Test Result for the Scenario 1 

 

We  tried  many  other  scenarios.  Our  experimental  results  showed  that  the  B  app 

about 95% correctly identified the position. 
 
5. Conclusions 

We  described  our  implementation  of  an  indoor-outdoor  positioning  Android 
application. Our experimental results showed that the outdoor positioning app 100% 
correctly identifies the user's current position when the user stops at a viewpoint in 
Anapji  pond  and  the  indoor  positioning  app  about  95%  correctly  identifies  the 
user's position  when the user stops and watches  an  exhibit displayed in  Imhaejeon. 
We  are  planning  to  develop  a  practical  smart  tourism  guide  app  based  on  indoor-
outdoor positioning app discussed in the paper. 
 
Acknowledgment 

This research was supported by Basic Science Research Program through the National 
Research  Foundation  of  Korea(NRF)  funded  by  the  Ministry  of  Education  (NRF-2011-
0006942)  and  by  ‘Development  of  Global  Culture  and  Tourism  IPTV  Broadcasting 
Station’  Project 
the  Industrial  Infrastructure  Program  for  Fundamental 
Technologies funded by the Ministry of Knowledge Economy (10037393).  
 
References 

through 

[1]  Z.  Deng,  Y.  Yu,  Y.  Xie,  W.  Neng  and  L.  Yang,  “Situation  and  development  tendency  of  indoor 

positioning”, Communications, China, vol. 10, no. 3, (2013), pp. 42-55. 

[2]  J.  Yim,  “Development  of  Web  Services  for  WLAN-based  Indoor  Positioning  and  Floor  Map 

Repositories”, International Journal of Control and Automation, vol. 7, no. 3, (2014), pp. 63-74. 

[3]  D. Philipp, P. Baier, C. Dibak, F. Durr, K. Rothermel, S. Becker, M. Peter and D. Fritsch, “MapGENIE: 
Grammar-enhanced indoor map construction from crowd-sourced data”, IEEE International Conference 
on Pervasive Computing and Communications (PerCom), pp. 139–147, (2014). 

[4]  T. Liu, W. Zhu, X. Ding, J. Pan and C. Wang, “Research on Mechanism of Smart Guide in the Scenic 
Spots  Based  on  Dynamic  LBS”,  2nd  International  Conference  on  Remote  Sensing,  Environment  and 
Transportation Engineering (RSETE), (2012), pp. 1-4. 

[5]  M.  Ficco  and  R.  Aversa,  “Hybrid  Localization  for  Ubiquitous  Services”,  IEEE  10th  International 
Conference  on  Ubiquitous  Intelligence  and  Computing,  and  10th  International  Conference  on 
Autonomic and Trusted Computing (UIC/ATC), (2013), pp. 1-8. 

[6]  T.  Reinsch,  Y.  Wang,  M.  Knechtel,  M.  Ameling  and  P.  Herzig,  “CINA  -  A  Crowdsourced  Indoor 
Navigation  Assistant”,  IEEE/ACM  6th  International  Conference  on  Utility  and  Cloud  Computing 
(UCC), (2013), pp.500-505. 

206  

 

Copyright ⓒ 2015 SERSC 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 

[7]  R.  Want,  A.  Hopper,  V.  Falcao  and  J.  Gibbons,  “The  Active  Badge  Location  System”,  ACM 

Transactions on Information Systems, vol. 10, no. 1, (1992), pp. 91-102. 

[8]  A.  Harter  and  A.  Hopper,  “A  New  Location  Technique  for  the  Active  Office”,  IEEE  Personal 

Communications, vol. 4, no. 5, (1997), pp. 43-47. 

[9]  N. Priyanthat, A. Chakraborty and H. Balakrishnan, “The Cricket  Location-Support System”, Proc. of 

6th ACM International Conference on Mobile Computing and Networking, Boston, MA, (2000). 

[10] J.  Yim,  “Introducing  a  decision  tree-based  indoor  positioning  technique”,  Expert  Systems  with 

Applications, vol. 34, no. 2, (2008), pp. 1296-1302. 

[11] J.  Yim,  C.  Park,  J.  Joo  and  S.  Jeong,  “Extended  Kalman  Filter  for  Wireless  LAN  Based  Indoor 

Positioning”, Decision Support Systems, vol. 45, (2008), pp. 960-971. 

[12] J. Yim, “A Smartphone Indoor Positioning Method”, International Journal of Smart Home, vol. 7, no. 5, 

(2013), pp. 9-18. 

[13] K.  Khaoampai,  K.  Suksen,  K.  Nakorn  and  K.  Rojviboonchai,  “DecaFriend:  Serverless  indoor 
localization  system  on  mobile  phone  platform”,  11th  International  Joint  Conference  on  Computer 
Science and Software Engineering (JCSSE), (2014), pp. 176–181. 

[14] G. Villarrubia, G., J. De Paz, P. De La amd J. Bajo, “Hybrid indoor location system for museum tourist 
routes in augmented reality”, 17th International Conference on Information Fusion (FUSION), (2014), 
pp. 1-8. 

[15] C.  Lu,  H.  Kuo,  C.  Hsiao,  Y.  Ho,  Y.  Lin  and  H.  Ma,  “Localization  with  WLAN  on  smartphones  in 
hospitals”,  IEEE  15th  International  Conference  on  e-Health  Networking,  Applications  &  Services 
(Healthcom), (2013), pp. 534-538. 

[16] P. Brida, M. Mlynka and J. Machaj, “How to solve GNSS problem in critical environment?”, IEEE 17th 

International Conference on Intelligent Engineering Systems (INES), (2013), pp. 27-31. 

[17] P.  Nagpal  and  R.  Rashidzadeh,  “Indoor  positioning  using  magnetic  compass  and  accelerometer  of 
smartphones”,  International  Conference  on  Selected  Topics  in  Mobile  and  Wireless  Networking 
(MoWNeT), (2013), pp. 140-145. 

[18] G.  Cullen,  K.  Curran  and  J.  Santos,  “Cooperatively  extending  the  range  of  Indoor  Localisation”,  24th 

IET Irish Signals and Systems Conference (ISSC 2013), (2013), pp. 1–8. 

[19] A. Kuntal, P. Karmakar and S. Chakraborty, “Optimization technique based localization in IEEE 802.11 

WLAN”, Recent Advances and Innovations in Engineering (ICRAIE), (2014), pp. 1-5. 

[20] T. Gaedeke, M. Johnson, M. Hedley and W. Stork, “Fusion of wireless ranging and inertial sensors for 
precise  and  scalable  indoor  localization”,  IEEE  International  Conference  on  Communications 
Workshops (ICC), (2014), pp. 138-143. 

[21] B.  Al  Delail,  L.  Weruaga,  M.  Zemerly  and  J.  Ng,  “Indoor  localization  and  navigation  using 
smartphones  augmented  reality  and  inertial  tracking”,  IEEE  20th  International  Conference  on 
Electronics, Circuits, and Systems (ICECS), (2013), pp. 929-932. 

[22] A.  Nakib,  B.  Daachi,  M.  Dakkak  and  P.  Siarry,  “Mobile  Tracking  Based  on  Fractional  Integration”, 

IEEE Transactions on Mobile Computing, vol. 13, no. 10, (2014), pp. 2306-2319. 

 

 
 
 

Authors 

 

the  Dongguk  University 

Kyubark  Shim  received  the  M.S.  and  the  Ph.D.  degrees  in 
Statistics  from 
in  1986  and  1993, 
respectively. He is a Professor in the Department of Information and 
Statistics  at  Dongguk  University  at  Gyeongju,  Korea.  His  current 
research  interests  include  Computational  Statistics,  Reliability  Test, 
Analysis of Statistical Data. 

Jaegeol  Yim,  received  the  M.S.  and  Ph.D.  degrees  in 
Computer  Science  from the  University of  Illinois at  Chicago,  in 
1987 and 1990, respectively. He is a Professor in the Department 
of  Computer  Engineering  at  Dongguk  University  at  Gyeongju 
Korea. His current research interests include Petri net theory and 
its  applications,  Location  Based  Service,  AI  systems,  and 
multimedia  systems.  He  has  published  more  than  50  journal 
papers,  100  conference  papers  (mostly  written  in  Korean 
Language), and several undergraduate textbooks. 

Copyright ⓒ 2015 SERSC 

 

207 

International Journal of Software Engineering and Its Applications 
Vol. 9, No. 3 (2015) 
 
 
 

Junri  Jeon,  received  Bachelor  of  computer  science  from 
Dongguk  University,  Gyeongju, Korea in  2013.  He  has joined a 
IPTV  project  from  university  during  his  Master  course.  His 
research  interests  include  Reinforcement  Learning  Technique 
and A.I Systems. 

 
 
 
 

208  

 

Copyright ⓒ 2015 SERSC 

