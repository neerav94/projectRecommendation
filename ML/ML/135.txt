Identifying Expertise Using Kinect Data 

Cs 229 ­ Autumn 2015 

 

Camila Pereira 

 Stanford University 
camilap@stanford.edu 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 
 

 
 
 

 
student
tasks,

Introduction 
 
 

1.
Project ​based models of teaching and the
 
 
 
spaces is becoming an
use of maker
 
important trend in modern education. But
 
how to assess how well a student is doing
 
 
on these activities? One hypothesis is that
 
the set of gestures and time a student
applies in solving tasks is a predictive of
 
how much expertise he acquired. These
 
 
and kinematic variables could
kinetic
suggest how long a student takes to solve a
 
 
 
problem, how long he spends in analyses
 
 
before testing a tactic or if he is trying a
 
 
 
random strategies. When
number of
 
 
 
 
performing
watching
a
 
 
an experienced
problem­solving
 
 
 
the signs that his
teacher could infer
 
apprentice is evolving. This skill could be
 
 
scaled if we were able to evaluate the
 
performance of a student automatically,
 
 
 
 
helping other
to identify the
 
effectiveness of educational activities in
 
 
 
project, I
several maker spaces. In this
 
 
evaluate
apply machine
to
 
participants in a workshop organized in the
   
 
Stanford’s fablab, by comparing them with
 
 
 
graduate engineering students
(experts)
 
using data from a Kinect sensor. The data
 
 
consists of the coordinates from 30 body
 
taken every 0.02 seconds. I used
points,
 
 
supervised learning algorithms (Logistic
 
 
 
Regression,
the
 
possibility of recognizing expertize using
 
 
this data. 

 
teachers
 
 

 
learning
 
 

 
 
SVM)
 

evaluate
 
 

to

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 
 
 

range

 
like
 

features
 
 

2. Related Work 
 
Previous work used data from kinect
 
 
sensors to separate patterns of gait (Begg,
R. & Kamruzzaman, J., 2005, Parajuli, M
 
et al, 2012). On these works, the authors
 
aimed to distinguish young from old
 
participants by their gait pattern. They
 
reported good results using SVM, what
 
motivated me to test these algorithms.  
In their study, Begg & Kamruzzaman
 
 
 
extracted
of
movement (kinect features) and angles
 
 
for ankles and knee (kinematic features).
The former had more positive influence
 
on the results, indicating that kinematic
 
 
analysis might be a good choice of
features for these kind of data. ​Zafrulla et
 
 
al. (2011), who used data from a kinect to
 
 
recognize sign language, used PCA to
 
 
the dataset,
reduce the dimension of
 
 
though no impact on the learning efficacy
 
was reported. 
 
reported using
et
Parajuli
 
 
 
KPCA, an algorithm that performs PCA
 
 
 
using a kernel, getting better results than
 
 
using the usual PCA algorithm to select
 
 
 
features for gait recognition. Those two
 
last studies motivated me to test PCA on
 
my dataset. 

al.(2012)
 

 
   
 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Identifying Expertise Using Kinect Data 

Cs 229 ­ Autumn 2015 

 

Camila Pereira 

 Stanford University 
camilap@stanford.edu 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 
 

 
 
 

 
student
tasks,

Introduction 
 
 

1.
Project ​based models of teaching and the
 
 
 
spaces is becoming an
use of maker
 
important trend in modern education. But
 
how to assess how well a student is doing
 
 
on these activities? One hypothesis is that
 
the set of gestures and time a student
applies in solving tasks is a predictive of
 
how much expertise he acquired. These
 
 
and kinematic variables could
kinetic
suggest how long a student takes to solve a
 
 
 
problem, how long he spends in analyses
 
 
before testing a tactic or if he is trying a
 
 
 
random strategies. When
number of
 
 
 
 
performing
watching
a
 
 
an experienced
problem­solving
 
 
 
the signs that his
teacher could infer
 
apprentice is evolving. This skill could be
 
 
scaled if we were able to evaluate the
 
performance of a student automatically,
 
 
 
 
helping other
to identify the
 
effectiveness of educational activities in
 
 
 
project, I
several maker spaces. In this
 
 
evaluate
apply machine
to
 
participants in a workshop organized in the
   
 
Stanford’s fablab, by comparing them with
 
 
 
graduate engineering students
(experts)
 
using data from a Kinect sensor. The data
 
 
consists of the coordinates from 30 body
 
taken every 0.02 seconds. I used
points,
 
 
supervised learning algorithms (Logistic
 
 
 
Regression,
the
 
possibility of recognizing expertize using
 
 
this data. 

 
teachers
 
 

 
learning
 
 

 
 
SVM)
 

evaluate
 
 

to

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 
 
 

range

 
like
 

features
 
 

2. Related Work 
 
Previous work used data from kinect
 
 
sensors to separate patterns of gait (Begg,
R. & Kamruzzaman, J., 2005, Parajuli, M
 
et al, 2012). On these works, the authors
 
aimed to distinguish young from old
 
participants by their gait pattern. They
 
reported good results using SVM, what
 
motivated me to test these algorithms.  
In their study, Begg & Kamruzzaman
 
 
 
extracted
of
movement (kinect features) and angles
 
 
for ankles and knee (kinematic features).
The former had more positive influence
 
on the results, indicating that kinematic
 
 
analysis might be a good choice of
features for these kind of data. ​Zafrulla et
 
 
al. (2011), who used data from a kinect to
 
 
recognize sign language, used PCA to
 
 
the dataset,
reduce the dimension of
 
 
though no impact on the learning efficacy
 
was reported. 
 
reported using
et
Parajuli
 
 
 
KPCA, an algorithm that performs PCA
 
 
 
using a kernel, getting better results than
 
 
using the usual PCA algorithm to select
 
 
 
features for gait recognition. Those two
 
last studies motivated me to test PCA on
 
my dataset. 

al.(2012)
 

 
   
 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
the
 

 
of
 
 

execution
 

 
 
during
 
20 high schools
 
 

3. Dataset and Features 
 
The data used was extracted from a kinect
 
sensor
an
 
experiment at Stanford’s fablab. In this
 
seniors
experiment,
 
 
 
 
(“novices”) participating in a workshop
 
performed six assembling puzzles. Three
 
of them were took place before and three
 
after
the workshop. Three participants
 
 
dropped the workshop and their data was
 
 
excluded. As
18
mechanical engineering graduate students
 
(“experts”) performed the same tasks.  
The puzzles were executed in the same 3’
by 6’ table, and recorded for 5 minutes. 
 

 
group,
 

 
 
control

a

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

   

 
Fig.1 Materials used in the tasks 
 
The execution of the experiments were
 
recorded by a kinect sensor, generating the
 
horizontal, vertical and depth coordinates
 
for 25 joint points each 0.02 seconds.  
The total number of examples was 183. 
It means that there were around 10,000 x
 
 
 
75 features cells of data for each task  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

   
 

Fig.2 Illustration of the joint points recorded by
 
 
the kinect sensor 
 
 
(which is a training example). To get more
meaningful gesture features, I excluded
 
 
the points below the hips (because they
were not appearing in the video) and
 
extracted the following information from
 
 
this data: 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

● Time to execute the task 
● Task code (1­6) 
● Average speed for each joint 
● Minimum speed for each joint 
● Maximum speed for each joint 
● Range of motion for each point 
 
● Average joint angles for hands, tips,
 
thumbs, wrists, elbows, shoulders
and spine 

 

 

 

 

 

 

 
 

 

 

 
 
 

 
to

 
 
 
Besides optimizing the results, I executed
 
Feature Selection
identify which
 
features were more relevant to determine
 
 
the level of expertise. The best results
were achieved with the following nine
 
features: 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Identifying Expertise Using Kinect Data 

Cs 229 ­ Autumn 2015 

 

Camila Pereira 

 Stanford University 
camilap@stanford.edu 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 
 

 
 
 

 
student
tasks,

Introduction 
 
 

1.
Project ​based models of teaching and the
 
 
 
spaces is becoming an
use of maker
 
important trend in modern education. But
 
how to assess how well a student is doing
 
 
on these activities? One hypothesis is that
 
the set of gestures and time a student
applies in solving tasks is a predictive of
 
how much expertise he acquired. These
 
 
and kinematic variables could
kinetic
suggest how long a student takes to solve a
 
 
 
problem, how long he spends in analyses
 
 
before testing a tactic or if he is trying a
 
 
 
random strategies. When
number of
 
 
 
 
performing
watching
a
 
 
an experienced
problem­solving
 
 
 
the signs that his
teacher could infer
 
apprentice is evolving. This skill could be
 
 
scaled if we were able to evaluate the
 
performance of a student automatically,
 
 
 
 
helping other
to identify the
 
effectiveness of educational activities in
 
 
 
project, I
several maker spaces. In this
 
 
evaluate
apply machine
to
 
participants in a workshop organized in the
   
 
Stanford’s fablab, by comparing them with
 
 
 
graduate engineering students
(experts)
 
using data from a Kinect sensor. The data
 
 
consists of the coordinates from 30 body
 
taken every 0.02 seconds. I used
points,
 
 
supervised learning algorithms (Logistic
 
 
 
Regression,
the
 
possibility of recognizing expertize using
 
 
this data. 

 
teachers
 
 

 
learning
 
 

 
 
SVM)
 

evaluate
 
 

to

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 
 
 

range

 
like
 

features
 
 

2. Related Work 
 
Previous work used data from kinect
 
 
sensors to separate patterns of gait (Begg,
R. & Kamruzzaman, J., 2005, Parajuli, M
 
et al, 2012). On these works, the authors
 
aimed to distinguish young from old
 
participants by their gait pattern. They
 
reported good results using SVM, what
 
motivated me to test these algorithms.  
In their study, Begg & Kamruzzaman
 
 
 
extracted
of
movement (kinect features) and angles
 
 
for ankles and knee (kinematic features).
The former had more positive influence
 
on the results, indicating that kinematic
 
 
analysis might be a good choice of
features for these kind of data. ​Zafrulla et
 
 
al. (2011), who used data from a kinect to
 
 
recognize sign language, used PCA to
 
 
the dataset,
reduce the dimension of
 
 
though no impact on the learning efficacy
 
was reported. 
 
reported using
et
Parajuli
 
 
 
KPCA, an algorithm that performs PCA
 
 
 
using a kernel, getting better results than
 
 
using the usual PCA algorithm to select
 
 
 
features for gait recognition. Those two
 
last studies motivated me to test PCA on
 
my dataset. 

al.(2012)
 

 
   
 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
the
 

 
of
 
 

execution
 

 
 
during
 
20 high schools
 
 

3. Dataset and Features 
 
The data used was extracted from a kinect
 
sensor
an
 
experiment at Stanford’s fablab. In this
 
seniors
experiment,
 
 
 
 
(“novices”) participating in a workshop
 
performed six assembling puzzles. Three
 
of them were took place before and three
 
after
the workshop. Three participants
 
 
dropped the workshop and their data was
 
 
excluded. As
18
mechanical engineering graduate students
 
(“experts”) performed the same tasks.  
The puzzles were executed in the same 3’
by 6’ table, and recorded for 5 minutes. 
 

 
group,
 

 
 
control

a

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

   

 
Fig.1 Materials used in the tasks 
 
The execution of the experiments were
 
recorded by a kinect sensor, generating the
 
horizontal, vertical and depth coordinates
 
for 25 joint points each 0.02 seconds.  
The total number of examples was 183. 
It means that there were around 10,000 x
 
 
 
75 features cells of data for each task  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

   
 

Fig.2 Illustration of the joint points recorded by
 
 
the kinect sensor 
 
 
(which is a training example). To get more
meaningful gesture features, I excluded
 
 
the points below the hips (because they
were not appearing in the video) and
 
extracted the following information from
 
 
this data: 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

● Time to execute the task 
● Task code (1­6) 
● Average speed for each joint 
● Minimum speed for each joint 
● Maximum speed for each joint 
● Range of motion for each point 
 
● Average joint angles for hands, tips,
 
thumbs, wrists, elbows, shoulders
and spine 

 

 

 

 

 

 

 
 

 

 

 
 
 

 
to

 
 
 
Besides optimizing the results, I executed
 
Feature Selection
identify which
 
features were more relevant to determine
 
 
the level of expertise. The best results
were achieved with the following nine
 
features: 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

●  T​ime to execute the task 
● Average speed of the left hand  
● Maximum speed of the Spine_Mid 
● Maximum speed of the head 
●  Maximum speed of the left Wrist 
●  Maximum speed of the right elbow 
●  Range of movement of head 
● Range of movement of
 

the left

 

 

 

 

 
thumb 

●  Left elbow­shoulder­spine angle 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

 
 

 
 

 
 
 

 
 
 

   
 

 
I also performed PCA, finding K = 25.
 
The results were poor, though. 
 
4. Methods 
4.1 Leave­one­out Cross Validation 
For each algorithm, I tested the accuracy
 
 
on the validation set. I first splitted the
data in 80% for training and 20% for
 
 
testing, but due to the small size of the
sample the results were very low, under
 
50% of accuracy. 
then chose a Leave­one­out cross
I
 
 
 
validation method, training on the whole
data except for one example at a time and
 
testing on this remaining example. The
 
accuracy would then be calculated as the
 
average result of each test. 
4.2. Model Selection 
My goal was to separate experts from
novices, thus I used a {0,1} label to the
 
the best model for this
data. To select
 
I applied the following
classification,
 
 
classification
Logistic
 
Regression, SVM with Linear, polynomial
 
and gaussian Kernels. 
Logistic Regression is a classification
 
algorithm that only allows values between
0 and 1, using the sigmoid function: 

methods:
 

 
 
 

 
 
 
 
 
 

 
 

 
 

 
 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

g(z)=

1

1+e−z

            ​(1)

 

 
Polynomial (degree 2): 
(x, ) 

 
Gaussian kernel: 

K y =   T + 1 2
)  

(x y

      (3)

 

 

 

 

 

0

 
g

for
 

chooses
.
≥ 0
 
.5
 
 

(z)
 
hyperplane

classification
 and 1 for 
.5
 
 

This
 
(z)
g
< 0
SVM was used aiming to find an optimal
 
 
higher
separating
 
dimensional space, transforming the data
 
 
by means of a kernel function. In this
 
 
project,
 
tested the learning with the
 
 
 
following kernels: 
Linear: 

a
 
 

in
 

 
 

I

 

 

 

 

 

 

 

 

 

 

K y =   T

(x, ) 

x y 

              (2)

 

K y = e

(x, ) 

xp(− ||x

γ − y 2
|| ) 

   (4)

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

   

   

 
 
 

 
4.2.1. Data Scaling 
 
I my first trial with SVM, I hadn’t scaled
 
 
 
the data, and the results were indeed very
poor. I then executed data scaling before
 
 
training and testing, which gave better
results. As this approach did not seem
 
 
 
very accurate for me, I then executed data
 
 
scaling on the training and test sets
 
separately. It
improved the results even
 
more. 
4.2.2.Choice of C and Gamma 
To calibrate the SVM algorithm, I used
 
grid­search for determining C and Gamma
 
 
for the gaussian kernel, testing values for
C = 0.1, 1, 10, 100, 1000 and gamma =
 
 
0.001, 0.01, 0.1, 1, 10; then, I refined the
 
intervals. 
 
4.3. Forward Search for Feature
 
Selection 
Because of the small amount of data and
 
large number of features, the dataset was
prone to overfitting. Indeed, I was getting
100% train accuracy, and around 70% of 

 
 
   

   

 
 

 
 

 
 
 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Identifying Expertise Using Kinect Data 

Cs 229 ­ Autumn 2015 

 

Camila Pereira 

 Stanford University 
camilap@stanford.edu 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 
 

 
 
 

 
student
tasks,

Introduction 
 
 

1.
Project ​based models of teaching and the
 
 
 
spaces is becoming an
use of maker
 
important trend in modern education. But
 
how to assess how well a student is doing
 
 
on these activities? One hypothesis is that
 
the set of gestures and time a student
applies in solving tasks is a predictive of
 
how much expertise he acquired. These
 
 
and kinematic variables could
kinetic
suggest how long a student takes to solve a
 
 
 
problem, how long he spends in analyses
 
 
before testing a tactic or if he is trying a
 
 
 
random strategies. When
number of
 
 
 
 
performing
watching
a
 
 
an experienced
problem­solving
 
 
 
the signs that his
teacher could infer
 
apprentice is evolving. This skill could be
 
 
scaled if we were able to evaluate the
 
performance of a student automatically,
 
 
 
 
helping other
to identify the
 
effectiveness of educational activities in
 
 
 
project, I
several maker spaces. In this
 
 
evaluate
apply machine
to
 
participants in a workshop organized in the
   
 
Stanford’s fablab, by comparing them with
 
 
 
graduate engineering students
(experts)
 
using data from a Kinect sensor. The data
 
 
consists of the coordinates from 30 body
 
taken every 0.02 seconds. I used
points,
 
 
supervised learning algorithms (Logistic
 
 
 
Regression,
the
 
possibility of recognizing expertize using
 
 
this data. 

 
teachers
 
 

 
learning
 
 

 
 
SVM)
 

evaluate
 
 

to

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 
 
 

range

 
like
 

features
 
 

2. Related Work 
 
Previous work used data from kinect
 
 
sensors to separate patterns of gait (Begg,
R. & Kamruzzaman, J., 2005, Parajuli, M
 
et al, 2012). On these works, the authors
 
aimed to distinguish young from old
 
participants by their gait pattern. They
 
reported good results using SVM, what
 
motivated me to test these algorithms.  
In their study, Begg & Kamruzzaman
 
 
 
extracted
of
movement (kinect features) and angles
 
 
for ankles and knee (kinematic features).
The former had more positive influence
 
on the results, indicating that kinematic
 
 
analysis might be a good choice of
features for these kind of data. ​Zafrulla et
 
 
al. (2011), who used data from a kinect to
 
 
recognize sign language, used PCA to
 
 
the dataset,
reduce the dimension of
 
 
though no impact on the learning efficacy
 
was reported. 
 
reported using
et
Parajuli
 
 
 
KPCA, an algorithm that performs PCA
 
 
 
using a kernel, getting better results than
 
 
using the usual PCA algorithm to select
 
 
 
features for gait recognition. Those two
 
last studies motivated me to test PCA on
 
my dataset. 

al.(2012)
 

 
   
 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
the
 

 
of
 
 

execution
 

 
 
during
 
20 high schools
 
 

3. Dataset and Features 
 
The data used was extracted from a kinect
 
sensor
an
 
experiment at Stanford’s fablab. In this
 
seniors
experiment,
 
 
 
 
(“novices”) participating in a workshop
 
performed six assembling puzzles. Three
 
of them were took place before and three
 
after
the workshop. Three participants
 
 
dropped the workshop and their data was
 
 
excluded. As
18
mechanical engineering graduate students
 
(“experts”) performed the same tasks.  
The puzzles were executed in the same 3’
by 6’ table, and recorded for 5 minutes. 
 

 
group,
 

 
 
control

a

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

   

 
Fig.1 Materials used in the tasks 
 
The execution of the experiments were
 
recorded by a kinect sensor, generating the
 
horizontal, vertical and depth coordinates
 
for 25 joint points each 0.02 seconds.  
The total number of examples was 183. 
It means that there were around 10,000 x
 
 
 
75 features cells of data for each task  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

   
 

Fig.2 Illustration of the joint points recorded by
 
 
the kinect sensor 
 
 
(which is a training example). To get more
meaningful gesture features, I excluded
 
 
the points below the hips (because they
were not appearing in the video) and
 
extracted the following information from
 
 
this data: 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

● Time to execute the task 
● Task code (1­6) 
● Average speed for each joint 
● Minimum speed for each joint 
● Maximum speed for each joint 
● Range of motion for each point 
 
● Average joint angles for hands, tips,
 
thumbs, wrists, elbows, shoulders
and spine 

 

 

 

 

 

 

 
 

 

 

 
 
 

 
to

 
 
 
Besides optimizing the results, I executed
 
Feature Selection
identify which
 
features were more relevant to determine
 
 
the level of expertise. The best results
were achieved with the following nine
 
features: 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

●  T​ime to execute the task 
● Average speed of the left hand  
● Maximum speed of the Spine_Mid 
● Maximum speed of the head 
●  Maximum speed of the left Wrist 
●  Maximum speed of the right elbow 
●  Range of movement of head 
● Range of movement of
 

the left

 

 

 

 

 
thumb 

●  Left elbow­shoulder­spine angle 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

 
 

 
 

 
 
 

 
 
 

   
 

 
I also performed PCA, finding K = 25.
 
The results were poor, though. 
 
4. Methods 
4.1 Leave­one­out Cross Validation 
For each algorithm, I tested the accuracy
 
 
on the validation set. I first splitted the
data in 80% for training and 20% for
 
 
testing, but due to the small size of the
sample the results were very low, under
 
50% of accuracy. 
then chose a Leave­one­out cross
I
 
 
 
validation method, training on the whole
data except for one example at a time and
 
testing on this remaining example. The
 
accuracy would then be calculated as the
 
average result of each test. 
4.2. Model Selection 
My goal was to separate experts from
novices, thus I used a {0,1} label to the
 
the best model for this
data. To select
 
I applied the following
classification,
 
 
classification
Logistic
 
Regression, SVM with Linear, polynomial
 
and gaussian Kernels. 
Logistic Regression is a classification
 
algorithm that only allows values between
0 and 1, using the sigmoid function: 

methods:
 

 
 
 

 
 
 
 
 
 

 
 

 
 

 
 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

g(z)=

1

1+e−z

            ​(1)

 

 
Polynomial (degree 2): 
(x, ) 

 
Gaussian kernel: 

K y =   T + 1 2
)  

(x y

      (3)

 

 

 

 

 

0

 
g

for
 

chooses
.
≥ 0
 
.5
 
 

(z)
 
hyperplane

classification
 and 1 for 
.5
 
 

This
 
(z)
g
< 0
SVM was used aiming to find an optimal
 
 
higher
separating
 
dimensional space, transforming the data
 
 
by means of a kernel function. In this
 
 
project,
 
tested the learning with the
 
 
 
following kernels: 
Linear: 

a
 
 

in
 

 
 

I

 

 

 

 

 

 

 

 

 

 

K y =   T

(x, ) 

x y 

              (2)

 

K y = e

(x, ) 

xp(− ||x

γ − y 2
|| ) 

   (4)

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

   

   

 
 
 

 
4.2.1. Data Scaling 
 
I my first trial with SVM, I hadn’t scaled
 
 
 
the data, and the results were indeed very
poor. I then executed data scaling before
 
 
training and testing, which gave better
results. As this approach did not seem
 
 
 
very accurate for me, I then executed data
 
 
scaling on the training and test sets
 
separately. It
improved the results even
 
more. 
4.2.2.Choice of C and Gamma 
To calibrate the SVM algorithm, I used
 
grid­search for determining C and Gamma
 
 
for the gaussian kernel, testing values for
C = 0.1, 1, 10, 100, 1000 and gamma =
 
 
0.001, 0.01, 0.1, 1, 10; then, I refined the
 
intervals. 
 
4.3. Forward Search for Feature
 
Selection 
Because of the small amount of data and
 
large number of features, the dataset was
prone to overfitting. Indeed, I was getting
100% train accuracy, and around 70% of 

 
 
   

   

 
 

 
 

 
 
 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

accuracy. Also,
 
 

is
 
 
that
reduces
 
 
influencing
 

it was
validation
 
interesting to determine which of
the
 
 
features are more indicative of expertise. 
 
4.4. PCA 
a
 
Principal Component Analysis
 
 
 
the
statistical procedure
 
 
an
number
 
 
observation by selecting the ones with the
 
largest variance. Although it
is not
 
 
 
indicated
 
and
optimization, some studies used versions
 
of PCA to extract features from kinect
 
data. Thus, I decided it would be worth to
 
 
 
test
of
select
 
 
 
 
I used the following
components (k),
 
 
 
criterium: 

 
   
it. To
 

 
number
 

variables
 

selection
 

 
feature

for
 
 

the
 

of
 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

λ 
i

λj

k
∑
i=i
N
∑
j=1
 

> ​threshold
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

  λi
 

 
 
features
 
 

’s are the elements of
 
 

the
Where
 
diagonal matrix in the singular value
 
decomposition 
 
5. Results 
 
The table 1 summarizes the results I
 
obtained using the initial
I
 
 
 
extracted. Thus, I was getting the best
 
results with SVM using a gaussian kernel,
 
 
29.12% mistaken
which was
 
giving
I mentioned in the
predictions. As
 
 
 
 
I used a grid­search
methods section,
 
 
 
algorithm to select C and gamma, finding
the optimum values for C = 3 and gamma
 
= 0.02. 
 
To optimize the results, I performed a
 
Forward Search algorithm for Feature
 
 
Selection.
features,
 
described in the “Dataset and Features​”
 
 
section. With the new features, I runned
 
the model selection again, reaching the  
I also tested the results for applying PCA
 

 
 
selected
 

 
 
 
nine
 
 

It
 
 

 
 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

results displayed in the table 2.  
 
Table1. Model comparison results, without
 
Feature Selection 

 

 

 

 

 

 

 
 
 
Table2. Model
 
Feature Selection 

 

comparison
 

results,

 

after

 

 

 
 

The best performance, 80.22% on test
 
accuracy, was achieved using a gaussian
 
kernel. The optimum values for C and
 
gamma were C = 4 and gamma = 0.125. 

 
 

 
 

 

 

 

 

 

 

 

 

 

Identifying Expertise Using Kinect Data 

Cs 229 ­ Autumn 2015 

 

Camila Pereira 

 Stanford University 
camilap@stanford.edu 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 
 

 
 
 

 
student
tasks,

Introduction 
 
 

1.
Project ​based models of teaching and the
 
 
 
spaces is becoming an
use of maker
 
important trend in modern education. But
 
how to assess how well a student is doing
 
 
on these activities? One hypothesis is that
 
the set of gestures and time a student
applies in solving tasks is a predictive of
 
how much expertise he acquired. These
 
 
and kinematic variables could
kinetic
suggest how long a student takes to solve a
 
 
 
problem, how long he spends in analyses
 
 
before testing a tactic or if he is trying a
 
 
 
random strategies. When
number of
 
 
 
 
performing
watching
a
 
 
an experienced
problem­solving
 
 
 
the signs that his
teacher could infer
 
apprentice is evolving. This skill could be
 
 
scaled if we were able to evaluate the
 
performance of a student automatically,
 
 
 
 
helping other
to identify the
 
effectiveness of educational activities in
 
 
 
project, I
several maker spaces. In this
 
 
evaluate
apply machine
to
 
participants in a workshop organized in the
   
 
Stanford’s fablab, by comparing them with
 
 
 
graduate engineering students
(experts)
 
using data from a Kinect sensor. The data
 
 
consists of the coordinates from 30 body
 
taken every 0.02 seconds. I used
points,
 
 
supervised learning algorithms (Logistic
 
 
 
Regression,
the
 
possibility of recognizing expertize using
 
 
this data. 

 
teachers
 
 

 
learning
 
 

 
 
SVM)
 

evaluate
 
 

to

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 
 
 

range

 
like
 

features
 
 

2. Related Work 
 
Previous work used data from kinect
 
 
sensors to separate patterns of gait (Begg,
R. & Kamruzzaman, J., 2005, Parajuli, M
 
et al, 2012). On these works, the authors
 
aimed to distinguish young from old
 
participants by their gait pattern. They
 
reported good results using SVM, what
 
motivated me to test these algorithms.  
In their study, Begg & Kamruzzaman
 
 
 
extracted
of
movement (kinect features) and angles
 
 
for ankles and knee (kinematic features).
The former had more positive influence
 
on the results, indicating that kinematic
 
 
analysis might be a good choice of
features for these kind of data. ​Zafrulla et
 
 
al. (2011), who used data from a kinect to
 
 
recognize sign language, used PCA to
 
 
the dataset,
reduce the dimension of
 
 
though no impact on the learning efficacy
 
was reported. 
 
reported using
et
Parajuli
 
 
 
KPCA, an algorithm that performs PCA
 
 
 
using a kernel, getting better results than
 
 
using the usual PCA algorithm to select
 
 
 
features for gait recognition. Those two
 
last studies motivated me to test PCA on
 
my dataset. 

al.(2012)
 

 
   
 
 

 
 

 
 

 
 

 
 

 
 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
the
 

 
of
 
 

execution
 

 
 
during
 
20 high schools
 
 

3. Dataset and Features 
 
The data used was extracted from a kinect
 
sensor
an
 
experiment at Stanford’s fablab. In this
 
seniors
experiment,
 
 
 
 
(“novices”) participating in a workshop
 
performed six assembling puzzles. Three
 
of them were took place before and three
 
after
the workshop. Three participants
 
 
dropped the workshop and their data was
 
 
excluded. As
18
mechanical engineering graduate students
 
(“experts”) performed the same tasks.  
The puzzles were executed in the same 3’
by 6’ table, and recorded for 5 minutes. 
 

 
group,
 

 
 
control

a

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

   

 
Fig.1 Materials used in the tasks 
 
The execution of the experiments were
 
recorded by a kinect sensor, generating the
 
horizontal, vertical and depth coordinates
 
for 25 joint points each 0.02 seconds.  
The total number of examples was 183. 
It means that there were around 10,000 x
 
 
 
75 features cells of data for each task  

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

   
 

Fig.2 Illustration of the joint points recorded by
 
 
the kinect sensor 
 
 
(which is a training example). To get more
meaningful gesture features, I excluded
 
 
the points below the hips (because they
were not appearing in the video) and
 
extracted the following information from
 
 
this data: 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

● Time to execute the task 
● Task code (1­6) 
● Average speed for each joint 
● Minimum speed for each joint 
● Maximum speed for each joint 
● Range of motion for each point 
 
● Average joint angles for hands, tips,
 
thumbs, wrists, elbows, shoulders
and spine 

 

 

 

 

 

 

 
 

 

 

 
 
 

 
to

 
 
 
Besides optimizing the results, I executed
 
Feature Selection
identify which
 
features were more relevant to determine
 
 
the level of expertise. The best results
were achieved with the following nine
 
features: 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

●  T​ime to execute the task 
● Average speed of the left hand  
● Maximum speed of the Spine_Mid 
● Maximum speed of the head 
●  Maximum speed of the left Wrist 
●  Maximum speed of the right elbow 
●  Range of movement of head 
● Range of movement of
 

the left

 

 

 

 

 
thumb 

●  Left elbow­shoulder­spine angle 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

 
 

 
 

 
 
 

 
 
 

   
 

 
I also performed PCA, finding K = 25.
 
The results were poor, though. 
 
4. Methods 
4.1 Leave­one­out Cross Validation 
For each algorithm, I tested the accuracy
 
 
on the validation set. I first splitted the
data in 80% for training and 20% for
 
 
testing, but due to the small size of the
sample the results were very low, under
 
50% of accuracy. 
then chose a Leave­one­out cross
I
 
 
 
validation method, training on the whole
data except for one example at a time and
 
testing on this remaining example. The
 
accuracy would then be calculated as the
 
average result of each test. 
4.2. Model Selection 
My goal was to separate experts from
novices, thus I used a {0,1} label to the
 
the best model for this
data. To select
 
I applied the following
classification,
 
 
classification
Logistic
 
Regression, SVM with Linear, polynomial
 
and gaussian Kernels. 
Logistic Regression is a classification
 
algorithm that only allows values between
0 and 1, using the sigmoid function: 

methods:
 

 
 
 

 
 
 
 
 
 

 
 

 
 

 
 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

g(z)=

1

1+e−z

            ​(1)

 

 
Polynomial (degree 2): 
(x, ) 

 
Gaussian kernel: 

K y =   T + 1 2
)  

(x y

      (3)

 

 

 

 

 

0

 
g

for
 

chooses
.
≥ 0
 
.5
 
 

(z)
 
hyperplane

classification
 and 1 for 
.5
 
 

This
 
(z)
g
< 0
SVM was used aiming to find an optimal
 
 
higher
separating
 
dimensional space, transforming the data
 
 
by means of a kernel function. In this
 
 
project,
 
tested the learning with the
 
 
 
following kernels: 
Linear: 

a
 
 

in
 

 
 

I

 

 

 

 

 

 

 

 

 

 

K y =   T

(x, ) 

x y 

              (2)

 

K y = e

(x, ) 

xp(− ||x

γ − y 2
|| ) 

   (4)

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

   

   

 
 
 

 
4.2.1. Data Scaling 
 
I my first trial with SVM, I hadn’t scaled
 
 
 
the data, and the results were indeed very
poor. I then executed data scaling before
 
 
training and testing, which gave better
results. As this approach did not seem
 
 
 
very accurate for me, I then executed data
 
 
scaling on the training and test sets
 
separately. It
improved the results even
 
more. 
4.2.2.Choice of C and Gamma 
To calibrate the SVM algorithm, I used
 
grid­search for determining C and Gamma
 
 
for the gaussian kernel, testing values for
C = 0.1, 1, 10, 100, 1000 and gamma =
 
 
0.001, 0.01, 0.1, 1, 10; then, I refined the
 
intervals. 
 
4.3. Forward Search for Feature
 
Selection 
Because of the small amount of data and
 
large number of features, the dataset was
prone to overfitting. Indeed, I was getting
100% train accuracy, and around 70% of 

 
 
   

   

 
 

 
 

 
 
 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

accuracy. Also,
 
 

is
 
 
that
reduces
 
 
influencing
 

it was
validation
 
interesting to determine which of
the
 
 
features are more indicative of expertise. 
 
4.4. PCA 
a
 
Principal Component Analysis
 
 
 
the
statistical procedure
 
 
an
number
 
 
observation by selecting the ones with the
 
largest variance. Although it
is not
 
 
 
indicated
 
and
optimization, some studies used versions
 
of PCA to extract features from kinect
 
data. Thus, I decided it would be worth to
 
 
 
test
of
select
 
 
 
 
I used the following
components (k),
 
 
 
criterium: 

 
   
it. To
 

 
number
 

variables
 

selection
 

 
feature

for
 
 

the
 

of
 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

λ 
i

λj

k
∑
i=i
N
∑
j=1
 

> ​threshold
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

  λi
 

 
 
features
 
 

’s are the elements of
 
 

the
Where
 
diagonal matrix in the singular value
 
decomposition 
 
5. Results 
 
The table 1 summarizes the results I
 
obtained using the initial
I
 
 
 
extracted. Thus, I was getting the best
 
results with SVM using a gaussian kernel,
 
 
29.12% mistaken
which was
 
giving
I mentioned in the
predictions. As
 
 
 
 
I used a grid­search
methods section,
 
 
 
algorithm to select C and gamma, finding
the optimum values for C = 3 and gamma
 
= 0.02. 
 
To optimize the results, I performed a
 
Forward Search algorithm for Feature
 
 
Selection.
features,
 
described in the “Dataset and Features​”
 
 
section. With the new features, I runned
 
the model selection again, reaching the  
I also tested the results for applying PCA
 

 
 
selected
 

 
 
 
nine
 
 

It
 
 

 
 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

results displayed in the table 2.  
 
Table1. Model comparison results, without
 
Feature Selection 

 

 

 

 

 

 

 
 
 
Table2. Model
 
Feature Selection 

 

comparison
 

results,

 

after

 

 

 
 

The best performance, 80.22% on test
 
accuracy, was achieved using a gaussian
 
kernel. The optimum values for C and
 
gamma were C = 4 and gamma = 0.125. 

 
 

 
 

 

 

 

 

 

 

 

 

 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 

 
 

7. References 
 
 
Begg, R., & Kamruzzaman, J. (2005). A machine
 
learning approach for automated recognition
 
 
of movement patterns using basic, kinetic and
 
kinematic gait data. ​Journal of biomechanics​,
 
 
38​(3), 401­408. 
 
Parajuli, M., Tran, D., Ma, W., & Sharma, D. (2012,
 
 
 
 
August). Senior health monitoring using
Kinect. In ​Communications and Electronics
 
 
 
International
(ICCE),
 
Conference on​ (pp. 309­312). IEEE. 
 
 
Zafrulla, Z., Brashear, H., Starner, T., Hamilton, H., &
 
 
Presti, P. (2011, November). American sign
 
 
kinect.
language
 
 
In​Proceedings of
the 13th international
 
 
interfaces​(pp.
conference
 
 
 
279­286). ACM. 

 
recognition with

 
on multimodal

 
Fourth
 

2012
 

the

 
 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

 
 
 

 
 

 
 

 
 

in
 

   
 

 
   

plus
 

 
test
 
 

 
 
learning

using as threshold 0.90, 0.95 and 0.99,
achieving the best result of 55.5% test
accuracy with ​k = 25​, using a threshold of
 
0.99. 
 
 
6. Future Work 
 
The classification results were somehow
satisfactory, although the small size of the
 
and consequent difficulty in
dataset,
 
 
 
cross­validation
performing
 
 
 
instead of only the former as I did, might
 
 
 
 
have influenced the results. More and
 
different data in future work can improve
 
the conclusions. 
 
An important factor to advance the use of
 
educational
machine
 
 
applications and assessment is to identify
 
 
which gestures, postures and execution
 
 
 
factors (like speed) are related to good
 
problem­solving. An interesting follow up
to this project would be to perform the
 
same analysis substituting the average of
 
like I used, for the
speed and angles,
 
 
standard deviation. Maybe this would
 
 
identify better the divergences that are
 
indicative of solving a puzzle like a novice
 
 
or an expert. 
Another possible improvement is to use
unsupervised
to
 
extract features. 
 
 
 
 
 

 
algorithms
 

 
learning

   

   

 
 

 
 

 
 

 
 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 
 

