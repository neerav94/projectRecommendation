Proc. of World Symposium On Computer Networks and Information Security

 

Controller Design of Two-wheeled Differential Drive 

with a passive castor wheel using Feedback 

Linearization 

 

 

Ayesha Iqbal 

Department of Mechatronics and Control Engineering  

University of Engineering and Technology 

Lahore, Pakistan 

engr.ayeshaiqbal@yahoo.com 

 

steering  motion.  Dynamic 

Abstract—In  this  paper  motion  control  problem  of  two-
wheeled  differential  drive  with  a  passive  castor  wheel  is 
studied where the environment is assumed to be obstacle-
free.  A  differential  drive  robot  is  considered  to  be  the 
simplest  of  wheeled  mobile  robots  as  it  do  not  require 
additional 
feedback 
linearization  is  an  efficient  design  tool  for  trajectory 
tracking  when  the  robot  is  subjected  to  follow  a  circular 
path 
line  path.  The 
implementation  of  this  approach  is  done  by  designing  a 
simulator on MATLAB. 
 
Keywords  —  Wheeled  Mobile  Robot  (WMR),  castor  wheel, 
feedback linearization 
 
 

in  addition 

to  a 

straight 

INTRODUCTION 

I. 
Wheeled  Mobile  Robots  (WMR)  have  wide  range 
applications  in  the  automation  of  industrial  processes  and 
particularly  in  areas  like  agriculture,  defense  and  security 
where  autonomous  motion  capabilities  are  needed  on 
smooth surfaces and ground[1]. They consume less energy 
and  move  at  a  faster  pace 
locomotion 
mechanisms  (e.g.,  legged  robots  or  tracked  vehicles). 
Beyond the obvious relevance in applications, the problem 
of motion planning and control of WMRs has attracted the 
interest of researchers in its  theoretical challenges. In fact, 
these  systems  are  a  typical  example  of  non-holonomic 
mechanisms  due  to  the  perfect  rolling  constraints  i.e.no 
longitudinal  or  lateral  slipping  of  the  wheel.  As  WMR 
constitute  a  class  of  mechanical  systems  characterized  by 
kinematic  constraint  which  are  non-integerable,  so  these 
constraints  cannot  be  eliminated  from  the  equations of the 

than  other 

DOI: 02. WSCNIS.2014.1.14
© N&N Global Technology 2014

Maria Iqbal 

Space and Upper Atmosphere Research Commission 

(SUPARCO) Lahore, Pakistan 

mariaiqbal@mcs.edu.pk

model.  Thus,  the  standard  planning  and  control  algorithm 
developed for robotic manipulator is no more applicable [2].  
Different  control  methods  are,  therefore,  developed  in 
literature for planning the motion of wheeled robots.  These 
methods  are  mainly  developed  for  unicycle  and  car-like 
mobile robots which corresponds to types (2, 0) and (1, 1)  
respectively as shown in the Table I [3]. In addition, several 
mobility  configurations  like  number  and  types  of  wheels, 
their location etc. can be found in [3]. Five generic types of  
WMR  based  on  degree  of  mobility  (δm)  and  degree  of  
steeribility (δs ) are also explained in [3] which can be seen 
in  tabulated  form  in  Table  I.  There,  δm    represents  the 
number  of  WMR  velocities 
that  can  be  assigned 
instantaneously  and  δs  denotes  the  number  of  orientable 
wheels  that  can  be  steered  independently[3].  Furthermore, 
WMR comes in a number of different kinematic structures. 
Most  common among the types  is a differential-drive type 
of  mobile  robots.They  have  two-coaxial  wheels  which  are 
active and a passive castor wheel for maintaining the static 
stability.  These  robots  are  non-holonomically  constrained 
which  require  high  control  effort  and  demonstrate  two 
degrees  of  freedom.  They  are,  therefore,  classified  as  type 
(2,0)  in  the  classification of  WMR  which  means  that  their 
degree of mobility δm is 2 and degree of steeribility δs is 0 
[3].  

Although navigation and planning of mobile robots have 
beenextensively  investigated  in  the  literature  but  the  work 
on  dynamic  control  with  non-holonomic  constraints  of 
mobile  robots is much more recent [3].  A non-holonomic 
constraint  is  the  limitation  on  velocity  i.e.  the  directions 
where  the  robot  cannot  move.  When  properly  defined,  the 
orientation  of  WMR  in  motion  lies  along  the  tangential 
direction  of  the  motion  trajectory.  So,  a  robot  needs  to  be 
able  to  determine  a  driving  wheel  torque  in  accordance  to 
the desired moving speed. Furthermore, kinematic model for 

Proc. of World Symposium On Computer Networks and Information Security

 

Controller Design of Two-wheeled Differential Drive 

with a passive castor wheel using Feedback 

Linearization 

 

 

Ayesha Iqbal 

Department of Mechatronics and Control Engineering  

University of Engineering and Technology 

Lahore, Pakistan 

engr.ayeshaiqbal@yahoo.com 

 

steering  motion.  Dynamic 

Abstract—In  this  paper  motion  control  problem  of  two-
wheeled  differential  drive  with  a  passive  castor  wheel  is 
studied where the environment is assumed to be obstacle-
free.  A  differential  drive  robot  is  considered  to  be  the 
simplest  of  wheeled  mobile  robots  as  it  do  not  require 
additional 
feedback 
linearization  is  an  efficient  design  tool  for  trajectory 
tracking  when  the  robot  is  subjected  to  follow  a  circular 
path 
line  path.  The 
implementation  of  this  approach  is  done  by  designing  a 
simulator on MATLAB. 
 
Keywords  —  Wheeled  Mobile  Robot  (WMR),  castor  wheel, 
feedback linearization 
 
 

in  addition 

to  a 

straight 

INTRODUCTION 

I. 
Wheeled  Mobile  Robots  (WMR)  have  wide  range 
applications  in  the  automation  of  industrial  processes  and 
particularly  in  areas  like  agriculture,  defense  and  security 
where  autonomous  motion  capabilities  are  needed  on 
smooth surfaces and ground[1]. They consume less energy 
and  move  at  a  faster  pace 
locomotion 
mechanisms  (e.g.,  legged  robots  or  tracked  vehicles). 
Beyond the obvious relevance in applications, the problem 
of motion planning and control of WMRs has attracted the 
interest of researchers in its  theoretical challenges. In fact, 
these  systems  are  a  typical  example  of  non-holonomic 
mechanisms  due  to  the  perfect  rolling  constraints  i.e.no 
longitudinal  or  lateral  slipping  of  the  wheel.  As  WMR 
constitute  a  class  of  mechanical  systems  characterized  by 
kinematic  constraint  which  are  non-integerable,  so  these 
constraints  cannot  be  eliminated  from  the  equations of the 

than  other 

DOI: 02. WSCNIS.2014.1.14
© N&N Global Technology 2014

Maria Iqbal 

Space and Upper Atmosphere Research Commission 

(SUPARCO) Lahore, Pakistan 

mariaiqbal@mcs.edu.pk

model.  Thus,  the  standard  planning  and  control  algorithm 
developed for robotic manipulator is no more applicable [2].  
Different  control  methods  are,  therefore,  developed  in 
literature for planning the motion of wheeled robots.  These 
methods  are  mainly  developed  for  unicycle  and  car-like 
mobile robots which corresponds to types (2, 0) and (1, 1)  
respectively as shown in the Table I [3]. In addition, several 
mobility  configurations  like  number  and  types  of  wheels, 
their location etc. can be found in [3]. Five generic types of  
WMR  based  on  degree  of  mobility  (δm)  and  degree  of  
steeribility (δs ) are also explained in [3] which can be seen 
in  tabulated  form  in  Table  I.  There,  δm    represents  the 
number  of  WMR  velocities 
that  can  be  assigned 
instantaneously  and  δs  denotes  the  number  of  orientable 
wheels  that  can  be  steered  independently[3].  Furthermore, 
WMR comes in a number of different kinematic structures. 
Most  common among the types  is a differential-drive type 
of  mobile  robots.They  have  two-coaxial  wheels  which  are 
active and a passive castor wheel for maintaining the static 
stability.  These  robots  are  non-holonomically  constrained 
which  require  high  control  effort  and  demonstrate  two 
degrees  of  freedom.  They  are,  therefore,  classified  as  type 
(2,0)  in  the  classification of  WMR  which  means  that  their 
degree of mobility δm is 2 and degree of steeribility δs is 0 
[3].  

Although navigation and planning of mobile robots have 
beenextensively  investigated  in  the  literature  but  the  work 
on  dynamic  control  with  non-holonomic  constraints  of 
mobile  robots is much more recent [3].  A non-holonomic 
constraint  is  the  limitation  on  velocity  i.e.  the  directions 
where  the  robot  cannot  move.  When  properly  defined,  the 
orientation  of  WMR  in  motion  lies  along  the  tangential 
direction  of  the  motion  trajectory.  So,  a  robot  needs  to  be 
able  to  determine  a  driving  wheel  torque  in  accordance  to 
the desired moving speed. Furthermore, kinematic model for 

implementation requires the WMR to achieve path tracking 
in its movement and to estimate its own position, direction, 
speed and acceleration. 

In  the  absence  of  any  obstacle,  the  basic  motion  tasks 
assigned  to  a  WMR  are  framed  as  i)  following  a  given 
trajectory and ii) moving between two robot postures. In this 
paper, we have selected the trajectory following WMR i.e. 
to  make  the  robot  follow  the  circular  path  in  addition  to 
straight line path. The design of our control system employs 
unicycle  type  kinematics  of  WMR.  We  present  a  control 
algorithm for the two-wheeled differential drive robot which 
is  subjected  to  non-holonomic  constraints.  Moreover,  key 
objective here is to solve trajectory tracking problem using 
feedback  linearization  framework.  The  rest  of  the  paper  is 
organized as follows: In Section II, system description and 
control  tasks  are  discussed.  Modeling  of  our  system  is 
described 
in  Section  III.  The  controller  design  and 
simulation results are discussed in Section IV. Conclusion is 
given in Section V. 

II.  SYSTEM DESCRIPTION AND TASK SPECIFICATION 
The  differential  drive  robot,  which  is  an  example  of 
WMR,  is  dynamically  an  unstable  system  requiring  a 
controller to maintain the balance[4]. When it is subjected to 
an  obstacle-free  environment,  it  can  be  considered  to 
perform  any  of 
i)  Trajectory  following  ii)  Point-to-point  path  planning.  In 
trajectory  following  a  reference  point  on  the  robot  must 
follow  a  desired  path  in  the  Cartesian  space  from  a  given 
initial configuration whereas in point-to-point a desired goal 
configuration must be reached with a desired velocity from 
a given initial configuration.  

two  essential  motion 

tasks 

the 

 

 

i.e.                         

that robot is moving on a horizontal plane. The position of 
the  robot  can  be  explained  by  a  vector  ξ=[x,y,φ]t  in  an 
arbitrary reference frame as shown in Figure 1. Here x and y 
are the coordinates of the robot and φ is the orientation with 
respect to the reference frame which results in two degrees 
of  freedom  for  the  robot.  The  robot  has  two  drive  wheels 
that are assumed to be driven by two different motors which 
are  controlled  independently.  However,  for  producing  the 
forward motion, both wheels should be driven at the same 
rate.  Similarly,  for  turning  left  or  right,  wheel  must  be 
rotated at a higher rate than the left wheel and vice versa for 
turning  right.  Hence,  the  accuracy  of  the  robot  motion  is 
largely  dependent  upon  the  synchronization  of  the  two 
wheel velocities.  
 

Type 
(δm,δs) 

Type 1 
(3,0) 

Type 2 
(2,0) 

Type 3 
(2,1) 

Type 4 
(1,1) 

Type 5 
(1,2) 

δm 

δs 

3 

0 

2 

0 

2 

1 

1 

1 

1 

2 

TABLE I . FIVE TYPES OF WMR 

In order to cope with the non-holonomic velocity constraint, 
wheel  orientation  should  be  actively  steered  in  the  desired 
velocity  direction.  This  implies  that  the  wheel  orientation 
should  be  aligned  before  the  movement  of  the  robot. 
Additionally, the non-slip and pure rolling conditions must 
also  be  fulfilled  i.e.  the  velocity  of  center  of  the  wheel 
should be parallel with the wheel plane and proportional to 
the velocity of wheel rotation [3]. 

for 

Now 

constrained 
aforementioned  system,  the  equation  of  motion  using 
Lagrange multiplier rule is described as follows: 

non-holonomically 

a 

 
M z z C z z
&

+

&&

(

)

(

,

T

(

)

(

)

)

)

z

+

=

+

is 

nλ

G z
(

F z u D

    (1) 
 
where  M(z)  is  the  [n  x  n]  dimensional  positive  definite 
inertia  matrix, C(z, z)&  
the  n-dimensional  velocity-
dependent force vector of Coriolis and Centrifugal forces, G 
(z)  is  the  gravitational  force  vector,  u  is  the  r-dimensional 
vector  of  actuator  force/torque,  F(z)  is  the  [n  x  r] 
dimensional  matrix  mapping  the  actuator  space  into  the 
generalized  coordinate  space  and  λ  is  an  m-dimensional 
vector  of  Lagrangian  Multipliers.  D(z)  is  an  [m  x  n] 
dimensional  matrix  of  constraints  of  a  mechanical  system 
that is subjected to m velocity levels such that: 
 
 
      (2) 
where  z=(xc,yc,  φ,  Θr,  Θl)t  is  the  n-dimensional  matrix  of 
generalized coordinates. As the constraints are independent 
so we can deduce that D (z) has rank m. 
 

D z z =&
( )

0

 

 

 

 

 

Figure  1  Two-wheeled  differential  drive  with  a  passive  castor 

wheel 

The robot under consideration is assumed to be made up 
of a rigid cart which is equipped with two non-deformable 
wheels along with a passive castor wheel. We have assumed 

 

88

Proc. of World Symposium On Computer Networks and Information Security

 

Controller Design of Two-wheeled Differential Drive 

with a passive castor wheel using Feedback 

Linearization 

 

 

Ayesha Iqbal 

Department of Mechatronics and Control Engineering  

University of Engineering and Technology 

Lahore, Pakistan 

engr.ayeshaiqbal@yahoo.com 

 

steering  motion.  Dynamic 

Abstract—In  this  paper  motion  control  problem  of  two-
wheeled  differential  drive  with  a  passive  castor  wheel  is 
studied where the environment is assumed to be obstacle-
free.  A  differential  drive  robot  is  considered  to  be  the 
simplest  of  wheeled  mobile  robots  as  it  do  not  require 
additional 
feedback 
linearization  is  an  efficient  design  tool  for  trajectory 
tracking  when  the  robot  is  subjected  to  follow  a  circular 
path 
line  path.  The 
implementation  of  this  approach  is  done  by  designing  a 
simulator on MATLAB. 
 
Keywords  —  Wheeled  Mobile  Robot  (WMR),  castor  wheel, 
feedback linearization 
 
 

in  addition 

to  a 

straight 

INTRODUCTION 

I. 
Wheeled  Mobile  Robots  (WMR)  have  wide  range 
applications  in  the  automation  of  industrial  processes  and 
particularly  in  areas  like  agriculture,  defense  and  security 
where  autonomous  motion  capabilities  are  needed  on 
smooth surfaces and ground[1]. They consume less energy 
and  move  at  a  faster  pace 
locomotion 
mechanisms  (e.g.,  legged  robots  or  tracked  vehicles). 
Beyond the obvious relevance in applications, the problem 
of motion planning and control of WMRs has attracted the 
interest of researchers in its  theoretical challenges. In fact, 
these  systems  are  a  typical  example  of  non-holonomic 
mechanisms  due  to  the  perfect  rolling  constraints  i.e.no 
longitudinal  or  lateral  slipping  of  the  wheel.  As  WMR 
constitute  a  class  of  mechanical  systems  characterized  by 
kinematic  constraint  which  are  non-integerable,  so  these 
constraints  cannot  be  eliminated  from  the  equations of the 

than  other 

DOI: 02. WSCNIS.2014.1.14
© N&N Global Technology 2014

Maria Iqbal 

Space and Upper Atmosphere Research Commission 

(SUPARCO) Lahore, Pakistan 

mariaiqbal@mcs.edu.pk

model.  Thus,  the  standard  planning  and  control  algorithm 
developed for robotic manipulator is no more applicable [2].  
Different  control  methods  are,  therefore,  developed  in 
literature for planning the motion of wheeled robots.  These 
methods  are  mainly  developed  for  unicycle  and  car-like 
mobile robots which corresponds to types (2, 0) and (1, 1)  
respectively as shown in the Table I [3]. In addition, several 
mobility  configurations  like  number  and  types  of  wheels, 
their location etc. can be found in [3]. Five generic types of  
WMR  based  on  degree  of  mobility  (δm)  and  degree  of  
steeribility (δs ) are also explained in [3] which can be seen 
in  tabulated  form  in  Table  I.  There,  δm    represents  the 
number  of  WMR  velocities 
that  can  be  assigned 
instantaneously  and  δs  denotes  the  number  of  orientable 
wheels  that  can  be  steered  independently[3].  Furthermore, 
WMR comes in a number of different kinematic structures. 
Most  common among the types  is a differential-drive type 
of  mobile  robots.They  have  two-coaxial  wheels  which  are 
active and a passive castor wheel for maintaining the static 
stability.  These  robots  are  non-holonomically  constrained 
which  require  high  control  effort  and  demonstrate  two 
degrees  of  freedom.  They  are,  therefore,  classified  as  type 
(2,0)  in  the  classification of  WMR  which  means  that  their 
degree of mobility δm is 2 and degree of steeribility δs is 0 
[3].  

Although navigation and planning of mobile robots have 
beenextensively  investigated  in  the  literature  but  the  work 
on  dynamic  control  with  non-holonomic  constraints  of 
mobile  robots is much more recent [3].  A non-holonomic 
constraint  is  the  limitation  on  velocity  i.e.  the  directions 
where  the  robot  cannot  move.  When  properly  defined,  the 
orientation  of  WMR  in  motion  lies  along  the  tangential 
direction  of  the  motion  trajectory.  So,  a  robot  needs  to  be 
able  to  determine  a  driving  wheel  torque  in  accordance  to 
the desired moving speed. Furthermore, kinematic model for 

implementation requires the WMR to achieve path tracking 
in its movement and to estimate its own position, direction, 
speed and acceleration. 

In  the  absence  of  any  obstacle,  the  basic  motion  tasks 
assigned  to  a  WMR  are  framed  as  i)  following  a  given 
trajectory and ii) moving between two robot postures. In this 
paper, we have selected the trajectory following WMR i.e. 
to  make  the  robot  follow  the  circular  path  in  addition  to 
straight line path. The design of our control system employs 
unicycle  type  kinematics  of  WMR.  We  present  a  control 
algorithm for the two-wheeled differential drive robot which 
is  subjected  to  non-holonomic  constraints.  Moreover,  key 
objective here is to solve trajectory tracking problem using 
feedback  linearization  framework.  The  rest  of  the  paper  is 
organized as follows: In Section II, system description and 
control  tasks  are  discussed.  Modeling  of  our  system  is 
described 
in  Section  III.  The  controller  design  and 
simulation results are discussed in Section IV. Conclusion is 
given in Section V. 

II.  SYSTEM DESCRIPTION AND TASK SPECIFICATION 
The  differential  drive  robot,  which  is  an  example  of 
WMR,  is  dynamically  an  unstable  system  requiring  a 
controller to maintain the balance[4]. When it is subjected to 
an  obstacle-free  environment,  it  can  be  considered  to 
perform  any  of 
i)  Trajectory  following  ii)  Point-to-point  path  planning.  In 
trajectory  following  a  reference  point  on  the  robot  must 
follow  a  desired  path  in  the  Cartesian  space  from  a  given 
initial configuration whereas in point-to-point a desired goal 
configuration must be reached with a desired velocity from 
a given initial configuration.  

two  essential  motion 

tasks 

the 

 

 

i.e.                         

that robot is moving on a horizontal plane. The position of 
the  robot  can  be  explained  by  a  vector  ξ=[x,y,φ]t  in  an 
arbitrary reference frame as shown in Figure 1. Here x and y 
are the coordinates of the robot and φ is the orientation with 
respect to the reference frame which results in two degrees 
of  freedom  for  the  robot.  The  robot  has  two  drive  wheels 
that are assumed to be driven by two different motors which 
are  controlled  independently.  However,  for  producing  the 
forward motion, both wheels should be driven at the same 
rate.  Similarly,  for  turning  left  or  right,  wheel  must  be 
rotated at a higher rate than the left wheel and vice versa for 
turning  right.  Hence,  the  accuracy  of  the  robot  motion  is 
largely  dependent  upon  the  synchronization  of  the  two 
wheel velocities.  
 

Type 
(δm,δs) 

Type 1 
(3,0) 

Type 2 
(2,0) 

Type 3 
(2,1) 

Type 4 
(1,1) 

Type 5 
(1,2) 

δm 

δs 

3 

0 

2 

0 

2 

1 

1 

1 

1 

2 

TABLE I . FIVE TYPES OF WMR 

In order to cope with the non-holonomic velocity constraint, 
wheel  orientation  should  be  actively  steered  in  the  desired 
velocity  direction.  This  implies  that  the  wheel  orientation 
should  be  aligned  before  the  movement  of  the  robot. 
Additionally, the non-slip and pure rolling conditions must 
also  be  fulfilled  i.e.  the  velocity  of  center  of  the  wheel 
should be parallel with the wheel plane and proportional to 
the velocity of wheel rotation [3]. 

for 

Now 

constrained 
aforementioned  system,  the  equation  of  motion  using 
Lagrange multiplier rule is described as follows: 

non-holonomically 

a 

 
M z z C z z
&

+

&&

(

)

(

,

T

(

)

(

)

)

)

z

+

=

+

is 

nλ

G z
(

F z u D

    (1) 
 
where  M(z)  is  the  [n  x  n]  dimensional  positive  definite 
inertia  matrix, C(z, z)&  
the  n-dimensional  velocity-
dependent force vector of Coriolis and Centrifugal forces, G 
(z)  is  the  gravitational  force  vector,  u  is  the  r-dimensional 
vector  of  actuator  force/torque,  F(z)  is  the  [n  x  r] 
dimensional  matrix  mapping  the  actuator  space  into  the 
generalized  coordinate  space  and  λ  is  an  m-dimensional 
vector  of  Lagrangian  Multipliers.  D(z)  is  an  [m  x  n] 
dimensional  matrix  of  constraints  of  a  mechanical  system 
that is subjected to m velocity levels such that: 
 
 
      (2) 
where  z=(xc,yc,  φ,  Θr,  Θl)t  is  the  n-dimensional  matrix  of 
generalized coordinates. As the constraints are independent 
so we can deduce that D (z) has rank m. 
 

D z z =&
( )

0

 

 

 

 

 

Figure  1  Two-wheeled  differential  drive  with  a  passive  castor 

wheel 

The robot under consideration is assumed to be made up 
of a rigid cart which is equipped with two non-deformable 
wheels along with a passive castor wheel. We have assumed 

 

88

 

III.    MODELING 

 
For  accurate  description  of  a  system,  it  is  necessary  to 
create  a  proper  dynamic  model.  The  development  of  an 
efficient control system for the drive robot necessitates the 
dynamics of the system to be described by a mathematical 
model.  This  model 
into  consideration  various 
properties like inertia, mass, torque, frictional forces etc. 
 

takes 

for 

the 

the  constraint  equation 

A.  Constraint Equation 
Here 
two-wheeled 
differential  drive  is  calculated  considering  two  driving 
wheels and a single passive castor wheel. The passive castor 
wheel does not provide an additional velocity constraint on 
the  robot’s  motion  as  it  is  needed  only  for  stability  of  the 
robot. 
 
Notation   Description 
mc 
mw 
b 

Mass of the robot body without driving wheels 
Mass of each driving wheels 
Distance  between  the  driving  wheels  and  axis 
of symmetry 
Radius of each driving wheel 
Moment  of  inertia  of  each  wheel  about  the 
wheel axis 
Moment  of  inertia  of  each  wheel  about  wheel 
diameter 
Intersection of driving wheel axis with the axis 
of symmetry 
Center of mass of robot body 
Distance from Po to Pc 
Moment  of  inertia  of  robot  body  without 
wheels about a vertical axis through Po 

r 
Iw 

Im 

Po 

Pc 
d 
Ic 

TABLE II.  NOMENCLATURE OF NOTATIONS 

Let  z  be  the  n-vectors  of  generalized  coordinates  for  the 
differential drive robot. As these systems are non-holonomic 
so they are well characterized by n-m non-integrable linear 
constraints on their generalized velocities. These constraints 
arise  from  the  rolling  without  slipping  condition  for  the 
wheels. Therefore, the robot is subjected to three constraint 
equations which are given below: 

&

&

  

c

y cosφ - x sinφ - dφ = 0
c
&

      
x cosφ + y sinφ + bφ = rθ
r&
c
&
x cosφ + y sinφ - bφ = rθ
l&
&

c

c

c

&

&

&

&

 

 

      (3)

     (4) 

     (5) 

 
 

where (xc, yc) are the coordinates of the  center of mass Pc 
and  φ  is  the  heading  angle  measured  from  the  x-axis  of 
world  coordinate  system.  Θ  is  the  driving  angles  of  both 
wheels  of  the  robots.  Equation  (3)  implies  that  the  robot 
must  move  in  the  direction  of  axis  of  symmetry  whereas 
equation (4, 5) suggests that the driving wheels should not 

 

slip. The above three constraints can be written in the form 
of a 3x5 dimensional matrix D(z) as: 

-sinφ cosφ -d 0 0
0
r

D(z) = -cosφ -sinφ -b
-cosφ -sinφ b

r
0

⎡
⎢
⎢
⎢
⎣

 

      (6) 

⎤
⎥
⎥
⎥
⎦

The notations used for the derivation of constraint equations 
and dynamic equation are shown in Table II. 
B.  Dynamic Equation 

Mobile  robot  dynamics  is  needed  for  planning  robot 
trajectory.  Lagrangian  approach  is  used  to  generate  the 
ordinary  differential  equations  (ODEs)  of  the  system.  So 
existing  energies  of  the  system  is  observed  in  order  to 
develop  the  Lagrangian  equation[5].  Lagrangian  (£)  in 
Newtonian mechanics is chosen to be 

 
£=T-U 
 

 

 

 

      (7)

where  T  is  the  total  kinetic  energy  and  U  is  the  total 
potential  energy[6].  Here  as  we  are  neglecting  the  gravity 
factor so U=0 and also G (z) =0 in equation (1). The total 
kinetic  energies  of  robot  body  and  wheels  are  calculated 
separately.    Non-linear  equations  of  system  are  developed 
by  substituting  the  existing  energies  in  equation  (1)  which 
are given below: 

mx - m d(φsinφ + φ cosφ) - λ sinφ - (λ + λ )cosφ = 0
&&

&&

&

c

c

my +m d(φcosφ-φ sinφ) +λ cosφ-(λ +λ )sinφ = 0
c
&&

c

&&

&

1

1

2

2

3

3

2

2

c

-m d(x sinφ - y cosφ) + Iφ - dλ + b(λ - λ ) = 0
 

3

1

2

c

c

&&

&&

&&

  (8) 
(9)  
      
  (10) 

I

I

 

 

where 

r

θ + λ r = τ
&&
w r

2

 
θ + λ r = τ
&&
 

3

w

 

l

                  (11)
                  (12) 
 

 

l

m = m +2mc

w  
2

2

I = I + 2m (d + b ) + 2I

c

w

 

 

m   

 

 

and lτ and rτ   are  the  left  and  right  torques  acting  on  the 
wheel  axis  respectively.  The  above  five  motion  equations 
can be written in the vector form as 
 
 
     (13) 
(
 
The matrix DT (z) has been in equation (6) and the matrices 
M(z), C(z, z)&  and F (z) are given by 
 

M z z C z z
&

F z u D

nλ

T

+

=

−

&&

z

(

(

)

(

)

)

)

,

89

Proc. of World Symposium On Computer Networks and Information Security

 

Controller Design of Two-wheeled Differential Drive 

with a passive castor wheel using Feedback 

Linearization 

 

 

Ayesha Iqbal 

Department of Mechatronics and Control Engineering  

University of Engineering and Technology 

Lahore, Pakistan 

engr.ayeshaiqbal@yahoo.com 

 

steering  motion.  Dynamic 

Abstract—In  this  paper  motion  control  problem  of  two-
wheeled  differential  drive  with  a  passive  castor  wheel  is 
studied where the environment is assumed to be obstacle-
free.  A  differential  drive  robot  is  considered  to  be  the 
simplest  of  wheeled  mobile  robots  as  it  do  not  require 
additional 
feedback 
linearization  is  an  efficient  design  tool  for  trajectory 
tracking  when  the  robot  is  subjected  to  follow  a  circular 
path 
line  path.  The 
implementation  of  this  approach  is  done  by  designing  a 
simulator on MATLAB. 
 
Keywords  —  Wheeled  Mobile  Robot  (WMR),  castor  wheel, 
feedback linearization 
 
 

in  addition 

to  a 

straight 

INTRODUCTION 

I. 
Wheeled  Mobile  Robots  (WMR)  have  wide  range 
applications  in  the  automation  of  industrial  processes  and 
particularly  in  areas  like  agriculture,  defense  and  security 
where  autonomous  motion  capabilities  are  needed  on 
smooth surfaces and ground[1]. They consume less energy 
and  move  at  a  faster  pace 
locomotion 
mechanisms  (e.g.,  legged  robots  or  tracked  vehicles). 
Beyond the obvious relevance in applications, the problem 
of motion planning and control of WMRs has attracted the 
interest of researchers in its  theoretical challenges. In fact, 
these  systems  are  a  typical  example  of  non-holonomic 
mechanisms  due  to  the  perfect  rolling  constraints  i.e.no 
longitudinal  or  lateral  slipping  of  the  wheel.  As  WMR 
constitute  a  class  of  mechanical  systems  characterized  by 
kinematic  constraint  which  are  non-integerable,  so  these 
constraints  cannot  be  eliminated  from  the  equations of the 

than  other 

DOI: 02. WSCNIS.2014.1.14
© N&N Global Technology 2014

Maria Iqbal 

Space and Upper Atmosphere Research Commission 

(SUPARCO) Lahore, Pakistan 

mariaiqbal@mcs.edu.pk

model.  Thus,  the  standard  planning  and  control  algorithm 
developed for robotic manipulator is no more applicable [2].  
Different  control  methods  are,  therefore,  developed  in 
literature for planning the motion of wheeled robots.  These 
methods  are  mainly  developed  for  unicycle  and  car-like 
mobile robots which corresponds to types (2, 0) and (1, 1)  
respectively as shown in the Table I [3]. In addition, several 
mobility  configurations  like  number  and  types  of  wheels, 
their location etc. can be found in [3]. Five generic types of  
WMR  based  on  degree  of  mobility  (δm)  and  degree  of  
steeribility (δs ) are also explained in [3] which can be seen 
in  tabulated  form  in  Table  I.  There,  δm    represents  the 
number  of  WMR  velocities 
that  can  be  assigned 
instantaneously  and  δs  denotes  the  number  of  orientable 
wheels  that  can  be  steered  independently[3].  Furthermore, 
WMR comes in a number of different kinematic structures. 
Most  common among the types  is a differential-drive type 
of  mobile  robots.They  have  two-coaxial  wheels  which  are 
active and a passive castor wheel for maintaining the static 
stability.  These  robots  are  non-holonomically  constrained 
which  require  high  control  effort  and  demonstrate  two 
degrees  of  freedom.  They  are,  therefore,  classified  as  type 
(2,0)  in  the  classification of  WMR  which  means  that  their 
degree of mobility δm is 2 and degree of steeribility δs is 0 
[3].  

Although navigation and planning of mobile robots have 
beenextensively  investigated  in  the  literature  but  the  work 
on  dynamic  control  with  non-holonomic  constraints  of 
mobile  robots is much more recent [3].  A non-holonomic 
constraint  is  the  limitation  on  velocity  i.e.  the  directions 
where  the  robot  cannot  move.  When  properly  defined,  the 
orientation  of  WMR  in  motion  lies  along  the  tangential 
direction  of  the  motion  trajectory.  So,  a  robot  needs  to  be 
able  to  determine  a  driving  wheel  torque  in  accordance  to 
the desired moving speed. Furthermore, kinematic model for 

implementation requires the WMR to achieve path tracking 
in its movement and to estimate its own position, direction, 
speed and acceleration. 

In  the  absence  of  any  obstacle,  the  basic  motion  tasks 
assigned  to  a  WMR  are  framed  as  i)  following  a  given 
trajectory and ii) moving between two robot postures. In this 
paper, we have selected the trajectory following WMR i.e. 
to  make  the  robot  follow  the  circular  path  in  addition  to 
straight line path. The design of our control system employs 
unicycle  type  kinematics  of  WMR.  We  present  a  control 
algorithm for the two-wheeled differential drive robot which 
is  subjected  to  non-holonomic  constraints.  Moreover,  key 
objective here is to solve trajectory tracking problem using 
feedback  linearization  framework.  The  rest  of  the  paper  is 
organized as follows: In Section II, system description and 
control  tasks  are  discussed.  Modeling  of  our  system  is 
described 
in  Section  III.  The  controller  design  and 
simulation results are discussed in Section IV. Conclusion is 
given in Section V. 

II.  SYSTEM DESCRIPTION AND TASK SPECIFICATION 
The  differential  drive  robot,  which  is  an  example  of 
WMR,  is  dynamically  an  unstable  system  requiring  a 
controller to maintain the balance[4]. When it is subjected to 
an  obstacle-free  environment,  it  can  be  considered  to 
perform  any  of 
i)  Trajectory  following  ii)  Point-to-point  path  planning.  In 
trajectory  following  a  reference  point  on  the  robot  must 
follow  a  desired  path  in  the  Cartesian  space  from  a  given 
initial configuration whereas in point-to-point a desired goal 
configuration must be reached with a desired velocity from 
a given initial configuration.  

two  essential  motion 

tasks 

the 

 

 

i.e.                         

that robot is moving on a horizontal plane. The position of 
the  robot  can  be  explained  by  a  vector  ξ=[x,y,φ]t  in  an 
arbitrary reference frame as shown in Figure 1. Here x and y 
are the coordinates of the robot and φ is the orientation with 
respect to the reference frame which results in two degrees 
of  freedom  for  the  robot.  The  robot  has  two  drive  wheels 
that are assumed to be driven by two different motors which 
are  controlled  independently.  However,  for  producing  the 
forward motion, both wheels should be driven at the same 
rate.  Similarly,  for  turning  left  or  right,  wheel  must  be 
rotated at a higher rate than the left wheel and vice versa for 
turning  right.  Hence,  the  accuracy  of  the  robot  motion  is 
largely  dependent  upon  the  synchronization  of  the  two 
wheel velocities.  
 

Type 
(δm,δs) 

Type 1 
(3,0) 

Type 2 
(2,0) 

Type 3 
(2,1) 

Type 4 
(1,1) 

Type 5 
(1,2) 

δm 

δs 

3 

0 

2 

0 

2 

1 

1 

1 

1 

2 

TABLE I . FIVE TYPES OF WMR 

In order to cope with the non-holonomic velocity constraint, 
wheel  orientation  should  be  actively  steered  in  the  desired 
velocity  direction.  This  implies  that  the  wheel  orientation 
should  be  aligned  before  the  movement  of  the  robot. 
Additionally, the non-slip and pure rolling conditions must 
also  be  fulfilled  i.e.  the  velocity  of  center  of  the  wheel 
should be parallel with the wheel plane and proportional to 
the velocity of wheel rotation [3]. 

for 

Now 

constrained 
aforementioned  system,  the  equation  of  motion  using 
Lagrange multiplier rule is described as follows: 

non-holonomically 

a 

 
M z z C z z
&

+

&&

(

)

(

,

T

(

)

(

)

)

)

z

+

=

+

is 

nλ

G z
(

F z u D

    (1) 
 
where  M(z)  is  the  [n  x  n]  dimensional  positive  definite 
inertia  matrix, C(z, z)&  
the  n-dimensional  velocity-
dependent force vector of Coriolis and Centrifugal forces, G 
(z)  is  the  gravitational  force  vector,  u  is  the  r-dimensional 
vector  of  actuator  force/torque,  F(z)  is  the  [n  x  r] 
dimensional  matrix  mapping  the  actuator  space  into  the 
generalized  coordinate  space  and  λ  is  an  m-dimensional 
vector  of  Lagrangian  Multipliers.  D(z)  is  an  [m  x  n] 
dimensional  matrix  of  constraints  of  a  mechanical  system 
that is subjected to m velocity levels such that: 
 
 
      (2) 
where  z=(xc,yc,  φ,  Θr,  Θl)t  is  the  n-dimensional  matrix  of 
generalized coordinates. As the constraints are independent 
so we can deduce that D (z) has rank m. 
 

D z z =&
( )

0

 

 

 

 

 

Figure  1  Two-wheeled  differential  drive  with  a  passive  castor 

wheel 

The robot under consideration is assumed to be made up 
of a rigid cart which is equipped with two non-deformable 
wheels along with a passive castor wheel. We have assumed 

 

88

 

III.    MODELING 

 
For  accurate  description  of  a  system,  it  is  necessary  to 
create  a  proper  dynamic  model.  The  development  of  an 
efficient control system for the drive robot necessitates the 
dynamics of the system to be described by a mathematical 
model.  This  model 
into  consideration  various 
properties like inertia, mass, torque, frictional forces etc. 
 

takes 

for 

the 

the  constraint  equation 

A.  Constraint Equation 
Here 
two-wheeled 
differential  drive  is  calculated  considering  two  driving 
wheels and a single passive castor wheel. The passive castor 
wheel does not provide an additional velocity constraint on 
the  robot’s  motion  as  it  is  needed  only  for  stability  of  the 
robot. 
 
Notation   Description 
mc 
mw 
b 

Mass of the robot body without driving wheels 
Mass of each driving wheels 
Distance  between  the  driving  wheels  and  axis 
of symmetry 
Radius of each driving wheel 
Moment  of  inertia  of  each  wheel  about  the 
wheel axis 
Moment  of  inertia  of  each  wheel  about  wheel 
diameter 
Intersection of driving wheel axis with the axis 
of symmetry 
Center of mass of robot body 
Distance from Po to Pc 
Moment  of  inertia  of  robot  body  without 
wheels about a vertical axis through Po 

r 
Iw 

Im 

Po 

Pc 
d 
Ic 

TABLE II.  NOMENCLATURE OF NOTATIONS 

Let  z  be  the  n-vectors  of  generalized  coordinates  for  the 
differential drive robot. As these systems are non-holonomic 
so they are well characterized by n-m non-integrable linear 
constraints on their generalized velocities. These constraints 
arise  from  the  rolling  without  slipping  condition  for  the 
wheels. Therefore, the robot is subjected to three constraint 
equations which are given below: 

&

&

  

c

y cosφ - x sinφ - dφ = 0
c
&

      
x cosφ + y sinφ + bφ = rθ
r&
c
&
x cosφ + y sinφ - bφ = rθ
l&
&

c

c

c

&

&

&

&

 

 

      (3)

     (4) 

     (5) 

 
 

where (xc, yc) are the coordinates of the  center of mass Pc 
and  φ  is  the  heading  angle  measured  from  the  x-axis  of 
world  coordinate  system.  Θ  is  the  driving  angles  of  both 
wheels  of  the  robots.  Equation  (3)  implies  that  the  robot 
must  move  in  the  direction  of  axis  of  symmetry  whereas 
equation (4, 5) suggests that the driving wheels should not 

 

slip. The above three constraints can be written in the form 
of a 3x5 dimensional matrix D(z) as: 

-sinφ cosφ -d 0 0
0
r

D(z) = -cosφ -sinφ -b
-cosφ -sinφ b

r
0

⎡
⎢
⎢
⎢
⎣

 

      (6) 

⎤
⎥
⎥
⎥
⎦

The notations used for the derivation of constraint equations 
and dynamic equation are shown in Table II. 
B.  Dynamic Equation 

Mobile  robot  dynamics  is  needed  for  planning  robot 
trajectory.  Lagrangian  approach  is  used  to  generate  the 
ordinary  differential  equations  (ODEs)  of  the  system.  So 
existing  energies  of  the  system  is  observed  in  order  to 
develop  the  Lagrangian  equation[5].  Lagrangian  (£)  in 
Newtonian mechanics is chosen to be 

 
£=T-U 
 

 

 

 

      (7)

where  T  is  the  total  kinetic  energy  and  U  is  the  total 
potential  energy[6].  Here  as  we  are  neglecting  the  gravity 
factor so U=0 and also G (z) =0 in equation (1). The total 
kinetic  energies  of  robot  body  and  wheels  are  calculated 
separately.    Non-linear  equations  of  system  are  developed 
by  substituting  the  existing  energies  in  equation  (1)  which 
are given below: 

mx - m d(φsinφ + φ cosφ) - λ sinφ - (λ + λ )cosφ = 0
&&

&&

&

c

c

my +m d(φcosφ-φ sinφ) +λ cosφ-(λ +λ )sinφ = 0
c
&&

c

&&

&

1

1

2

2

3

3

2

2

c

-m d(x sinφ - y cosφ) + Iφ - dλ + b(λ - λ ) = 0
 

3

1

2

c

c

&&

&&

&&

  (8) 
(9)  
      
  (10) 

I

I

 

 

where 

r

θ + λ r = τ
&&
w r

2

 
θ + λ r = τ
&&
 

3

w

 

l

                  (11)
                  (12) 
 

 

l

m = m +2mc

w  
2

2

I = I + 2m (d + b ) + 2I

c

w

 

 

m   

 

 

and lτ and rτ   are  the  left  and  right  torques  acting  on  the 
wheel  axis  respectively.  The  above  five  motion  equations 
can be written in the vector form as 
 
 
     (13) 
(
 
The matrix DT (z) has been in equation (6) and the matrices 
M(z), C(z, z)&  and F (z) are given by 
 

M z z C z z
&

F z u D

nλ

T

+

=

−

&&

z

(

(

)

(

)

)

)

,

89

M(z) = -m dsinφ m dcosφ

⎡
⎢
⎢
⎢
⎢
⎣

m
0

0
m

c

0
0

c

0
0

c
c

0
-m dsinφ 0
0
m dcosφ
0
0
0
0w
0
Iw

I
0
0

I

⎤
⎥
⎥
⎥
⎥
⎦

 

 

⎡
⎢
⎢
⎢
⎢
⎣

C(z, z) =

&

     

2

&

-m dφ cosφ
-m dφ sinφ

2

c
c

&
0
0
0

F (z) =

⎡
⎢
⎢
⎢
⎢
⎣

0
0
0
1
0

0
0
0
0
1

⎤
⎥
⎥
⎥
⎥
⎦

 

 

⎤
⎥
⎥
⎥
⎥
⎦

 

           

 
Now the equation of motion (13) and the constraint equation 
(2) is represented in state space by a 5x2 dimensional matrix 
N(z) which  describes  the  generalized  velocities  of  the 
system such that D(z)N(z) = 0 .  
 

Substituting  the  expression  into  equation  (13)  and  pre-

multiplying by

T
N the equation becomes 

TN (M N υ(t) + M N υ(t) + C ) = τ

&

&

        (16) 

 

Let x be a state space vector such that 
 

T

T

T

⎡
x = z
⎣

υ

⎤
⎦

x =
&

⎡
⎢
⎣

N υ
f

2

⎤
⎥
⎦

+

⎡
⎢
⎣

0

T

( N M N )

- 1

⎤
⎥
⎦

τ

(17) 
  

Then  

 
where 

2f

= (N M N )

T

-1

T

(-N M N υ - N C )  

T

 
By applying the following nonlinear feedback  

 

τ = N M N ( u - f

T

)  

2

                  (18) 

the state equation in (17) is  further simplified to 

    
 

 

x =
&

⎡
⎢
⎣

N υ
0

⎤
⎥
⎦

 

+

⎡ ⎤
0
⎢ ⎥
⎣ ⎦
I

u

 

                  (19) 

where u is the new input that could linearize equation (17) 
and then integrating equation (19) we get the vector x which 
gives every state variable in the system.   
 
 

N(z) =

[

n
1

]
(z) n (z) =

2

Here  the  constant

c =

⎡
⎤
c (b cos φ - d sin φ) c (b cos φ + d sin φ)
⎥
⎢
c (b sin φ + d cos φ)
c (b sin φ - d cos φ)
⎥
⎢
⎥
⎢
⎢
⎥
⎣
⎦
.  From  the  constraint  equation 

-c
0
1

c
1
0

r
2 b

(2),  Z&
 is in the null space of D(z) . As the two columns of 
N(z)   are  in  the  null  space  of  D(z) and  are  linearly 
independent,  so  we  can  express Z& as  a  linear  combination 
of the two columns of  N(z) i.e. 

z = N ( z ) υ
&

 

 

    (14) 

where 

υ =

⎡ ⎤
θr
&
⎢ ⎥⎣ ⎦
θ
&
l
Differentiating equation (14) we get 

⎡ ⎤
υ
1
⎢ ⎥
⎣ ⎦
υ
2

=

 

 

 

z = N υ ( t ) + N υ ( t )
&&

&

&

   

    (15) 

90

Figure 2 Feedback Linearization 
 

 

IV.    CONTROL SYSTEM DESIGN AND SIMULATION RESULTS 

 

A  non-linear  kinematics  model  can  be  converted  into  a 
controllable  system  by  using  feedback  linearization.  Any 
number of system equations can be transformed into simple 
integrators (input–output linearization and decoupling). The 
system  in  equation  (17)  is  linearized  by  designing  a 
feedback  controller  where  u  is  used  as  an  input  to  the 
system.  A  non-linear  feedback  is  used  to  achieve  input-
output linearization as in the block diagram of the feedback 
system shown in Figure 2.The output y is given by 
 

Proc. of World Symposium On Computer Networks and Information Security

 

Controller Design of Two-wheeled Differential Drive 

with a passive castor wheel using Feedback 

Linearization 

 

 

Ayesha Iqbal 

Department of Mechatronics and Control Engineering  

University of Engineering and Technology 

Lahore, Pakistan 

engr.ayeshaiqbal@yahoo.com 

 

steering  motion.  Dynamic 

Abstract—In  this  paper  motion  control  problem  of  two-
wheeled  differential  drive  with  a  passive  castor  wheel  is 
studied where the environment is assumed to be obstacle-
free.  A  differential  drive  robot  is  considered  to  be  the 
simplest  of  wheeled  mobile  robots  as  it  do  not  require 
additional 
feedback 
linearization  is  an  efficient  design  tool  for  trajectory 
tracking  when  the  robot  is  subjected  to  follow  a  circular 
path 
line  path.  The 
implementation  of  this  approach  is  done  by  designing  a 
simulator on MATLAB. 
 
Keywords  —  Wheeled  Mobile  Robot  (WMR),  castor  wheel, 
feedback linearization 
 
 

in  addition 

to  a 

straight 

INTRODUCTION 

I. 
Wheeled  Mobile  Robots  (WMR)  have  wide  range 
applications  in  the  automation  of  industrial  processes  and 
particularly  in  areas  like  agriculture,  defense  and  security 
where  autonomous  motion  capabilities  are  needed  on 
smooth surfaces and ground[1]. They consume less energy 
and  move  at  a  faster  pace 
locomotion 
mechanisms  (e.g.,  legged  robots  or  tracked  vehicles). 
Beyond the obvious relevance in applications, the problem 
of motion planning and control of WMRs has attracted the 
interest of researchers in its  theoretical challenges. In fact, 
these  systems  are  a  typical  example  of  non-holonomic 
mechanisms  due  to  the  perfect  rolling  constraints  i.e.no 
longitudinal  or  lateral  slipping  of  the  wheel.  As  WMR 
constitute  a  class  of  mechanical  systems  characterized  by 
kinematic  constraint  which  are  non-integerable,  so  these 
constraints  cannot  be  eliminated  from  the  equations of the 

than  other 

DOI: 02. WSCNIS.2014.1.14
© N&N Global Technology 2014

Maria Iqbal 

Space and Upper Atmosphere Research Commission 

(SUPARCO) Lahore, Pakistan 

mariaiqbal@mcs.edu.pk

model.  Thus,  the  standard  planning  and  control  algorithm 
developed for robotic manipulator is no more applicable [2].  
Different  control  methods  are,  therefore,  developed  in 
literature for planning the motion of wheeled robots.  These 
methods  are  mainly  developed  for  unicycle  and  car-like 
mobile robots which corresponds to types (2, 0) and (1, 1)  
respectively as shown in the Table I [3]. In addition, several 
mobility  configurations  like  number  and  types  of  wheels, 
their location etc. can be found in [3]. Five generic types of  
WMR  based  on  degree  of  mobility  (δm)  and  degree  of  
steeribility (δs ) are also explained in [3] which can be seen 
in  tabulated  form  in  Table  I.  There,  δm    represents  the 
number  of  WMR  velocities 
that  can  be  assigned 
instantaneously  and  δs  denotes  the  number  of  orientable 
wheels  that  can  be  steered  independently[3].  Furthermore, 
WMR comes in a number of different kinematic structures. 
Most  common among the types  is a differential-drive type 
of  mobile  robots.They  have  two-coaxial  wheels  which  are 
active and a passive castor wheel for maintaining the static 
stability.  These  robots  are  non-holonomically  constrained 
which  require  high  control  effort  and  demonstrate  two 
degrees  of  freedom.  They  are,  therefore,  classified  as  type 
(2,0)  in  the  classification of  WMR  which  means  that  their 
degree of mobility δm is 2 and degree of steeribility δs is 0 
[3].  

Although navigation and planning of mobile robots have 
beenextensively  investigated  in  the  literature  but  the  work 
on  dynamic  control  with  non-holonomic  constraints  of 
mobile  robots is much more recent [3].  A non-holonomic 
constraint  is  the  limitation  on  velocity  i.e.  the  directions 
where  the  robot  cannot  move.  When  properly  defined,  the 
orientation  of  WMR  in  motion  lies  along  the  tangential 
direction  of  the  motion  trajectory.  So,  a  robot  needs  to  be 
able  to  determine  a  driving  wheel  torque  in  accordance  to 
the desired moving speed. Furthermore, kinematic model for 

implementation requires the WMR to achieve path tracking 
in its movement and to estimate its own position, direction, 
speed and acceleration. 

In  the  absence  of  any  obstacle,  the  basic  motion  tasks 
assigned  to  a  WMR  are  framed  as  i)  following  a  given 
trajectory and ii) moving between two robot postures. In this 
paper, we have selected the trajectory following WMR i.e. 
to  make  the  robot  follow  the  circular  path  in  addition  to 
straight line path. The design of our control system employs 
unicycle  type  kinematics  of  WMR.  We  present  a  control 
algorithm for the two-wheeled differential drive robot which 
is  subjected  to  non-holonomic  constraints.  Moreover,  key 
objective here is to solve trajectory tracking problem using 
feedback  linearization  framework.  The  rest  of  the  paper  is 
organized as follows: In Section II, system description and 
control  tasks  are  discussed.  Modeling  of  our  system  is 
described 
in  Section  III.  The  controller  design  and 
simulation results are discussed in Section IV. Conclusion is 
given in Section V. 

II.  SYSTEM DESCRIPTION AND TASK SPECIFICATION 
The  differential  drive  robot,  which  is  an  example  of 
WMR,  is  dynamically  an  unstable  system  requiring  a 
controller to maintain the balance[4]. When it is subjected to 
an  obstacle-free  environment,  it  can  be  considered  to 
perform  any  of 
i)  Trajectory  following  ii)  Point-to-point  path  planning.  In 
trajectory  following  a  reference  point  on  the  robot  must 
follow  a  desired  path  in  the  Cartesian  space  from  a  given 
initial configuration whereas in point-to-point a desired goal 
configuration must be reached with a desired velocity from 
a given initial configuration.  

two  essential  motion 

tasks 

the 

 

 

i.e.                         

that robot is moving on a horizontal plane. The position of 
the  robot  can  be  explained  by  a  vector  ξ=[x,y,φ]t  in  an 
arbitrary reference frame as shown in Figure 1. Here x and y 
are the coordinates of the robot and φ is the orientation with 
respect to the reference frame which results in two degrees 
of  freedom  for  the  robot.  The  robot  has  two  drive  wheels 
that are assumed to be driven by two different motors which 
are  controlled  independently.  However,  for  producing  the 
forward motion, both wheels should be driven at the same 
rate.  Similarly,  for  turning  left  or  right,  wheel  must  be 
rotated at a higher rate than the left wheel and vice versa for 
turning  right.  Hence,  the  accuracy  of  the  robot  motion  is 
largely  dependent  upon  the  synchronization  of  the  two 
wheel velocities.  
 

Type 
(δm,δs) 

Type 1 
(3,0) 

Type 2 
(2,0) 

Type 3 
(2,1) 

Type 4 
(1,1) 

Type 5 
(1,2) 

δm 

δs 

3 

0 

2 

0 

2 

1 

1 

1 

1 

2 

TABLE I . FIVE TYPES OF WMR 

In order to cope with the non-holonomic velocity constraint, 
wheel  orientation  should  be  actively  steered  in  the  desired 
velocity  direction.  This  implies  that  the  wheel  orientation 
should  be  aligned  before  the  movement  of  the  robot. 
Additionally, the non-slip and pure rolling conditions must 
also  be  fulfilled  i.e.  the  velocity  of  center  of  the  wheel 
should be parallel with the wheel plane and proportional to 
the velocity of wheel rotation [3]. 

for 

Now 

constrained 
aforementioned  system,  the  equation  of  motion  using 
Lagrange multiplier rule is described as follows: 

non-holonomically 

a 

 
M z z C z z
&

+

&&

(

)

(

,

T

(

)

(

)

)

)

z

+

=

+

is 

nλ

G z
(

F z u D

    (1) 
 
where  M(z)  is  the  [n  x  n]  dimensional  positive  definite 
inertia  matrix, C(z, z)&  
the  n-dimensional  velocity-
dependent force vector of Coriolis and Centrifugal forces, G 
(z)  is  the  gravitational  force  vector,  u  is  the  r-dimensional 
vector  of  actuator  force/torque,  F(z)  is  the  [n  x  r] 
dimensional  matrix  mapping  the  actuator  space  into  the 
generalized  coordinate  space  and  λ  is  an  m-dimensional 
vector  of  Lagrangian  Multipliers.  D(z)  is  an  [m  x  n] 
dimensional  matrix  of  constraints  of  a  mechanical  system 
that is subjected to m velocity levels such that: 
 
 
      (2) 
where  z=(xc,yc,  φ,  Θr,  Θl)t  is  the  n-dimensional  matrix  of 
generalized coordinates. As the constraints are independent 
so we can deduce that D (z) has rank m. 
 

D z z =&
( )

0

 

 

 

 

 

Figure  1  Two-wheeled  differential  drive  with  a  passive  castor 

wheel 

The robot under consideration is assumed to be made up 
of a rigid cart which is equipped with two non-deformable 
wheels along with a passive castor wheel. We have assumed 

 

88

 

III.    MODELING 

 
For  accurate  description  of  a  system,  it  is  necessary  to 
create  a  proper  dynamic  model.  The  development  of  an 
efficient control system for the drive robot necessitates the 
dynamics of the system to be described by a mathematical 
model.  This  model 
into  consideration  various 
properties like inertia, mass, torque, frictional forces etc. 
 

takes 

for 

the 

the  constraint  equation 

A.  Constraint Equation 
Here 
two-wheeled 
differential  drive  is  calculated  considering  two  driving 
wheels and a single passive castor wheel. The passive castor 
wheel does not provide an additional velocity constraint on 
the  robot’s  motion  as  it  is  needed  only  for  stability  of  the 
robot. 
 
Notation   Description 
mc 
mw 
b 

Mass of the robot body without driving wheels 
Mass of each driving wheels 
Distance  between  the  driving  wheels  and  axis 
of symmetry 
Radius of each driving wheel 
Moment  of  inertia  of  each  wheel  about  the 
wheel axis 
Moment  of  inertia  of  each  wheel  about  wheel 
diameter 
Intersection of driving wheel axis with the axis 
of symmetry 
Center of mass of robot body 
Distance from Po to Pc 
Moment  of  inertia  of  robot  body  without 
wheels about a vertical axis through Po 

r 
Iw 

Im 

Po 

Pc 
d 
Ic 

TABLE II.  NOMENCLATURE OF NOTATIONS 

Let  z  be  the  n-vectors  of  generalized  coordinates  for  the 
differential drive robot. As these systems are non-holonomic 
so they are well characterized by n-m non-integrable linear 
constraints on their generalized velocities. These constraints 
arise  from  the  rolling  without  slipping  condition  for  the 
wheels. Therefore, the robot is subjected to three constraint 
equations which are given below: 

&

&

  

c

y cosφ - x sinφ - dφ = 0
c
&

      
x cosφ + y sinφ + bφ = rθ
r&
c
&
x cosφ + y sinφ - bφ = rθ
l&
&

c

c

c

&

&

&

&

 

 

      (3)

     (4) 

     (5) 

 
 

where (xc, yc) are the coordinates of the  center of mass Pc 
and  φ  is  the  heading  angle  measured  from  the  x-axis  of 
world  coordinate  system.  Θ  is  the  driving  angles  of  both 
wheels  of  the  robots.  Equation  (3)  implies  that  the  robot 
must  move  in  the  direction  of  axis  of  symmetry  whereas 
equation (4, 5) suggests that the driving wheels should not 

 

slip. The above three constraints can be written in the form 
of a 3x5 dimensional matrix D(z) as: 

-sinφ cosφ -d 0 0
0
r

D(z) = -cosφ -sinφ -b
-cosφ -sinφ b

r
0

⎡
⎢
⎢
⎢
⎣

 

      (6) 

⎤
⎥
⎥
⎥
⎦

The notations used for the derivation of constraint equations 
and dynamic equation are shown in Table II. 
B.  Dynamic Equation 

Mobile  robot  dynamics  is  needed  for  planning  robot 
trajectory.  Lagrangian  approach  is  used  to  generate  the 
ordinary  differential  equations  (ODEs)  of  the  system.  So 
existing  energies  of  the  system  is  observed  in  order  to 
develop  the  Lagrangian  equation[5].  Lagrangian  (£)  in 
Newtonian mechanics is chosen to be 

 
£=T-U 
 

 

 

 

      (7)

where  T  is  the  total  kinetic  energy  and  U  is  the  total 
potential  energy[6].  Here  as  we  are  neglecting  the  gravity 
factor so U=0 and also G (z) =0 in equation (1). The total 
kinetic  energies  of  robot  body  and  wheels  are  calculated 
separately.    Non-linear  equations  of  system  are  developed 
by  substituting  the  existing  energies  in  equation  (1)  which 
are given below: 

mx - m d(φsinφ + φ cosφ) - λ sinφ - (λ + λ )cosφ = 0
&&

&&

&

c

c

my +m d(φcosφ-φ sinφ) +λ cosφ-(λ +λ )sinφ = 0
c
&&

c

&&

&

1

1

2

2

3

3

2

2

c

-m d(x sinφ - y cosφ) + Iφ - dλ + b(λ - λ ) = 0
 

3

1

2

c

c

&&

&&

&&

  (8) 
(9)  
      
  (10) 

I

I

 

 

where 

r

θ + λ r = τ
&&
w r

2

 
θ + λ r = τ
&&
 

3

w

 

l

                  (11)
                  (12) 
 

 

l

m = m +2mc

w  
2

2

I = I + 2m (d + b ) + 2I

c

w

 

 

m   

 

 

and lτ and rτ   are  the  left  and  right  torques  acting  on  the 
wheel  axis  respectively.  The  above  five  motion  equations 
can be written in the vector form as 
 
 
     (13) 
(
 
The matrix DT (z) has been in equation (6) and the matrices 
M(z), C(z, z)&  and F (z) are given by 
 

M z z C z z
&

F z u D

nλ

T

+

=

−

&&

z

(

(

)

(

)

)

)

,

89

M(z) = -m dsinφ m dcosφ

⎡
⎢
⎢
⎢
⎢
⎣

m
0

0
m

c

0
0

c

0
0

c
c

0
-m dsinφ 0
0
m dcosφ
0
0
0
0w
0
Iw

I
0
0

I

⎤
⎥
⎥
⎥
⎥
⎦

 

 

⎡
⎢
⎢
⎢
⎢
⎣

C(z, z) =

&

     

2

&

-m dφ cosφ
-m dφ sinφ

2

c
c

&
0
0
0

F (z) =

⎡
⎢
⎢
⎢
⎢
⎣

0
0
0
1
0

0
0
0
0
1

⎤
⎥
⎥
⎥
⎥
⎦

 

 

⎤
⎥
⎥
⎥
⎥
⎦

 

           

 
Now the equation of motion (13) and the constraint equation 
(2) is represented in state space by a 5x2 dimensional matrix 
N(z) which  describes  the  generalized  velocities  of  the 
system such that D(z)N(z) = 0 .  
 

Substituting  the  expression  into  equation  (13)  and  pre-

multiplying by

T
N the equation becomes 

TN (M N υ(t) + M N υ(t) + C ) = τ

&

&

        (16) 

 

Let x be a state space vector such that 
 

T

T

T

⎡
x = z
⎣

υ

⎤
⎦

x =
&

⎡
⎢
⎣

N υ
f

2

⎤
⎥
⎦

+

⎡
⎢
⎣

0

T

( N M N )

- 1

⎤
⎥
⎦

τ

(17) 
  

Then  

 
where 

2f

= (N M N )

T

-1

T

(-N M N υ - N C )  

T

 
By applying the following nonlinear feedback  

 

τ = N M N ( u - f

T

)  

2

                  (18) 

the state equation in (17) is  further simplified to 

    
 

 

x =
&

⎡
⎢
⎣

N υ
0

⎤
⎥
⎦

 

+

⎡ ⎤
0
⎢ ⎥
⎣ ⎦
I

u

 

                  (19) 

where u is the new input that could linearize equation (17) 
and then integrating equation (19) we get the vector x which 
gives every state variable in the system.   
 
 

N(z) =

[

n
1

]
(z) n (z) =

2

Here  the  constant

c =

⎡
⎤
c (b cos φ - d sin φ) c (b cos φ + d sin φ)
⎥
⎢
c (b sin φ + d cos φ)
c (b sin φ - d cos φ)
⎥
⎢
⎥
⎢
⎢
⎥
⎣
⎦
.  From  the  constraint  equation 

-c
0
1

c
1
0

r
2 b

(2),  Z&
 is in the null space of D(z) . As the two columns of 
N(z)   are  in  the  null  space  of  D(z) and  are  linearly 
independent,  so  we  can  express Z& as  a  linear  combination 
of the two columns of  N(z) i.e. 

z = N ( z ) υ
&

 

 

    (14) 

where 

υ =

⎡ ⎤
θr
&
⎢ ⎥⎣ ⎦
θ
&
l
Differentiating equation (14) we get 

⎡ ⎤
υ
1
⎢ ⎥
⎣ ⎦
υ
2

=

 

 

 

z = N υ ( t ) + N υ ( t )
&&

&

&

   

    (15) 

90

Figure 2 Feedback Linearization 
 

 

IV.    CONTROL SYSTEM DESIGN AND SIMULATION RESULTS 

 

A  non-linear  kinematics  model  can  be  converted  into  a 
controllable  system  by  using  feedback  linearization.  Any 
number of system equations can be transformed into simple 
integrators (input–output linearization and decoupling). The 
system  in  equation  (17)  is  linearized  by  designing  a 
feedback  controller  where  u  is  used  as  an  input  to  the 
system.  A  non-linear  feedback  is  used  to  achieve  input-
output linearization as in the block diagram of the feedback 
system shown in Figure 2.The output y is given by 
 

y = h ( z ) =

[

x

r

y

r

]
T  

    (20)

 

 
where xr and yr are x and y coordinate of reference point on 
the desired trajectory. Differentiate (20) to get 
 
 

y
&

(
= ∂

h z
(

) /

∂

z z
)
&

=

J

h

(

N

)
υ

=

(

J

)N

υ

= Φ

υ

h

 
where  Φ  
is  known  as  decoupling  matrix.  Again 
differentiating  equation  (21)  and  using  Proportional-
Derivative (PD) control we get 
 
 

(21) 

     

d

d

y = v = y + K (y - y) + K (y - y)
&&
 

d

p

&&

&

&

d

             (22) 

where yd is the desired path,  Kp is the proportional gain and 
Kd is the derivative gain of the PD controller. The feedback 
error is given by 

e = y

d

 

- y  

 

   (23) 

   Since the controller gains are sensitive to the performance 
of  the  system  so  a  careful  selection  from  a  very  large 
feasible set of PD gains is required. Thus, the trial and error 
method is employed for tuning the controller until the error 
is minimized. Here, a simulator on MATLAB is developed 
for  simulating  a  two-wheeled  differential  drive.  To  assess 
the performance of the feedback linearization controller, we 
present  the  simulation  result  in  Figure  4.  The  desired 
trajectory of the slanting line and a circle is given as input 
which can be seen in blue whereas the path followed by the 
robot  is  visible  in  red.  The  tracking  of  the  reference 
trajectory  is  very  accurate  and the  residual  error  is  mainly 
because of the robot that takes a short time period to achieve 
the needed heading angle. But once it is directed it precisely 
follow  the  trajectory.  We  noted  that  the  actual  trajectory 
coincides with the desired trajectory closely. 
 
    The differential drive robot has a singularity that it cannot 
travel in the direction along the axis of rotation. Moreover, 
robot  trajectory  is  also  affected  by  small  errors  in  the 
relative velocities of the two wheels. These robots are prone 
to slight change in the ground plane too. So the two wheels 
of  the  robot  are  driven  with  exactly  the  same  angular 
displacement  which  can  be  seen  in  Figure  5.  The  linear 
velocity profile of the system can be seen in Figure 3 where 
after  achieving  a  desired  overshoot  the  profile  become 
stable. Hence, the results prove to be quite satisfactory and 
tracking 
here  successful 
problem  using 
is 
accomplished.  
 
 
 

implementation  of 
feedback 

linearization 

technique 

trajectory 

Linear Velocity of Robot

10

20

30

40

50

60

Figure 3. Linear Velocity of Robot 

 

100

90

80

70

60

50

40

30

20

10

0

-10
 
-10

Trajectory followed by Robot

 

0

10

20

30

40

50

60

70

80

90

100

Figure 4. Simulation Results 

 

 

1.5

1

0.5

0

-0.5

-1

-1.5

-2

-2.5

-3

0

 
 
 

91

Proc. of World Symposium On Computer Networks and Information Security

 

Controller Design of Two-wheeled Differential Drive 

with a passive castor wheel using Feedback 

Linearization 

 

 

Ayesha Iqbal 

Department of Mechatronics and Control Engineering  

University of Engineering and Technology 

Lahore, Pakistan 

engr.ayeshaiqbal@yahoo.com 

 

steering  motion.  Dynamic 

Abstract—In  this  paper  motion  control  problem  of  two-
wheeled  differential  drive  with  a  passive  castor  wheel  is 
studied where the environment is assumed to be obstacle-
free.  A  differential  drive  robot  is  considered  to  be  the 
simplest  of  wheeled  mobile  robots  as  it  do  not  require 
additional 
feedback 
linearization  is  an  efficient  design  tool  for  trajectory 
tracking  when  the  robot  is  subjected  to  follow  a  circular 
path 
line  path.  The 
implementation  of  this  approach  is  done  by  designing  a 
simulator on MATLAB. 
 
Keywords  —  Wheeled  Mobile  Robot  (WMR),  castor  wheel, 
feedback linearization 
 
 

in  addition 

to  a 

straight 

INTRODUCTION 

I. 
Wheeled  Mobile  Robots  (WMR)  have  wide  range 
applications  in  the  automation  of  industrial  processes  and 
particularly  in  areas  like  agriculture,  defense  and  security 
where  autonomous  motion  capabilities  are  needed  on 
smooth surfaces and ground[1]. They consume less energy 
and  move  at  a  faster  pace 
locomotion 
mechanisms  (e.g.,  legged  robots  or  tracked  vehicles). 
Beyond the obvious relevance in applications, the problem 
of motion planning and control of WMRs has attracted the 
interest of researchers in its  theoretical challenges. In fact, 
these  systems  are  a  typical  example  of  non-holonomic 
mechanisms  due  to  the  perfect  rolling  constraints  i.e.no 
longitudinal  or  lateral  slipping  of  the  wheel.  As  WMR 
constitute  a  class  of  mechanical  systems  characterized  by 
kinematic  constraint  which  are  non-integerable,  so  these 
constraints  cannot  be  eliminated  from  the  equations of the 

than  other 

DOI: 02. WSCNIS.2014.1.14
© N&N Global Technology 2014

Maria Iqbal 

Space and Upper Atmosphere Research Commission 

(SUPARCO) Lahore, Pakistan 

mariaiqbal@mcs.edu.pk

model.  Thus,  the  standard  planning  and  control  algorithm 
developed for robotic manipulator is no more applicable [2].  
Different  control  methods  are,  therefore,  developed  in 
literature for planning the motion of wheeled robots.  These 
methods  are  mainly  developed  for  unicycle  and  car-like 
mobile robots which corresponds to types (2, 0) and (1, 1)  
respectively as shown in the Table I [3]. In addition, several 
mobility  configurations  like  number  and  types  of  wheels, 
their location etc. can be found in [3]. Five generic types of  
WMR  based  on  degree  of  mobility  (δm)  and  degree  of  
steeribility (δs ) are also explained in [3] which can be seen 
in  tabulated  form  in  Table  I.  There,  δm    represents  the 
number  of  WMR  velocities 
that  can  be  assigned 
instantaneously  and  δs  denotes  the  number  of  orientable 
wheels  that  can  be  steered  independently[3].  Furthermore, 
WMR comes in a number of different kinematic structures. 
Most  common among the types  is a differential-drive type 
of  mobile  robots.They  have  two-coaxial  wheels  which  are 
active and a passive castor wheel for maintaining the static 
stability.  These  robots  are  non-holonomically  constrained 
which  require  high  control  effort  and  demonstrate  two 
degrees  of  freedom.  They  are,  therefore,  classified  as  type 
(2,0)  in  the  classification of  WMR  which  means  that  their 
degree of mobility δm is 2 and degree of steeribility δs is 0 
[3].  

Although navigation and planning of mobile robots have 
beenextensively  investigated  in  the  literature  but  the  work 
on  dynamic  control  with  non-holonomic  constraints  of 
mobile  robots is much more recent [3].  A non-holonomic 
constraint  is  the  limitation  on  velocity  i.e.  the  directions 
where  the  robot  cannot  move.  When  properly  defined,  the 
orientation  of  WMR  in  motion  lies  along  the  tangential 
direction  of  the  motion  trajectory.  So,  a  robot  needs  to  be 
able  to  determine  a  driving  wheel  torque  in  accordance  to 
the desired moving speed. Furthermore, kinematic model for 

implementation requires the WMR to achieve path tracking 
in its movement and to estimate its own position, direction, 
speed and acceleration. 

In  the  absence  of  any  obstacle,  the  basic  motion  tasks 
assigned  to  a  WMR  are  framed  as  i)  following  a  given 
trajectory and ii) moving between two robot postures. In this 
paper, we have selected the trajectory following WMR i.e. 
to  make  the  robot  follow  the  circular  path  in  addition  to 
straight line path. The design of our control system employs 
unicycle  type  kinematics  of  WMR.  We  present  a  control 
algorithm for the two-wheeled differential drive robot which 
is  subjected  to  non-holonomic  constraints.  Moreover,  key 
objective here is to solve trajectory tracking problem using 
feedback  linearization  framework.  The  rest  of  the  paper  is 
organized as follows: In Section II, system description and 
control  tasks  are  discussed.  Modeling  of  our  system  is 
described 
in  Section  III.  The  controller  design  and 
simulation results are discussed in Section IV. Conclusion is 
given in Section V. 

II.  SYSTEM DESCRIPTION AND TASK SPECIFICATION 
The  differential  drive  robot,  which  is  an  example  of 
WMR,  is  dynamically  an  unstable  system  requiring  a 
controller to maintain the balance[4]. When it is subjected to 
an  obstacle-free  environment,  it  can  be  considered  to 
perform  any  of 
i)  Trajectory  following  ii)  Point-to-point  path  planning.  In 
trajectory  following  a  reference  point  on  the  robot  must 
follow  a  desired  path  in  the  Cartesian  space  from  a  given 
initial configuration whereas in point-to-point a desired goal 
configuration must be reached with a desired velocity from 
a given initial configuration.  

two  essential  motion 

tasks 

the 

 

 

i.e.                         

that robot is moving on a horizontal plane. The position of 
the  robot  can  be  explained  by  a  vector  ξ=[x,y,φ]t  in  an 
arbitrary reference frame as shown in Figure 1. Here x and y 
are the coordinates of the robot and φ is the orientation with 
respect to the reference frame which results in two degrees 
of  freedom  for  the  robot.  The  robot  has  two  drive  wheels 
that are assumed to be driven by two different motors which 
are  controlled  independently.  However,  for  producing  the 
forward motion, both wheels should be driven at the same 
rate.  Similarly,  for  turning  left  or  right,  wheel  must  be 
rotated at a higher rate than the left wheel and vice versa for 
turning  right.  Hence,  the  accuracy  of  the  robot  motion  is 
largely  dependent  upon  the  synchronization  of  the  two 
wheel velocities.  
 

Type 
(δm,δs) 

Type 1 
(3,0) 

Type 2 
(2,0) 

Type 3 
(2,1) 

Type 4 
(1,1) 

Type 5 
(1,2) 

δm 

δs 

3 

0 

2 

0 

2 

1 

1 

1 

1 

2 

TABLE I . FIVE TYPES OF WMR 

In order to cope with the non-holonomic velocity constraint, 
wheel  orientation  should  be  actively  steered  in  the  desired 
velocity  direction.  This  implies  that  the  wheel  orientation 
should  be  aligned  before  the  movement  of  the  robot. 
Additionally, the non-slip and pure rolling conditions must 
also  be  fulfilled  i.e.  the  velocity  of  center  of  the  wheel 
should be parallel with the wheel plane and proportional to 
the velocity of wheel rotation [3]. 

for 

Now 

constrained 
aforementioned  system,  the  equation  of  motion  using 
Lagrange multiplier rule is described as follows: 

non-holonomically 

a 

 
M z z C z z
&

+

&&

(

)

(

,

T

(

)

(

)

)

)

z

+

=

+

is 

nλ

G z
(

F z u D

    (1) 
 
where  M(z)  is  the  [n  x  n]  dimensional  positive  definite 
inertia  matrix, C(z, z)&  
the  n-dimensional  velocity-
dependent force vector of Coriolis and Centrifugal forces, G 
(z)  is  the  gravitational  force  vector,  u  is  the  r-dimensional 
vector  of  actuator  force/torque,  F(z)  is  the  [n  x  r] 
dimensional  matrix  mapping  the  actuator  space  into  the 
generalized  coordinate  space  and  λ  is  an  m-dimensional 
vector  of  Lagrangian  Multipliers.  D(z)  is  an  [m  x  n] 
dimensional  matrix  of  constraints  of  a  mechanical  system 
that is subjected to m velocity levels such that: 
 
 
      (2) 
where  z=(xc,yc,  φ,  Θr,  Θl)t  is  the  n-dimensional  matrix  of 
generalized coordinates. As the constraints are independent 
so we can deduce that D (z) has rank m. 
 

D z z =&
( )

0

 

 

 

 

 

Figure  1  Two-wheeled  differential  drive  with  a  passive  castor 

wheel 

The robot under consideration is assumed to be made up 
of a rigid cart which is equipped with two non-deformable 
wheels along with a passive castor wheel. We have assumed 

 

88

 

III.    MODELING 

 
For  accurate  description  of  a  system,  it  is  necessary  to 
create  a  proper  dynamic  model.  The  development  of  an 
efficient control system for the drive robot necessitates the 
dynamics of the system to be described by a mathematical 
model.  This  model 
into  consideration  various 
properties like inertia, mass, torque, frictional forces etc. 
 

takes 

for 

the 

the  constraint  equation 

A.  Constraint Equation 
Here 
two-wheeled 
differential  drive  is  calculated  considering  two  driving 
wheels and a single passive castor wheel. The passive castor 
wheel does not provide an additional velocity constraint on 
the  robot’s  motion  as  it  is  needed  only  for  stability  of  the 
robot. 
 
Notation   Description 
mc 
mw 
b 

Mass of the robot body without driving wheels 
Mass of each driving wheels 
Distance  between  the  driving  wheels  and  axis 
of symmetry 
Radius of each driving wheel 
Moment  of  inertia  of  each  wheel  about  the 
wheel axis 
Moment  of  inertia  of  each  wheel  about  wheel 
diameter 
Intersection of driving wheel axis with the axis 
of symmetry 
Center of mass of robot body 
Distance from Po to Pc 
Moment  of  inertia  of  robot  body  without 
wheels about a vertical axis through Po 

r 
Iw 

Im 

Po 

Pc 
d 
Ic 

TABLE II.  NOMENCLATURE OF NOTATIONS 

Let  z  be  the  n-vectors  of  generalized  coordinates  for  the 
differential drive robot. As these systems are non-holonomic 
so they are well characterized by n-m non-integrable linear 
constraints on their generalized velocities. These constraints 
arise  from  the  rolling  without  slipping  condition  for  the 
wheels. Therefore, the robot is subjected to three constraint 
equations which are given below: 

&

&

  

c

y cosφ - x sinφ - dφ = 0
c
&

      
x cosφ + y sinφ + bφ = rθ
r&
c
&
x cosφ + y sinφ - bφ = rθ
l&
&

c

c

c

&

&

&

&

 

 

      (3)

     (4) 

     (5) 

 
 

where (xc, yc) are the coordinates of the  center of mass Pc 
and  φ  is  the  heading  angle  measured  from  the  x-axis  of 
world  coordinate  system.  Θ  is  the  driving  angles  of  both 
wheels  of  the  robots.  Equation  (3)  implies  that  the  robot 
must  move  in  the  direction  of  axis  of  symmetry  whereas 
equation (4, 5) suggests that the driving wheels should not 

 

slip. The above three constraints can be written in the form 
of a 3x5 dimensional matrix D(z) as: 

-sinφ cosφ -d 0 0
0
r

D(z) = -cosφ -sinφ -b
-cosφ -sinφ b

r
0

⎡
⎢
⎢
⎢
⎣

 

      (6) 

⎤
⎥
⎥
⎥
⎦

The notations used for the derivation of constraint equations 
and dynamic equation are shown in Table II. 
B.  Dynamic Equation 

Mobile  robot  dynamics  is  needed  for  planning  robot 
trajectory.  Lagrangian  approach  is  used  to  generate  the 
ordinary  differential  equations  (ODEs)  of  the  system.  So 
existing  energies  of  the  system  is  observed  in  order  to 
develop  the  Lagrangian  equation[5].  Lagrangian  (£)  in 
Newtonian mechanics is chosen to be 

 
£=T-U 
 

 

 

 

      (7)

where  T  is  the  total  kinetic  energy  and  U  is  the  total 
potential  energy[6].  Here  as  we  are  neglecting  the  gravity 
factor so U=0 and also G (z) =0 in equation (1). The total 
kinetic  energies  of  robot  body  and  wheels  are  calculated 
separately.    Non-linear  equations  of  system  are  developed 
by  substituting  the  existing  energies  in  equation  (1)  which 
are given below: 

mx - m d(φsinφ + φ cosφ) - λ sinφ - (λ + λ )cosφ = 0
&&

&&

&

c

c

my +m d(φcosφ-φ sinφ) +λ cosφ-(λ +λ )sinφ = 0
c
&&

c

&&

&

1

1

2

2

3

3

2

2

c

-m d(x sinφ - y cosφ) + Iφ - dλ + b(λ - λ ) = 0
 

3

1

2

c

c

&&

&&

&&

  (8) 
(9)  
      
  (10) 

I

I

 

 

where 

r

θ + λ r = τ
&&
w r

2

 
θ + λ r = τ
&&
 

3

w

 

l

                  (11)
                  (12) 
 

 

l

m = m +2mc

w  
2

2

I = I + 2m (d + b ) + 2I

c

w

 

 

m   

 

 

and lτ and rτ   are  the  left  and  right  torques  acting  on  the 
wheel  axis  respectively.  The  above  five  motion  equations 
can be written in the vector form as 
 
 
     (13) 
(
 
The matrix DT (z) has been in equation (6) and the matrices 
M(z), C(z, z)&  and F (z) are given by 
 

M z z C z z
&

F z u D

nλ

T

+

=

−

&&

z

(

(

)

(

)

)

)

,

89

M(z) = -m dsinφ m dcosφ

⎡
⎢
⎢
⎢
⎢
⎣

m
0

0
m

c

0
0

c

0
0

c
c

0
-m dsinφ 0
0
m dcosφ
0
0
0
0w
0
Iw

I
0
0

I

⎤
⎥
⎥
⎥
⎥
⎦

 

 

⎡
⎢
⎢
⎢
⎢
⎣

C(z, z) =

&

     

2

&

-m dφ cosφ
-m dφ sinφ

2

c
c

&
0
0
0

F (z) =

⎡
⎢
⎢
⎢
⎢
⎣

0
0
0
1
0

0
0
0
0
1

⎤
⎥
⎥
⎥
⎥
⎦

 

 

⎤
⎥
⎥
⎥
⎥
⎦

 

           

 
Now the equation of motion (13) and the constraint equation 
(2) is represented in state space by a 5x2 dimensional matrix 
N(z) which  describes  the  generalized  velocities  of  the 
system such that D(z)N(z) = 0 .  
 

Substituting  the  expression  into  equation  (13)  and  pre-

multiplying by

T
N the equation becomes 

TN (M N υ(t) + M N υ(t) + C ) = τ

&

&

        (16) 

 

Let x be a state space vector such that 
 

T

T

T

⎡
x = z
⎣

υ

⎤
⎦

x =
&

⎡
⎢
⎣

N υ
f

2

⎤
⎥
⎦

+

⎡
⎢
⎣

0

T

( N M N )

- 1

⎤
⎥
⎦

τ

(17) 
  

Then  

 
where 

2f

= (N M N )

T

-1

T

(-N M N υ - N C )  

T

 
By applying the following nonlinear feedback  

 

τ = N M N ( u - f

T

)  

2

                  (18) 

the state equation in (17) is  further simplified to 

    
 

 

x =
&

⎡
⎢
⎣

N υ
0

⎤
⎥
⎦

 

+

⎡ ⎤
0
⎢ ⎥
⎣ ⎦
I

u

 

                  (19) 

where u is the new input that could linearize equation (17) 
and then integrating equation (19) we get the vector x which 
gives every state variable in the system.   
 
 

N(z) =

[

n
1

]
(z) n (z) =

2

Here  the  constant

c =

⎡
⎤
c (b cos φ - d sin φ) c (b cos φ + d sin φ)
⎥
⎢
c (b sin φ + d cos φ)
c (b sin φ - d cos φ)
⎥
⎢
⎥
⎢
⎢
⎥
⎣
⎦
.  From  the  constraint  equation 

-c
0
1

c
1
0

r
2 b

(2),  Z&
 is in the null space of D(z) . As the two columns of 
N(z)   are  in  the  null  space  of  D(z) and  are  linearly 
independent,  so  we  can  express Z& as  a  linear  combination 
of the two columns of  N(z) i.e. 

z = N ( z ) υ
&

 

 

    (14) 

where 

υ =

⎡ ⎤
θr
&
⎢ ⎥⎣ ⎦
θ
&
l
Differentiating equation (14) we get 

⎡ ⎤
υ
1
⎢ ⎥
⎣ ⎦
υ
2

=

 

 

 

z = N υ ( t ) + N υ ( t )
&&

&

&

   

    (15) 

90

Figure 2 Feedback Linearization 
 

 

IV.    CONTROL SYSTEM DESIGN AND SIMULATION RESULTS 

 

A  non-linear  kinematics  model  can  be  converted  into  a 
controllable  system  by  using  feedback  linearization.  Any 
number of system equations can be transformed into simple 
integrators (input–output linearization and decoupling). The 
system  in  equation  (17)  is  linearized  by  designing  a 
feedback  controller  where  u  is  used  as  an  input  to  the 
system.  A  non-linear  feedback  is  used  to  achieve  input-
output linearization as in the block diagram of the feedback 
system shown in Figure 2.The output y is given by 
 

y = h ( z ) =

[

x

r

y

r

]
T  

    (20)

 

 
where xr and yr are x and y coordinate of reference point on 
the desired trajectory. Differentiate (20) to get 
 
 

y
&

(
= ∂

h z
(

) /

∂

z z
)
&

=

J

h

(

N

)
υ

=

(

J

)N

υ

= Φ

υ

h

 
where  Φ  
is  known  as  decoupling  matrix.  Again 
differentiating  equation  (21)  and  using  Proportional-
Derivative (PD) control we get 
 
 

(21) 

     

d

d

y = v = y + K (y - y) + K (y - y)
&&
 

d

p

&&

&

&

d

             (22) 

where yd is the desired path,  Kp is the proportional gain and 
Kd is the derivative gain of the PD controller. The feedback 
error is given by 

e = y

d

 

- y  

 

   (23) 

   Since the controller gains are sensitive to the performance 
of  the  system  so  a  careful  selection  from  a  very  large 
feasible set of PD gains is required. Thus, the trial and error 
method is employed for tuning the controller until the error 
is minimized. Here, a simulator on MATLAB is developed 
for  simulating  a  two-wheeled  differential  drive.  To  assess 
the performance of the feedback linearization controller, we 
present  the  simulation  result  in  Figure  4.  The  desired 
trajectory of the slanting line and a circle is given as input 
which can be seen in blue whereas the path followed by the 
robot  is  visible  in  red.  The  tracking  of  the  reference 
trajectory  is  very  accurate  and the  residual  error  is  mainly 
because of the robot that takes a short time period to achieve 
the needed heading angle. But once it is directed it precisely 
follow  the  trajectory.  We  noted  that  the  actual  trajectory 
coincides with the desired trajectory closely. 
 
    The differential drive robot has a singularity that it cannot 
travel in the direction along the axis of rotation. Moreover, 
robot  trajectory  is  also  affected  by  small  errors  in  the 
relative velocities of the two wheels. These robots are prone 
to slight change in the ground plane too. So the two wheels 
of  the  robot  are  driven  with  exactly  the  same  angular 
displacement  which  can  be  seen  in  Figure  5.  The  linear 
velocity profile of the system can be seen in Figure 3 where 
after  achieving  a  desired  overshoot  the  profile  become 
stable. Hence, the results prove to be quite satisfactory and 
tracking 
here  successful 
problem  using 
is 
accomplished.  
 
 
 

implementation  of 
feedback 

linearization 

technique 

trajectory 

Linear Velocity of Robot

10

20

30

40

50

60

Figure 3. Linear Velocity of Robot 

 

100

90

80

70

60

50

40

30

20

10

0

-10
 
-10

Trajectory followed by Robot

 

0

10

20

30

40

50

60

70

80

90

100

Figure 4. Simulation Results 

 

 

1.5

1

0.5

0

-0.5

-1

-1.5

-2

-2.5

-3

0

 
 
 

91

Theta of Right Wheel

Theta of Left Wheel

100

80

60

40

20

0

100

80

60

40

20

0

-20

0

10

20

30

40

50

60

-20

0

10

20

30

40

50

60

                   Figure 5 Angular Displacement of two wheels 

 

 

 
CONCLUSION 

V.  

 
In  this  paper,  we  have  summarized  our  observations  in 
the  form  of  a  useful  guideline  for  implementation  of  the 
control strategy on other WMRs. From the point of view of 
control  parameters  tuning,  especially  for  more  complex 
WMRs, the feedback linearization technique appears to be 
simpler  as  it  makes  the  choice  of  stabilizing  gains  for 
integrator quite easier. It has a simple mechanical structure 
and kinematic model. A control algorithm is designed using 
feedback  linearization.  As  the  robot  is  subjected  to  non-
holonomic  constraints,  the  dynamic  system  governing  the 
motion  of 
linearizable. 
Systematic errors are easy to calibrate. However, it allows 
only bidirectional movement so the robot has to be initially 
 

the  robot 

input-state 

is  not 

oriented to the reference. For future work, a system could be 
designed  that  can  travel  in  an  unknown  environment 
between  any  initial  and  goal  configuration  of  the  robot.
 
 
1. 

 
 

 

 
REFERENCES 

 
 
L.Gracia,  J.T.,  Kinematic  Control  of  Wheeled 
Mobile Robots. Latin American Applied Research, 
2008. 
Guy  Campion,  G.B.  Structural  Properties  and 
Classification of Kinematic and Dynamic Model of 
Wheeled  Mobile  Robots.  in  IEEE  Transaction  on 
Robotics and Automation. 1996. 
Bruno  Siciliano,  O.K.,  Springer  Handbook  of 
Robotics,. 2008: Springer. 
Daniel  R.  Jones,  K.A.S.  (2010)  Modelling  and 
Stability  Control  of  Two-Wheeled  Robots  in  Low-
Traction Environments. acra. 
Hamid  Reza,  J.-Y.C.,  Design  and  Parametric 
control  of  co-axes  driven  two-wheeled  balancing 
robot, in Microsyst Technol. 2011, Springer. 
Blair (2003) Lecture Notes. Massachusetts Institute 
of Technology, Aerospace Dynamics  
Roland  Siegwart,  I.R.N.,  Intro  to  Autonomous 
Mobile Robots. 2004: MIT Press. 
J.Craig, J., Introduction to Robotics Mechanics and 
Control. Third ed. 2007: Pearson Education. 
Chitsaz,  H.,  et  al.  Minimum  wheel-rotation  paths 
for  differential-drive  mobile  robots.  in  Robotics 
and  Automation,  2006.  ICRA  2006.  Proceedings 
2006 IEEE International Conference on. 2006. 
T.Mathavaraj  Ravikumar,  R.S.,  Modeling  and 
Optimization of Odometry Error in a Two Wheeled 
Differential  Drive  Robot.  International  Journal  of 
Scientific and Research Publications, 2013 Volume 
3(Issue 12). 
Changbae  Jung,  C.-b.M.,  Design  of  test  track  for 
accurate  calibration  of  two  wheel  differential 
mobile  robots.  International  Journal  of  Precision 
Engineering and Manufacturing, 2014 Volume 15( 
Issue 1). 

2. 

3. 

4. 

5. 

6. 

7. 

8. 

9. 

10. 

11. 

 

92

