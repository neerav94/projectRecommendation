An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

on their way to supermarket. The lack of granulated and speciﬁc information may discourage
potential customers to consider their products.

• Supermarkets miss the opportunity to engage customer’s loyalty by satisfying their shopping needs
beyond of ﬁdelity cards and suggesting special offers directed to market groups. Despite the close
relationship between supermarket and customers, current approaches make difﬁcult to suggest the
most suitable selection of products to customers based on predeﬁned criteria.

The challenges exposed above can be overcome with the implementation of an information system
based on the Machineto- Machine communications and Internet of Things approaches. Support for
additional requirements from Food-Awareness and future shopping behaviors can also be satisﬁed with
these new approaches.

One of the utmost challenges to be solved is represented by the paramount complexity of dealing with
sources of data geographically scattered across distinct locations with distinct maintainers and owners:
manufacturers, supermarket and customers (Fig. 1); and the associated difﬁculty to construct useful
information from those data that can be relevant in different stages of the supply and shopping processes.

Figure 1: Scattering of information sources

Manufacturers are in charge of maintaining the information related to their products: ingredients,
manufacturing processes, origin and etcetera. Only certain amount of this information is published
whether on product labels or corporative website and its interpretation might confuse readers.

Supermarkets manage information useful for setting the sale price on their own premises, stock,
suppliers, customers’ subscriptions, sales records and so on. Most of this information remains private for
corporative purposes.

Customers contribute with their preferences and interests. Unfortunately, current approaches do not
exploit that valuable information to the maximum as customer preferences are not managed in a proper
manner so that proﬁling of product offers can be directed to particular customers based on updatable
consumer proﬁles.

51

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

on their way to supermarket. The lack of granulated and speciﬁc information may discourage
potential customers to consider their products.

• Supermarkets miss the opportunity to engage customer’s loyalty by satisfying their shopping needs
beyond of ﬁdelity cards and suggesting special offers directed to market groups. Despite the close
relationship between supermarket and customers, current approaches make difﬁcult to suggest the
most suitable selection of products to customers based on predeﬁned criteria.

The challenges exposed above can be overcome with the implementation of an information system
based on the Machineto- Machine communications and Internet of Things approaches. Support for
additional requirements from Food-Awareness and future shopping behaviors can also be satisﬁed with
these new approaches.

One of the utmost challenges to be solved is represented by the paramount complexity of dealing with
sources of data geographically scattered across distinct locations with distinct maintainers and owners:
manufacturers, supermarket and customers (Fig. 1); and the associated difﬁculty to construct useful
information from those data that can be relevant in different stages of the supply and shopping processes.

Figure 1: Scattering of information sources

Manufacturers are in charge of maintaining the information related to their products: ingredients,
manufacturing processes, origin and etcetera. Only certain amount of this information is published
whether on product labels or corporative website and its interpretation might confuse readers.

Supermarkets manage information useful for setting the sale price on their own premises, stock,
suppliers, customers’ subscriptions, sales records and so on. Most of this information remains private for
corporative purposes.

Customers contribute with their preferences and interests. Unfortunately, current approaches do not
exploit that valuable information to the maximum as customer preferences are not managed in a proper
manner so that proﬁling of product offers can be directed to particular customers based on updatable
consumer proﬁles.

51

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

By surpassing those information management issues, current technology advances enable customers
to consult granulated and personalized information about products by using simply using their smart-
phones to scan QR codes or entering identiﬁcation codes labeled on products.

Interoperability and interaction with heterogeneous sources of information, devices or virtual objects
[11] describe the vision of the future supermarket environment. In order to achieve those goals, some
adaptations must be made:

• Supermarket must establish a categorization of features that best describe their products so that can
be useful to establish the foundations of customers’ proﬁles which is one of the goals of the Future
Internet’s platforms [6] and also to reﬂect their interests: product processing, chemical use, origin,
nutritional information, welfare certiﬁcations and etcetera. This task can beneﬁt from the knowl-
edge that supermarkets have about their customers and, as a result, an information system can be
built to manage these data so that customers can identify with them and select their preferences
and eventually update them.

• Setting up an accessible platform where every link of the product value chain is able to collect,
store and update the data is managing and producing at every step: new ingredients added, new raw
material providers, eventual environmental issues during transportation, new recommendations of
use, recipes and so on. The information collected in this accessible platform should be easy to be
consumed by friendly and fast interfaces so that no additional software or complex conﬁgurations
take place in the process which in turn might downgrade the user experience.

The Smart Agri-Food Project [18] is part of the Future Internet Public-Private Partnership (FI-PPP)
program [1] and addresses farming, agri-logistics and food awareness use-cases by aiming the boost of
application and use of future internet ICTs [6] in the Agri-Food domain. The web pilot described in
this paper has been developed as part of this project within the Food Awareness use case by providing
internetworking among all the virtual or physical objects and interfaces so that consumers are able to
request and retrieve information of a speciﬁc product using their smartphone. The information retrieved
is matched with the consumers’ shopping proﬁles previously set on the sign-up process.

3 Development Based on Co-Participation

Customers are moving away from traditional roles to become co-creators and consumers of value [13],
with this assertion in mind it becomes a quite useful task to involve customers in the development stages
of an information service solution for a supermarket with the extended features mentioned above. The
proper interpretation of consumer expectations must be based on an iterative communication scheme
so that initial and subsequent opinions are validated and used as external ideas that feed the internal
ones so that technology selection and development are pushed forward [3]. With this communicative
development method, all the needs of co-creation and co-development approaches are fulﬁlled and it is
possible to harness the potential of the external ideas.

To clearly understand the user needs and visualize possible challenges and limitations on certain sce-
narios it is quite useful to consider the user participation in the development stages. Cooperation applied
in the customization of services provides consumers with the ability to communicate in a compelling
experience characterized by an intrinsic enjoyment and engagement that is prone to be repeated [14].
When developing a personalized Future Internet [6] information system for shopping environments, user
involvement is a must, so that new opportunities could arise:

• for supermarkets and consumers regarding loyalty relationships and thoughtfulness.

52

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

on their way to supermarket. The lack of granulated and speciﬁc information may discourage
potential customers to consider their products.

• Supermarkets miss the opportunity to engage customer’s loyalty by satisfying their shopping needs
beyond of ﬁdelity cards and suggesting special offers directed to market groups. Despite the close
relationship between supermarket and customers, current approaches make difﬁcult to suggest the
most suitable selection of products to customers based on predeﬁned criteria.

The challenges exposed above can be overcome with the implementation of an information system
based on the Machineto- Machine communications and Internet of Things approaches. Support for
additional requirements from Food-Awareness and future shopping behaviors can also be satisﬁed with
these new approaches.

One of the utmost challenges to be solved is represented by the paramount complexity of dealing with
sources of data geographically scattered across distinct locations with distinct maintainers and owners:
manufacturers, supermarket and customers (Fig. 1); and the associated difﬁculty to construct useful
information from those data that can be relevant in different stages of the supply and shopping processes.

Figure 1: Scattering of information sources

Manufacturers are in charge of maintaining the information related to their products: ingredients,
manufacturing processes, origin and etcetera. Only certain amount of this information is published
whether on product labels or corporative website and its interpretation might confuse readers.

Supermarkets manage information useful for setting the sale price on their own premises, stock,
suppliers, customers’ subscriptions, sales records and so on. Most of this information remains private for
corporative purposes.

Customers contribute with their preferences and interests. Unfortunately, current approaches do not
exploit that valuable information to the maximum as customer preferences are not managed in a proper
manner so that proﬁling of product offers can be directed to particular customers based on updatable
consumer proﬁles.

51

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

By surpassing those information management issues, current technology advances enable customers
to consult granulated and personalized information about products by using simply using their smart-
phones to scan QR codes or entering identiﬁcation codes labeled on products.

Interoperability and interaction with heterogeneous sources of information, devices or virtual objects
[11] describe the vision of the future supermarket environment. In order to achieve those goals, some
adaptations must be made:

• Supermarket must establish a categorization of features that best describe their products so that can
be useful to establish the foundations of customers’ proﬁles which is one of the goals of the Future
Internet’s platforms [6] and also to reﬂect their interests: product processing, chemical use, origin,
nutritional information, welfare certiﬁcations and etcetera. This task can beneﬁt from the knowl-
edge that supermarkets have about their customers and, as a result, an information system can be
built to manage these data so that customers can identify with them and select their preferences
and eventually update them.

• Setting up an accessible platform where every link of the product value chain is able to collect,
store and update the data is managing and producing at every step: new ingredients added, new raw
material providers, eventual environmental issues during transportation, new recommendations of
use, recipes and so on. The information collected in this accessible platform should be easy to be
consumed by friendly and fast interfaces so that no additional software or complex conﬁgurations
take place in the process which in turn might downgrade the user experience.

The Smart Agri-Food Project [18] is part of the Future Internet Public-Private Partnership (FI-PPP)
program [1] and addresses farming, agri-logistics and food awareness use-cases by aiming the boost of
application and use of future internet ICTs [6] in the Agri-Food domain. The web pilot described in
this paper has been developed as part of this project within the Food Awareness use case by providing
internetworking among all the virtual or physical objects and interfaces so that consumers are able to
request and retrieve information of a speciﬁc product using their smartphone. The information retrieved
is matched with the consumers’ shopping proﬁles previously set on the sign-up process.

3 Development Based on Co-Participation

Customers are moving away from traditional roles to become co-creators and consumers of value [13],
with this assertion in mind it becomes a quite useful task to involve customers in the development stages
of an information service solution for a supermarket with the extended features mentioned above. The
proper interpretation of consumer expectations must be based on an iterative communication scheme
so that initial and subsequent opinions are validated and used as external ideas that feed the internal
ones so that technology selection and development are pushed forward [3]. With this communicative
development method, all the needs of co-creation and co-development approaches are fulﬁlled and it is
possible to harness the potential of the external ideas.

To clearly understand the user needs and visualize possible challenges and limitations on certain sce-
narios it is quite useful to consider the user participation in the development stages. Cooperation applied
in the customization of services provides consumers with the ability to communicate in a compelling
experience characterized by an intrinsic enjoyment and engagement that is prone to be repeated [14].
When developing a personalized Future Internet [6] information system for shopping environments, user
involvement is a must, so that new opportunities could arise:

• for supermarkets and consumers regarding loyalty relationships and thoughtfulness.

52

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• for manufacturers and governments as they beneﬁt from having an service infrastructure where
smart notiﬁcations and updates can be sent to customers and citizens in case of contamination
contingences.

Figure 2: Food awareness concept in pilot developed

The pilot features have been deﬁned and speciﬁed by focusing on user needs and ensuring the inter-

operability of data and knowledge sources across the product supply chain ( Fig. 2) .

A key aspect in system design was the deﬁnition of a suitable IT infrastructure to ensure easy and
secure access, integrity, collection, updates, processing and communication of information to consumers
while supporting the Food Awareness concept. In this stage the next guidelines have been deﬁned:

For Supermarkets

1. Setting up an information management infrastructure. This infrastructure must ensure the proper
storage and management of heterogeneous information which includes: customer’ preferences,
proﬁling features, information updates, notiﬁcations, triggered alerts and etcetera. In this process,
wireless coverage must be ensured for customers at supermarket premises so that no connectivity
issues can affect the shopping process.

2. Communicate with external entities. Another leg of this platform must deal with the communica-
tion with external servers that can perform complex tasks. In the solution developed, those external
servers take the form of generic enablers that provide the whole system with processing capabili-
ties (logo recognition, identity management, etcetera) that remain isolated from client domain and
can be extended to provide more complex calculations and retrieve sharp information based on
customer preferences.

53

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

on their way to supermarket. The lack of granulated and speciﬁc information may discourage
potential customers to consider their products.

• Supermarkets miss the opportunity to engage customer’s loyalty by satisfying their shopping needs
beyond of ﬁdelity cards and suggesting special offers directed to market groups. Despite the close
relationship between supermarket and customers, current approaches make difﬁcult to suggest the
most suitable selection of products to customers based on predeﬁned criteria.

The challenges exposed above can be overcome with the implementation of an information system
based on the Machineto- Machine communications and Internet of Things approaches. Support for
additional requirements from Food-Awareness and future shopping behaviors can also be satisﬁed with
these new approaches.

One of the utmost challenges to be solved is represented by the paramount complexity of dealing with
sources of data geographically scattered across distinct locations with distinct maintainers and owners:
manufacturers, supermarket and customers (Fig. 1); and the associated difﬁculty to construct useful
information from those data that can be relevant in different stages of the supply and shopping processes.

Figure 1: Scattering of information sources

Manufacturers are in charge of maintaining the information related to their products: ingredients,
manufacturing processes, origin and etcetera. Only certain amount of this information is published
whether on product labels or corporative website and its interpretation might confuse readers.

Supermarkets manage information useful for setting the sale price on their own premises, stock,
suppliers, customers’ subscriptions, sales records and so on. Most of this information remains private for
corporative purposes.

Customers contribute with their preferences and interests. Unfortunately, current approaches do not
exploit that valuable information to the maximum as customer preferences are not managed in a proper
manner so that proﬁling of product offers can be directed to particular customers based on updatable
consumer proﬁles.

51

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

By surpassing those information management issues, current technology advances enable customers
to consult granulated and personalized information about products by using simply using their smart-
phones to scan QR codes or entering identiﬁcation codes labeled on products.

Interoperability and interaction with heterogeneous sources of information, devices or virtual objects
[11] describe the vision of the future supermarket environment. In order to achieve those goals, some
adaptations must be made:

• Supermarket must establish a categorization of features that best describe their products so that can
be useful to establish the foundations of customers’ proﬁles which is one of the goals of the Future
Internet’s platforms [6] and also to reﬂect their interests: product processing, chemical use, origin,
nutritional information, welfare certiﬁcations and etcetera. This task can beneﬁt from the knowl-
edge that supermarkets have about their customers and, as a result, an information system can be
built to manage these data so that customers can identify with them and select their preferences
and eventually update them.

• Setting up an accessible platform where every link of the product value chain is able to collect,
store and update the data is managing and producing at every step: new ingredients added, new raw
material providers, eventual environmental issues during transportation, new recommendations of
use, recipes and so on. The information collected in this accessible platform should be easy to be
consumed by friendly and fast interfaces so that no additional software or complex conﬁgurations
take place in the process which in turn might downgrade the user experience.

The Smart Agri-Food Project [18] is part of the Future Internet Public-Private Partnership (FI-PPP)
program [1] and addresses farming, agri-logistics and food awareness use-cases by aiming the boost of
application and use of future internet ICTs [6] in the Agri-Food domain. The web pilot described in
this paper has been developed as part of this project within the Food Awareness use case by providing
internetworking among all the virtual or physical objects and interfaces so that consumers are able to
request and retrieve information of a speciﬁc product using their smartphone. The information retrieved
is matched with the consumers’ shopping proﬁles previously set on the sign-up process.

3 Development Based on Co-Participation

Customers are moving away from traditional roles to become co-creators and consumers of value [13],
with this assertion in mind it becomes a quite useful task to involve customers in the development stages
of an information service solution for a supermarket with the extended features mentioned above. The
proper interpretation of consumer expectations must be based on an iterative communication scheme
so that initial and subsequent opinions are validated and used as external ideas that feed the internal
ones so that technology selection and development are pushed forward [3]. With this communicative
development method, all the needs of co-creation and co-development approaches are fulﬁlled and it is
possible to harness the potential of the external ideas.

To clearly understand the user needs and visualize possible challenges and limitations on certain sce-
narios it is quite useful to consider the user participation in the development stages. Cooperation applied
in the customization of services provides consumers with the ability to communicate in a compelling
experience characterized by an intrinsic enjoyment and engagement that is prone to be repeated [14].
When developing a personalized Future Internet [6] information system for shopping environments, user
involvement is a must, so that new opportunities could arise:

• for supermarkets and consumers regarding loyalty relationships and thoughtfulness.

52

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• for manufacturers and governments as they beneﬁt from having an service infrastructure where
smart notiﬁcations and updates can be sent to customers and citizens in case of contamination
contingences.

Figure 2: Food awareness concept in pilot developed

The pilot features have been deﬁned and speciﬁed by focusing on user needs and ensuring the inter-

operability of data and knowledge sources across the product supply chain ( Fig. 2) .

A key aspect in system design was the deﬁnition of a suitable IT infrastructure to ensure easy and
secure access, integrity, collection, updates, processing and communication of information to consumers
while supporting the Food Awareness concept. In this stage the next guidelines have been deﬁned:

For Supermarkets

1. Setting up an information management infrastructure. This infrastructure must ensure the proper
storage and management of heterogeneous information which includes: customer’ preferences,
proﬁling features, information updates, notiﬁcations, triggered alerts and etcetera. In this process,
wireless coverage must be ensured for customers at supermarket premises so that no connectivity
issues can affect the shopping process.

2. Communicate with external entities. Another leg of this platform must deal with the communica-
tion with external servers that can perform complex tasks. In the solution developed, those external
servers take the form of generic enablers that provide the whole system with processing capabili-
ties (logo recognition, identity management, etcetera) that remain isolated from client domain and
can be extended to provide more complex calculations and retrieve sharp information based on
customer preferences.

53

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

For Manufacturers

1. Maintain product information updated Manufacturers can have an accessible interface, via super-

market infrastructure, to maintain and extend information that describes their products.

For customers (Fig. 3)

1. Sign-up to supermarket service The customers should use their smartphone to point the web
browser to a particular URL using the supermarket premises (wireless access) and then sign up
to create their personalized proﬁles (set preferences). Alternatively, and for testing purposes, it is
considered the option of providing similar services to anonymous users.

1. Scan product codes. This process requires customers to use their smartphone to scan the Quick
Response codes or Augmented Reality patterns labeled on the particular product their interested
and as a result of this simple gesture, the personalized information can be visualized on screen
granulating details based on the preferences they set previously.

Figure 3: Simple gestures for retrieval of information

Real consumers were selected to both deﬁne pilot features and test the pilot itself and assess their
satisfaction with the implementation. Feedback from end users (consumers) is a key point to assess
viability and compliance with their expectations. For this, several sessions were planned in order to
involve consumers in the pilot. The sessions are called workshops with consumers, because of their
interactive and open to discussion nature between consumers and retailer.

The objective of those workshops was to involve a panel of 15-20 consumers in all the process
of the pilot, its conception, development and evaluation, as to identify their needs and requirements
as consumers, then to test and to validate the pilot mock-ups and its ﬁnal version. The planning of
workshops most suitable for our expected objectives resulted as follows:

• Pre-Workshop. Objective: To know the opinion of consumers about the future supermarket and

habits of consumption. Participants: A total of 14 people.

• 1st Workshop. Objective: Introduction to the project, analysis of the current situation (myriad
of logos, lack of information) and stipulation of which product attributes consumer would like to
know and how while shopping. Participants: Panel of consumers of 15 people.

54

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

on their way to supermarket. The lack of granulated and speciﬁc information may discourage
potential customers to consider their products.

• Supermarkets miss the opportunity to engage customer’s loyalty by satisfying their shopping needs
beyond of ﬁdelity cards and suggesting special offers directed to market groups. Despite the close
relationship between supermarket and customers, current approaches make difﬁcult to suggest the
most suitable selection of products to customers based on predeﬁned criteria.

The challenges exposed above can be overcome with the implementation of an information system
based on the Machineto- Machine communications and Internet of Things approaches. Support for
additional requirements from Food-Awareness and future shopping behaviors can also be satisﬁed with
these new approaches.

One of the utmost challenges to be solved is represented by the paramount complexity of dealing with
sources of data geographically scattered across distinct locations with distinct maintainers and owners:
manufacturers, supermarket and customers (Fig. 1); and the associated difﬁculty to construct useful
information from those data that can be relevant in different stages of the supply and shopping processes.

Figure 1: Scattering of information sources

Manufacturers are in charge of maintaining the information related to their products: ingredients,
manufacturing processes, origin and etcetera. Only certain amount of this information is published
whether on product labels or corporative website and its interpretation might confuse readers.

Supermarkets manage information useful for setting the sale price on their own premises, stock,
suppliers, customers’ subscriptions, sales records and so on. Most of this information remains private for
corporative purposes.

Customers contribute with their preferences and interests. Unfortunately, current approaches do not
exploit that valuable information to the maximum as customer preferences are not managed in a proper
manner so that proﬁling of product offers can be directed to particular customers based on updatable
consumer proﬁles.

51

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

By surpassing those information management issues, current technology advances enable customers
to consult granulated and personalized information about products by using simply using their smart-
phones to scan QR codes or entering identiﬁcation codes labeled on products.

Interoperability and interaction with heterogeneous sources of information, devices or virtual objects
[11] describe the vision of the future supermarket environment. In order to achieve those goals, some
adaptations must be made:

• Supermarket must establish a categorization of features that best describe their products so that can
be useful to establish the foundations of customers’ proﬁles which is one of the goals of the Future
Internet’s platforms [6] and also to reﬂect their interests: product processing, chemical use, origin,
nutritional information, welfare certiﬁcations and etcetera. This task can beneﬁt from the knowl-
edge that supermarkets have about their customers and, as a result, an information system can be
built to manage these data so that customers can identify with them and select their preferences
and eventually update them.

• Setting up an accessible platform where every link of the product value chain is able to collect,
store and update the data is managing and producing at every step: new ingredients added, new raw
material providers, eventual environmental issues during transportation, new recommendations of
use, recipes and so on. The information collected in this accessible platform should be easy to be
consumed by friendly and fast interfaces so that no additional software or complex conﬁgurations
take place in the process which in turn might downgrade the user experience.

The Smart Agri-Food Project [18] is part of the Future Internet Public-Private Partnership (FI-PPP)
program [1] and addresses farming, agri-logistics and food awareness use-cases by aiming the boost of
application and use of future internet ICTs [6] in the Agri-Food domain. The web pilot described in
this paper has been developed as part of this project within the Food Awareness use case by providing
internetworking among all the virtual or physical objects and interfaces so that consumers are able to
request and retrieve information of a speciﬁc product using their smartphone. The information retrieved
is matched with the consumers’ shopping proﬁles previously set on the sign-up process.

3 Development Based on Co-Participation

Customers are moving away from traditional roles to become co-creators and consumers of value [13],
with this assertion in mind it becomes a quite useful task to involve customers in the development stages
of an information service solution for a supermarket with the extended features mentioned above. The
proper interpretation of consumer expectations must be based on an iterative communication scheme
so that initial and subsequent opinions are validated and used as external ideas that feed the internal
ones so that technology selection and development are pushed forward [3]. With this communicative
development method, all the needs of co-creation and co-development approaches are fulﬁlled and it is
possible to harness the potential of the external ideas.

To clearly understand the user needs and visualize possible challenges and limitations on certain sce-
narios it is quite useful to consider the user participation in the development stages. Cooperation applied
in the customization of services provides consumers with the ability to communicate in a compelling
experience characterized by an intrinsic enjoyment and engagement that is prone to be repeated [14].
When developing a personalized Future Internet [6] information system for shopping environments, user
involvement is a must, so that new opportunities could arise:

• for supermarkets and consumers regarding loyalty relationships and thoughtfulness.

52

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• for manufacturers and governments as they beneﬁt from having an service infrastructure where
smart notiﬁcations and updates can be sent to customers and citizens in case of contamination
contingences.

Figure 2: Food awareness concept in pilot developed

The pilot features have been deﬁned and speciﬁed by focusing on user needs and ensuring the inter-

operability of data and knowledge sources across the product supply chain ( Fig. 2) .

A key aspect in system design was the deﬁnition of a suitable IT infrastructure to ensure easy and
secure access, integrity, collection, updates, processing and communication of information to consumers
while supporting the Food Awareness concept. In this stage the next guidelines have been deﬁned:

For Supermarkets

1. Setting up an information management infrastructure. This infrastructure must ensure the proper
storage and management of heterogeneous information which includes: customer’ preferences,
proﬁling features, information updates, notiﬁcations, triggered alerts and etcetera. In this process,
wireless coverage must be ensured for customers at supermarket premises so that no connectivity
issues can affect the shopping process.

2. Communicate with external entities. Another leg of this platform must deal with the communica-
tion with external servers that can perform complex tasks. In the solution developed, those external
servers take the form of generic enablers that provide the whole system with processing capabili-
ties (logo recognition, identity management, etcetera) that remain isolated from client domain and
can be extended to provide more complex calculations and retrieve sharp information based on
customer preferences.

53

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

For Manufacturers

1. Maintain product information updated Manufacturers can have an accessible interface, via super-

market infrastructure, to maintain and extend information that describes their products.

For customers (Fig. 3)

1. Sign-up to supermarket service The customers should use their smartphone to point the web
browser to a particular URL using the supermarket premises (wireless access) and then sign up
to create their personalized proﬁles (set preferences). Alternatively, and for testing purposes, it is
considered the option of providing similar services to anonymous users.

1. Scan product codes. This process requires customers to use their smartphone to scan the Quick
Response codes or Augmented Reality patterns labeled on the particular product their interested
and as a result of this simple gesture, the personalized information can be visualized on screen
granulating details based on the preferences they set previously.

Figure 3: Simple gestures for retrieval of information

Real consumers were selected to both deﬁne pilot features and test the pilot itself and assess their
satisfaction with the implementation. Feedback from end users (consumers) is a key point to assess
viability and compliance with their expectations. For this, several sessions were planned in order to
involve consumers in the pilot. The sessions are called workshops with consumers, because of their
interactive and open to discussion nature between consumers and retailer.

The objective of those workshops was to involve a panel of 15-20 consumers in all the process
of the pilot, its conception, development and evaluation, as to identify their needs and requirements
as consumers, then to test and to validate the pilot mock-ups and its ﬁnal version. The planning of
workshops most suitable for our expected objectives resulted as follows:

• Pre-Workshop. Objective: To know the opinion of consumers about the future supermarket and

habits of consumption. Participants: A total of 14 people.

• 1st Workshop. Objective: Introduction to the project, analysis of the current situation (myriad
of logos, lack of information) and stipulation of which product attributes consumer would like to
know and how while shopping. Participants: Panel of consumers of 15 people.

54

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• 2nd Workshop. Objective: Experimentation with the ﬁrst release of the pilot at supermarket
premises to validate the technology and to improve it according to panel of consumers’ proposals.
Participants: Same panel of consumers of 10 people.

• 3rd Workshop. Objective: Experimentation with the second release of the pilot at supermarket
premises to a ﬁnal validation and to get the feedback of expectative of the panel. Participants:
Same panel of consumers.

The results of the workshops helped to ensure the feasibility of an open deployment of the pilot
in a real supermarket. The development of all workshops with consumers in a closed environment al-
lowed detecting and improving the pilot in order to make the decision for an open deployment in any
supermarket assuring the viability of it.

The workshops have been deﬁned aiming the next objectives:
• Pre-workshop. To know the opinion of consumers about the future supermarket and way of con-

sumption.

• 1st workshop. Introduction to the project, analysis of the current situation (jungle of logos, lack
of information) and stipulation of which product attributes consumer would like to know and how
while shopping

• 2nd workshop. Experimentation with the ﬁrst release of the TIC app at supermarket premises to

validate the technology and to improve it according to panel of consumers’ proposals.

• 3rd workshop. Experimentation with the second release of the TIC app at supermarket premises

for a ﬁnal validation and to get the feedback of expectative of the panel.

The number of workshops has been chosen to match the phases of the pilot development. In this
way, a calendar has been developed for setting the dates of each workshop so they could be planed and
organised in advance.

As a result of the pre-workshop and ﬁrst workshop, the attributes that consumers consider as more

interesting and are willing to be informed about while shopping are depicted in Fig. 4.

Regarding the ways of getting product information that consumers ﬁnd more interesting and would
like to use while shopping, it points out that consumers want to get the information through a new
technology device like a screen, a scanner or a Smartphone. The Smartphone is a mix of screen and
scanner.

It has been also identiﬁed that there is a lack of information related to products for the costumer
in the supermarket environment, and when the information is available it is difﬁcult to understand it.
It is notably that not all the currently provided information is useful or interesting for the consumer.
Customers disagree with raising the product price or paying any money to gather the tailored information.
But in the other hand, they are willing to start using a real market application with the same characteristics
that the ones offered by the proofs of concept and are very receptive to use the new technologies while
shopping, and they prefer them over the classical supermarket communications, as SMS or old-fashion
mailing.

4 Solution Description

In order to implement the pilot with the features and requirements derived from the previous study it
became necessary to use all the potential of the expected Future Internet’s capabilities [1] to improve

55

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

on their way to supermarket. The lack of granulated and speciﬁc information may discourage
potential customers to consider their products.

• Supermarkets miss the opportunity to engage customer’s loyalty by satisfying their shopping needs
beyond of ﬁdelity cards and suggesting special offers directed to market groups. Despite the close
relationship between supermarket and customers, current approaches make difﬁcult to suggest the
most suitable selection of products to customers based on predeﬁned criteria.

The challenges exposed above can be overcome with the implementation of an information system
based on the Machineto- Machine communications and Internet of Things approaches. Support for
additional requirements from Food-Awareness and future shopping behaviors can also be satisﬁed with
these new approaches.

One of the utmost challenges to be solved is represented by the paramount complexity of dealing with
sources of data geographically scattered across distinct locations with distinct maintainers and owners:
manufacturers, supermarket and customers (Fig. 1); and the associated difﬁculty to construct useful
information from those data that can be relevant in different stages of the supply and shopping processes.

Figure 1: Scattering of information sources

Manufacturers are in charge of maintaining the information related to their products: ingredients,
manufacturing processes, origin and etcetera. Only certain amount of this information is published
whether on product labels or corporative website and its interpretation might confuse readers.

Supermarkets manage information useful for setting the sale price on their own premises, stock,
suppliers, customers’ subscriptions, sales records and so on. Most of this information remains private for
corporative purposes.

Customers contribute with their preferences and interests. Unfortunately, current approaches do not
exploit that valuable information to the maximum as customer preferences are not managed in a proper
manner so that proﬁling of product offers can be directed to particular customers based on updatable
consumer proﬁles.

51

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

By surpassing those information management issues, current technology advances enable customers
to consult granulated and personalized information about products by using simply using their smart-
phones to scan QR codes or entering identiﬁcation codes labeled on products.

Interoperability and interaction with heterogeneous sources of information, devices or virtual objects
[11] describe the vision of the future supermarket environment. In order to achieve those goals, some
adaptations must be made:

• Supermarket must establish a categorization of features that best describe their products so that can
be useful to establish the foundations of customers’ proﬁles which is one of the goals of the Future
Internet’s platforms [6] and also to reﬂect their interests: product processing, chemical use, origin,
nutritional information, welfare certiﬁcations and etcetera. This task can beneﬁt from the knowl-
edge that supermarkets have about their customers and, as a result, an information system can be
built to manage these data so that customers can identify with them and select their preferences
and eventually update them.

• Setting up an accessible platform where every link of the product value chain is able to collect,
store and update the data is managing and producing at every step: new ingredients added, new raw
material providers, eventual environmental issues during transportation, new recommendations of
use, recipes and so on. The information collected in this accessible platform should be easy to be
consumed by friendly and fast interfaces so that no additional software or complex conﬁgurations
take place in the process which in turn might downgrade the user experience.

The Smart Agri-Food Project [18] is part of the Future Internet Public-Private Partnership (FI-PPP)
program [1] and addresses farming, agri-logistics and food awareness use-cases by aiming the boost of
application and use of future internet ICTs [6] in the Agri-Food domain. The web pilot described in
this paper has been developed as part of this project within the Food Awareness use case by providing
internetworking among all the virtual or physical objects and interfaces so that consumers are able to
request and retrieve information of a speciﬁc product using their smartphone. The information retrieved
is matched with the consumers’ shopping proﬁles previously set on the sign-up process.

3 Development Based on Co-Participation

Customers are moving away from traditional roles to become co-creators and consumers of value [13],
with this assertion in mind it becomes a quite useful task to involve customers in the development stages
of an information service solution for a supermarket with the extended features mentioned above. The
proper interpretation of consumer expectations must be based on an iterative communication scheme
so that initial and subsequent opinions are validated and used as external ideas that feed the internal
ones so that technology selection and development are pushed forward [3]. With this communicative
development method, all the needs of co-creation and co-development approaches are fulﬁlled and it is
possible to harness the potential of the external ideas.

To clearly understand the user needs and visualize possible challenges and limitations on certain sce-
narios it is quite useful to consider the user participation in the development stages. Cooperation applied
in the customization of services provides consumers with the ability to communicate in a compelling
experience characterized by an intrinsic enjoyment and engagement that is prone to be repeated [14].
When developing a personalized Future Internet [6] information system for shopping environments, user
involvement is a must, so that new opportunities could arise:

• for supermarkets and consumers regarding loyalty relationships and thoughtfulness.

52

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• for manufacturers and governments as they beneﬁt from having an service infrastructure where
smart notiﬁcations and updates can be sent to customers and citizens in case of contamination
contingences.

Figure 2: Food awareness concept in pilot developed

The pilot features have been deﬁned and speciﬁed by focusing on user needs and ensuring the inter-

operability of data and knowledge sources across the product supply chain ( Fig. 2) .

A key aspect in system design was the deﬁnition of a suitable IT infrastructure to ensure easy and
secure access, integrity, collection, updates, processing and communication of information to consumers
while supporting the Food Awareness concept. In this stage the next guidelines have been deﬁned:

For Supermarkets

1. Setting up an information management infrastructure. This infrastructure must ensure the proper
storage and management of heterogeneous information which includes: customer’ preferences,
proﬁling features, information updates, notiﬁcations, triggered alerts and etcetera. In this process,
wireless coverage must be ensured for customers at supermarket premises so that no connectivity
issues can affect the shopping process.

2. Communicate with external entities. Another leg of this platform must deal with the communica-
tion with external servers that can perform complex tasks. In the solution developed, those external
servers take the form of generic enablers that provide the whole system with processing capabili-
ties (logo recognition, identity management, etcetera) that remain isolated from client domain and
can be extended to provide more complex calculations and retrieve sharp information based on
customer preferences.

53

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

For Manufacturers

1. Maintain product information updated Manufacturers can have an accessible interface, via super-

market infrastructure, to maintain and extend information that describes their products.

For customers (Fig. 3)

1. Sign-up to supermarket service The customers should use their smartphone to point the web
browser to a particular URL using the supermarket premises (wireless access) and then sign up
to create their personalized proﬁles (set preferences). Alternatively, and for testing purposes, it is
considered the option of providing similar services to anonymous users.

1. Scan product codes. This process requires customers to use their smartphone to scan the Quick
Response codes or Augmented Reality patterns labeled on the particular product their interested
and as a result of this simple gesture, the personalized information can be visualized on screen
granulating details based on the preferences they set previously.

Figure 3: Simple gestures for retrieval of information

Real consumers were selected to both deﬁne pilot features and test the pilot itself and assess their
satisfaction with the implementation. Feedback from end users (consumers) is a key point to assess
viability and compliance with their expectations. For this, several sessions were planned in order to
involve consumers in the pilot. The sessions are called workshops with consumers, because of their
interactive and open to discussion nature between consumers and retailer.

The objective of those workshops was to involve a panel of 15-20 consumers in all the process
of the pilot, its conception, development and evaluation, as to identify their needs and requirements
as consumers, then to test and to validate the pilot mock-ups and its ﬁnal version. The planning of
workshops most suitable for our expected objectives resulted as follows:

• Pre-Workshop. Objective: To know the opinion of consumers about the future supermarket and

habits of consumption. Participants: A total of 14 people.

• 1st Workshop. Objective: Introduction to the project, analysis of the current situation (myriad
of logos, lack of information) and stipulation of which product attributes consumer would like to
know and how while shopping. Participants: Panel of consumers of 15 people.

54

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• 2nd Workshop. Objective: Experimentation with the ﬁrst release of the pilot at supermarket
premises to validate the technology and to improve it according to panel of consumers’ proposals.
Participants: Same panel of consumers of 10 people.

• 3rd Workshop. Objective: Experimentation with the second release of the pilot at supermarket
premises to a ﬁnal validation and to get the feedback of expectative of the panel. Participants:
Same panel of consumers.

The results of the workshops helped to ensure the feasibility of an open deployment of the pilot
in a real supermarket. The development of all workshops with consumers in a closed environment al-
lowed detecting and improving the pilot in order to make the decision for an open deployment in any
supermarket assuring the viability of it.

The workshops have been deﬁned aiming the next objectives:
• Pre-workshop. To know the opinion of consumers about the future supermarket and way of con-

sumption.

• 1st workshop. Introduction to the project, analysis of the current situation (jungle of logos, lack
of information) and stipulation of which product attributes consumer would like to know and how
while shopping

• 2nd workshop. Experimentation with the ﬁrst release of the TIC app at supermarket premises to

validate the technology and to improve it according to panel of consumers’ proposals.

• 3rd workshop. Experimentation with the second release of the TIC app at supermarket premises

for a ﬁnal validation and to get the feedback of expectative of the panel.

The number of workshops has been chosen to match the phases of the pilot development. In this
way, a calendar has been developed for setting the dates of each workshop so they could be planed and
organised in advance.

As a result of the pre-workshop and ﬁrst workshop, the attributes that consumers consider as more

interesting and are willing to be informed about while shopping are depicted in Fig. 4.

Regarding the ways of getting product information that consumers ﬁnd more interesting and would
like to use while shopping, it points out that consumers want to get the information through a new
technology device like a screen, a scanner or a Smartphone. The Smartphone is a mix of screen and
scanner.

It has been also identiﬁed that there is a lack of information related to products for the costumer
in the supermarket environment, and when the information is available it is difﬁcult to understand it.
It is notably that not all the currently provided information is useful or interesting for the consumer.
Customers disagree with raising the product price or paying any money to gather the tailored information.
But in the other hand, they are willing to start using a real market application with the same characteristics
that the ones offered by the proofs of concept and are very receptive to use the new technologies while
shopping, and they prefer them over the classical supermarket communications, as SMS or old-fashion
mailing.

4 Solution Description

In order to implement the pilot with the features and requirements derived from the previous study it
became necessary to use all the potential of the expected Future Internet’s capabilities [1] to improve

55

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 4: Results on product attributes interest

food awareness among consumers. The Future Internet’s capabilities referred above have provided the
pilot with scalability, security, performance and data integration by implementing cloud hosting, bridging
of IoT enabled interfaces and services and open interfaces to new services.

The pilot targets all the mechanisms (e.g. applications, infrastructure, data and communication mod-
els) that enable consumers to request information of a speciﬁc product using their Smartphone before/-
during and after their shopping process; so they only get the right product attributes of their interest
according to their consumer shopping proﬁle. This requires an infrastructure for managing consumer
proﬁle data (taking into account security and privacy issues) and for managing product attributes. The
pilot is mainly focused on the data management and provision to consumers.

The data provision to the consumer is carried out by two ways:
• Providing tailored product information from selected products that costumers will ﬁnd in the su-

permarket.

• Showing hidden information from logos and signs which can be found in some products, usually

processed products.

In order to match the consumer’s interests, users can create a dynamic consumer proﬁle in order to
know what information they are interested in by fulﬁlling a web form which is later mapped to a JSON
document (Fig. 5). The generation of tailored information depends on those proﬁles so this characteristic
allows more accurate information matching in comparison with the generic and ﬁxed information pro-
vision of products’ labels. Similar process is used to virtualize real world attributes or objects such as:
description of products, notiﬁcations, etcetera so that can be treated as interacting objects and integrated
in the solution.

Having tailored information after a matching process leverages privacy and security issues. As this
information is supposed to be managed, in the future, by external entities in the form of Generic Enablers
(GE) [7]; consumers, inside the pilot, will be owners of all the tailored data they consume and produce.
Consumers can also make use of anonymous proﬁles in the case they are not interested on permanently
sharing their information with the supermarket, the service cloud and GEs behind.

56

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

on their way to supermarket. The lack of granulated and speciﬁc information may discourage
potential customers to consider their products.

• Supermarkets miss the opportunity to engage customer’s loyalty by satisfying their shopping needs
beyond of ﬁdelity cards and suggesting special offers directed to market groups. Despite the close
relationship between supermarket and customers, current approaches make difﬁcult to suggest the
most suitable selection of products to customers based on predeﬁned criteria.

The challenges exposed above can be overcome with the implementation of an information system
based on the Machineto- Machine communications and Internet of Things approaches. Support for
additional requirements from Food-Awareness and future shopping behaviors can also be satisﬁed with
these new approaches.

One of the utmost challenges to be solved is represented by the paramount complexity of dealing with
sources of data geographically scattered across distinct locations with distinct maintainers and owners:
manufacturers, supermarket and customers (Fig. 1); and the associated difﬁculty to construct useful
information from those data that can be relevant in different stages of the supply and shopping processes.

Figure 1: Scattering of information sources

Manufacturers are in charge of maintaining the information related to their products: ingredients,
manufacturing processes, origin and etcetera. Only certain amount of this information is published
whether on product labels or corporative website and its interpretation might confuse readers.

Supermarkets manage information useful for setting the sale price on their own premises, stock,
suppliers, customers’ subscriptions, sales records and so on. Most of this information remains private for
corporative purposes.

Customers contribute with their preferences and interests. Unfortunately, current approaches do not
exploit that valuable information to the maximum as customer preferences are not managed in a proper
manner so that proﬁling of product offers can be directed to particular customers based on updatable
consumer proﬁles.

51

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

By surpassing those information management issues, current technology advances enable customers
to consult granulated and personalized information about products by using simply using their smart-
phones to scan QR codes or entering identiﬁcation codes labeled on products.

Interoperability and interaction with heterogeneous sources of information, devices or virtual objects
[11] describe the vision of the future supermarket environment. In order to achieve those goals, some
adaptations must be made:

• Supermarket must establish a categorization of features that best describe their products so that can
be useful to establish the foundations of customers’ proﬁles which is one of the goals of the Future
Internet’s platforms [6] and also to reﬂect their interests: product processing, chemical use, origin,
nutritional information, welfare certiﬁcations and etcetera. This task can beneﬁt from the knowl-
edge that supermarkets have about their customers and, as a result, an information system can be
built to manage these data so that customers can identify with them and select their preferences
and eventually update them.

• Setting up an accessible platform where every link of the product value chain is able to collect,
store and update the data is managing and producing at every step: new ingredients added, new raw
material providers, eventual environmental issues during transportation, new recommendations of
use, recipes and so on. The information collected in this accessible platform should be easy to be
consumed by friendly and fast interfaces so that no additional software or complex conﬁgurations
take place in the process which in turn might downgrade the user experience.

The Smart Agri-Food Project [18] is part of the Future Internet Public-Private Partnership (FI-PPP)
program [1] and addresses farming, agri-logistics and food awareness use-cases by aiming the boost of
application and use of future internet ICTs [6] in the Agri-Food domain. The web pilot described in
this paper has been developed as part of this project within the Food Awareness use case by providing
internetworking among all the virtual or physical objects and interfaces so that consumers are able to
request and retrieve information of a speciﬁc product using their smartphone. The information retrieved
is matched with the consumers’ shopping proﬁles previously set on the sign-up process.

3 Development Based on Co-Participation

Customers are moving away from traditional roles to become co-creators and consumers of value [13],
with this assertion in mind it becomes a quite useful task to involve customers in the development stages
of an information service solution for a supermarket with the extended features mentioned above. The
proper interpretation of consumer expectations must be based on an iterative communication scheme
so that initial and subsequent opinions are validated and used as external ideas that feed the internal
ones so that technology selection and development are pushed forward [3]. With this communicative
development method, all the needs of co-creation and co-development approaches are fulﬁlled and it is
possible to harness the potential of the external ideas.

To clearly understand the user needs and visualize possible challenges and limitations on certain sce-
narios it is quite useful to consider the user participation in the development stages. Cooperation applied
in the customization of services provides consumers with the ability to communicate in a compelling
experience characterized by an intrinsic enjoyment and engagement that is prone to be repeated [14].
When developing a personalized Future Internet [6] information system for shopping environments, user
involvement is a must, so that new opportunities could arise:

• for supermarkets and consumers regarding loyalty relationships and thoughtfulness.

52

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• for manufacturers and governments as they beneﬁt from having an service infrastructure where
smart notiﬁcations and updates can be sent to customers and citizens in case of contamination
contingences.

Figure 2: Food awareness concept in pilot developed

The pilot features have been deﬁned and speciﬁed by focusing on user needs and ensuring the inter-

operability of data and knowledge sources across the product supply chain ( Fig. 2) .

A key aspect in system design was the deﬁnition of a suitable IT infrastructure to ensure easy and
secure access, integrity, collection, updates, processing and communication of information to consumers
while supporting the Food Awareness concept. In this stage the next guidelines have been deﬁned:

For Supermarkets

1. Setting up an information management infrastructure. This infrastructure must ensure the proper
storage and management of heterogeneous information which includes: customer’ preferences,
proﬁling features, information updates, notiﬁcations, triggered alerts and etcetera. In this process,
wireless coverage must be ensured for customers at supermarket premises so that no connectivity
issues can affect the shopping process.

2. Communicate with external entities. Another leg of this platform must deal with the communica-
tion with external servers that can perform complex tasks. In the solution developed, those external
servers take the form of generic enablers that provide the whole system with processing capabili-
ties (logo recognition, identity management, etcetera) that remain isolated from client domain and
can be extended to provide more complex calculations and retrieve sharp information based on
customer preferences.

53

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

For Manufacturers

1. Maintain product information updated Manufacturers can have an accessible interface, via super-

market infrastructure, to maintain and extend information that describes their products.

For customers (Fig. 3)

1. Sign-up to supermarket service The customers should use their smartphone to point the web
browser to a particular URL using the supermarket premises (wireless access) and then sign up
to create their personalized proﬁles (set preferences). Alternatively, and for testing purposes, it is
considered the option of providing similar services to anonymous users.

1. Scan product codes. This process requires customers to use their smartphone to scan the Quick
Response codes or Augmented Reality patterns labeled on the particular product their interested
and as a result of this simple gesture, the personalized information can be visualized on screen
granulating details based on the preferences they set previously.

Figure 3: Simple gestures for retrieval of information

Real consumers were selected to both deﬁne pilot features and test the pilot itself and assess their
satisfaction with the implementation. Feedback from end users (consumers) is a key point to assess
viability and compliance with their expectations. For this, several sessions were planned in order to
involve consumers in the pilot. The sessions are called workshops with consumers, because of their
interactive and open to discussion nature between consumers and retailer.

The objective of those workshops was to involve a panel of 15-20 consumers in all the process
of the pilot, its conception, development and evaluation, as to identify their needs and requirements
as consumers, then to test and to validate the pilot mock-ups and its ﬁnal version. The planning of
workshops most suitable for our expected objectives resulted as follows:

• Pre-Workshop. Objective: To know the opinion of consumers about the future supermarket and

habits of consumption. Participants: A total of 14 people.

• 1st Workshop. Objective: Introduction to the project, analysis of the current situation (myriad
of logos, lack of information) and stipulation of which product attributes consumer would like to
know and how while shopping. Participants: Panel of consumers of 15 people.

54

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• 2nd Workshop. Objective: Experimentation with the ﬁrst release of the pilot at supermarket
premises to validate the technology and to improve it according to panel of consumers’ proposals.
Participants: Same panel of consumers of 10 people.

• 3rd Workshop. Objective: Experimentation with the second release of the pilot at supermarket
premises to a ﬁnal validation and to get the feedback of expectative of the panel. Participants:
Same panel of consumers.

The results of the workshops helped to ensure the feasibility of an open deployment of the pilot
in a real supermarket. The development of all workshops with consumers in a closed environment al-
lowed detecting and improving the pilot in order to make the decision for an open deployment in any
supermarket assuring the viability of it.

The workshops have been deﬁned aiming the next objectives:
• Pre-workshop. To know the opinion of consumers about the future supermarket and way of con-

sumption.

• 1st workshop. Introduction to the project, analysis of the current situation (jungle of logos, lack
of information) and stipulation of which product attributes consumer would like to know and how
while shopping

• 2nd workshop. Experimentation with the ﬁrst release of the TIC app at supermarket premises to

validate the technology and to improve it according to panel of consumers’ proposals.

• 3rd workshop. Experimentation with the second release of the TIC app at supermarket premises

for a ﬁnal validation and to get the feedback of expectative of the panel.

The number of workshops has been chosen to match the phases of the pilot development. In this
way, a calendar has been developed for setting the dates of each workshop so they could be planed and
organised in advance.

As a result of the pre-workshop and ﬁrst workshop, the attributes that consumers consider as more

interesting and are willing to be informed about while shopping are depicted in Fig. 4.

Regarding the ways of getting product information that consumers ﬁnd more interesting and would
like to use while shopping, it points out that consumers want to get the information through a new
technology device like a screen, a scanner or a Smartphone. The Smartphone is a mix of screen and
scanner.

It has been also identiﬁed that there is a lack of information related to products for the costumer
in the supermarket environment, and when the information is available it is difﬁcult to understand it.
It is notably that not all the currently provided information is useful or interesting for the consumer.
Customers disagree with raising the product price or paying any money to gather the tailored information.
But in the other hand, they are willing to start using a real market application with the same characteristics
that the ones offered by the proofs of concept and are very receptive to use the new technologies while
shopping, and they prefer them over the classical supermarket communications, as SMS or old-fashion
mailing.

4 Solution Description

In order to implement the pilot with the features and requirements derived from the previous study it
became necessary to use all the potential of the expected Future Internet’s capabilities [1] to improve

55

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 4: Results on product attributes interest

food awareness among consumers. The Future Internet’s capabilities referred above have provided the
pilot with scalability, security, performance and data integration by implementing cloud hosting, bridging
of IoT enabled interfaces and services and open interfaces to new services.

The pilot targets all the mechanisms (e.g. applications, infrastructure, data and communication mod-
els) that enable consumers to request information of a speciﬁc product using their Smartphone before/-
during and after their shopping process; so they only get the right product attributes of their interest
according to their consumer shopping proﬁle. This requires an infrastructure for managing consumer
proﬁle data (taking into account security and privacy issues) and for managing product attributes. The
pilot is mainly focused on the data management and provision to consumers.

The data provision to the consumer is carried out by two ways:
• Providing tailored product information from selected products that costumers will ﬁnd in the su-

permarket.

• Showing hidden information from logos and signs which can be found in some products, usually

processed products.

In order to match the consumer’s interests, users can create a dynamic consumer proﬁle in order to
know what information they are interested in by fulﬁlling a web form which is later mapped to a JSON
document (Fig. 5). The generation of tailored information depends on those proﬁles so this characteristic
allows more accurate information matching in comparison with the generic and ﬁxed information pro-
vision of products’ labels. Similar process is used to virtualize real world attributes or objects such as:
description of products, notiﬁcations, etcetera so that can be treated as interacting objects and integrated
in the solution.

Having tailored information after a matching process leverages privacy and security issues. As this
information is supposed to be managed, in the future, by external entities in the form of Generic Enablers
(GE) [7]; consumers, inside the pilot, will be owners of all the tailored data they consume and produce.
Consumers can also make use of anonymous proﬁles in the case they are not interested on permanently
sharing their information with the supermarket, the service cloud and GEs behind.

56

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 5: Transforming attributes into interacting objects

There are three main parts in the pilot that are described in this section.

• The client side, which encloses the technological developments that allow consumers getting tai-

lored information from the supermarket infrastructure using a smartphone (user domain).

• The infrastructure side encloses all the developments being executed in the supermarket domain.
As the tailored information generation of this side, is not a stand-alone process, the supermarket
domain makes use of a set of GEs that provides some functionalities that will be mentioned in next
sections.

• The communication approaches implemented to support distinct types of notiﬁcations

Clients A standard smartphone with updated software can be used to test the web app pilot. Among
standard features to be used are: camera, scanner software and HTML5 enabled web browser. Behind
the client side it has been deﬁned a web service based architecture [15], and its corresponding implemen-
tation is able to tackle the traditional limitations exposed by typical client approaches where interfaces
are tailored to ﬁt speciﬁc deployment conditions (varieties of mobile and desktop environments). In this
pilot, a web-style client provides service access with a solid and standard-compliant client framework
that can be invoked from any user equipment with minimum requirements such as a web browser with
HTML5 [4] support.

Since the terminal is the entry point of supermarket’s users; the use of HTML5/Javascript based
technologies (through web browsers) directly expands the reachability of users. This is because, there
are several mobile operating systems, such as: Android, iOS, Blackberry and so on; so tackling the
tailoring information process for every existing mobile Operating System (OS) could be a drawback for

57

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

on their way to supermarket. The lack of granulated and speciﬁc information may discourage
potential customers to consider their products.

• Supermarkets miss the opportunity to engage customer’s loyalty by satisfying their shopping needs
beyond of ﬁdelity cards and suggesting special offers directed to market groups. Despite the close
relationship between supermarket and customers, current approaches make difﬁcult to suggest the
most suitable selection of products to customers based on predeﬁned criteria.

The challenges exposed above can be overcome with the implementation of an information system
based on the Machineto- Machine communications and Internet of Things approaches. Support for
additional requirements from Food-Awareness and future shopping behaviors can also be satisﬁed with
these new approaches.

One of the utmost challenges to be solved is represented by the paramount complexity of dealing with
sources of data geographically scattered across distinct locations with distinct maintainers and owners:
manufacturers, supermarket and customers (Fig. 1); and the associated difﬁculty to construct useful
information from those data that can be relevant in different stages of the supply and shopping processes.

Figure 1: Scattering of information sources

Manufacturers are in charge of maintaining the information related to their products: ingredients,
manufacturing processes, origin and etcetera. Only certain amount of this information is published
whether on product labels or corporative website and its interpretation might confuse readers.

Supermarkets manage information useful for setting the sale price on their own premises, stock,
suppliers, customers’ subscriptions, sales records and so on. Most of this information remains private for
corporative purposes.

Customers contribute with their preferences and interests. Unfortunately, current approaches do not
exploit that valuable information to the maximum as customer preferences are not managed in a proper
manner so that proﬁling of product offers can be directed to particular customers based on updatable
consumer proﬁles.

51

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

By surpassing those information management issues, current technology advances enable customers
to consult granulated and personalized information about products by using simply using their smart-
phones to scan QR codes or entering identiﬁcation codes labeled on products.

Interoperability and interaction with heterogeneous sources of information, devices or virtual objects
[11] describe the vision of the future supermarket environment. In order to achieve those goals, some
adaptations must be made:

• Supermarket must establish a categorization of features that best describe their products so that can
be useful to establish the foundations of customers’ proﬁles which is one of the goals of the Future
Internet’s platforms [6] and also to reﬂect their interests: product processing, chemical use, origin,
nutritional information, welfare certiﬁcations and etcetera. This task can beneﬁt from the knowl-
edge that supermarkets have about their customers and, as a result, an information system can be
built to manage these data so that customers can identify with them and select their preferences
and eventually update them.

• Setting up an accessible platform where every link of the product value chain is able to collect,
store and update the data is managing and producing at every step: new ingredients added, new raw
material providers, eventual environmental issues during transportation, new recommendations of
use, recipes and so on. The information collected in this accessible platform should be easy to be
consumed by friendly and fast interfaces so that no additional software or complex conﬁgurations
take place in the process which in turn might downgrade the user experience.

The Smart Agri-Food Project [18] is part of the Future Internet Public-Private Partnership (FI-PPP)
program [1] and addresses farming, agri-logistics and food awareness use-cases by aiming the boost of
application and use of future internet ICTs [6] in the Agri-Food domain. The web pilot described in
this paper has been developed as part of this project within the Food Awareness use case by providing
internetworking among all the virtual or physical objects and interfaces so that consumers are able to
request and retrieve information of a speciﬁc product using their smartphone. The information retrieved
is matched with the consumers’ shopping proﬁles previously set on the sign-up process.

3 Development Based on Co-Participation

Customers are moving away from traditional roles to become co-creators and consumers of value [13],
with this assertion in mind it becomes a quite useful task to involve customers in the development stages
of an information service solution for a supermarket with the extended features mentioned above. The
proper interpretation of consumer expectations must be based on an iterative communication scheme
so that initial and subsequent opinions are validated and used as external ideas that feed the internal
ones so that technology selection and development are pushed forward [3]. With this communicative
development method, all the needs of co-creation and co-development approaches are fulﬁlled and it is
possible to harness the potential of the external ideas.

To clearly understand the user needs and visualize possible challenges and limitations on certain sce-
narios it is quite useful to consider the user participation in the development stages. Cooperation applied
in the customization of services provides consumers with the ability to communicate in a compelling
experience characterized by an intrinsic enjoyment and engagement that is prone to be repeated [14].
When developing a personalized Future Internet [6] information system for shopping environments, user
involvement is a must, so that new opportunities could arise:

• for supermarkets and consumers regarding loyalty relationships and thoughtfulness.

52

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• for manufacturers and governments as they beneﬁt from having an service infrastructure where
smart notiﬁcations and updates can be sent to customers and citizens in case of contamination
contingences.

Figure 2: Food awareness concept in pilot developed

The pilot features have been deﬁned and speciﬁed by focusing on user needs and ensuring the inter-

operability of data and knowledge sources across the product supply chain ( Fig. 2) .

A key aspect in system design was the deﬁnition of a suitable IT infrastructure to ensure easy and
secure access, integrity, collection, updates, processing and communication of information to consumers
while supporting the Food Awareness concept. In this stage the next guidelines have been deﬁned:

For Supermarkets

1. Setting up an information management infrastructure. This infrastructure must ensure the proper
storage and management of heterogeneous information which includes: customer’ preferences,
proﬁling features, information updates, notiﬁcations, triggered alerts and etcetera. In this process,
wireless coverage must be ensured for customers at supermarket premises so that no connectivity
issues can affect the shopping process.

2. Communicate with external entities. Another leg of this platform must deal with the communica-
tion with external servers that can perform complex tasks. In the solution developed, those external
servers take the form of generic enablers that provide the whole system with processing capabili-
ties (logo recognition, identity management, etcetera) that remain isolated from client domain and
can be extended to provide more complex calculations and retrieve sharp information based on
customer preferences.

53

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

For Manufacturers

1. Maintain product information updated Manufacturers can have an accessible interface, via super-

market infrastructure, to maintain and extend information that describes their products.

For customers (Fig. 3)

1. Sign-up to supermarket service The customers should use their smartphone to point the web
browser to a particular URL using the supermarket premises (wireless access) and then sign up
to create their personalized proﬁles (set preferences). Alternatively, and for testing purposes, it is
considered the option of providing similar services to anonymous users.

1. Scan product codes. This process requires customers to use their smartphone to scan the Quick
Response codes or Augmented Reality patterns labeled on the particular product their interested
and as a result of this simple gesture, the personalized information can be visualized on screen
granulating details based on the preferences they set previously.

Figure 3: Simple gestures for retrieval of information

Real consumers were selected to both deﬁne pilot features and test the pilot itself and assess their
satisfaction with the implementation. Feedback from end users (consumers) is a key point to assess
viability and compliance with their expectations. For this, several sessions were planned in order to
involve consumers in the pilot. The sessions are called workshops with consumers, because of their
interactive and open to discussion nature between consumers and retailer.

The objective of those workshops was to involve a panel of 15-20 consumers in all the process
of the pilot, its conception, development and evaluation, as to identify their needs and requirements
as consumers, then to test and to validate the pilot mock-ups and its ﬁnal version. The planning of
workshops most suitable for our expected objectives resulted as follows:

• Pre-Workshop. Objective: To know the opinion of consumers about the future supermarket and

habits of consumption. Participants: A total of 14 people.

• 1st Workshop. Objective: Introduction to the project, analysis of the current situation (myriad
of logos, lack of information) and stipulation of which product attributes consumer would like to
know and how while shopping. Participants: Panel of consumers of 15 people.

54

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• 2nd Workshop. Objective: Experimentation with the ﬁrst release of the pilot at supermarket
premises to validate the technology and to improve it according to panel of consumers’ proposals.
Participants: Same panel of consumers of 10 people.

• 3rd Workshop. Objective: Experimentation with the second release of the pilot at supermarket
premises to a ﬁnal validation and to get the feedback of expectative of the panel. Participants:
Same panel of consumers.

The results of the workshops helped to ensure the feasibility of an open deployment of the pilot
in a real supermarket. The development of all workshops with consumers in a closed environment al-
lowed detecting and improving the pilot in order to make the decision for an open deployment in any
supermarket assuring the viability of it.

The workshops have been deﬁned aiming the next objectives:
• Pre-workshop. To know the opinion of consumers about the future supermarket and way of con-

sumption.

• 1st workshop. Introduction to the project, analysis of the current situation (jungle of logos, lack
of information) and stipulation of which product attributes consumer would like to know and how
while shopping

• 2nd workshop. Experimentation with the ﬁrst release of the TIC app at supermarket premises to

validate the technology and to improve it according to panel of consumers’ proposals.

• 3rd workshop. Experimentation with the second release of the TIC app at supermarket premises

for a ﬁnal validation and to get the feedback of expectative of the panel.

The number of workshops has been chosen to match the phases of the pilot development. In this
way, a calendar has been developed for setting the dates of each workshop so they could be planed and
organised in advance.

As a result of the pre-workshop and ﬁrst workshop, the attributes that consumers consider as more

interesting and are willing to be informed about while shopping are depicted in Fig. 4.

Regarding the ways of getting product information that consumers ﬁnd more interesting and would
like to use while shopping, it points out that consumers want to get the information through a new
technology device like a screen, a scanner or a Smartphone. The Smartphone is a mix of screen and
scanner.

It has been also identiﬁed that there is a lack of information related to products for the costumer
in the supermarket environment, and when the information is available it is difﬁcult to understand it.
It is notably that not all the currently provided information is useful or interesting for the consumer.
Customers disagree with raising the product price or paying any money to gather the tailored information.
But in the other hand, they are willing to start using a real market application with the same characteristics
that the ones offered by the proofs of concept and are very receptive to use the new technologies while
shopping, and they prefer them over the classical supermarket communications, as SMS or old-fashion
mailing.

4 Solution Description

In order to implement the pilot with the features and requirements derived from the previous study it
became necessary to use all the potential of the expected Future Internet’s capabilities [1] to improve

55

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 4: Results on product attributes interest

food awareness among consumers. The Future Internet’s capabilities referred above have provided the
pilot with scalability, security, performance and data integration by implementing cloud hosting, bridging
of IoT enabled interfaces and services and open interfaces to new services.

The pilot targets all the mechanisms (e.g. applications, infrastructure, data and communication mod-
els) that enable consumers to request information of a speciﬁc product using their Smartphone before/-
during and after their shopping process; so they only get the right product attributes of their interest
according to their consumer shopping proﬁle. This requires an infrastructure for managing consumer
proﬁle data (taking into account security and privacy issues) and for managing product attributes. The
pilot is mainly focused on the data management and provision to consumers.

The data provision to the consumer is carried out by two ways:
• Providing tailored product information from selected products that costumers will ﬁnd in the su-

permarket.

• Showing hidden information from logos and signs which can be found in some products, usually

processed products.

In order to match the consumer’s interests, users can create a dynamic consumer proﬁle in order to
know what information they are interested in by fulﬁlling a web form which is later mapped to a JSON
document (Fig. 5). The generation of tailored information depends on those proﬁles so this characteristic
allows more accurate information matching in comparison with the generic and ﬁxed information pro-
vision of products’ labels. Similar process is used to virtualize real world attributes or objects such as:
description of products, notiﬁcations, etcetera so that can be treated as interacting objects and integrated
in the solution.

Having tailored information after a matching process leverages privacy and security issues. As this
information is supposed to be managed, in the future, by external entities in the form of Generic Enablers
(GE) [7]; consumers, inside the pilot, will be owners of all the tailored data they consume and produce.
Consumers can also make use of anonymous proﬁles in the case they are not interested on permanently
sharing their information with the supermarket, the service cloud and GEs behind.

56

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 5: Transforming attributes into interacting objects

There are three main parts in the pilot that are described in this section.

• The client side, which encloses the technological developments that allow consumers getting tai-

lored information from the supermarket infrastructure using a smartphone (user domain).

• The infrastructure side encloses all the developments being executed in the supermarket domain.
As the tailored information generation of this side, is not a stand-alone process, the supermarket
domain makes use of a set of GEs that provides some functionalities that will be mentioned in next
sections.

• The communication approaches implemented to support distinct types of notiﬁcations

Clients A standard smartphone with updated software can be used to test the web app pilot. Among
standard features to be used are: camera, scanner software and HTML5 enabled web browser. Behind
the client side it has been deﬁned a web service based architecture [15], and its corresponding implemen-
tation is able to tackle the traditional limitations exposed by typical client approaches where interfaces
are tailored to ﬁt speciﬁc deployment conditions (varieties of mobile and desktop environments). In this
pilot, a web-style client provides service access with a solid and standard-compliant client framework
that can be invoked from any user equipment with minimum requirements such as a web browser with
HTML5 [4] support.

Since the terminal is the entry point of supermarket’s users; the use of HTML5/Javascript based
technologies (through web browsers) directly expands the reachability of users. This is because, there
are several mobile operating systems, such as: Android, iOS, Blackberry and so on; so tackling the
tailoring information process for every existing mobile Operating System (OS) could be a drawback for

57

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

the whole process. Focusing on the scanning of Quick Response codes or Agumented Reality patterns
simpliﬁes the RFID interaction exposed at [16].

Infrastructure The infrastructure (TIS server) is in charge of linking product related information
databases with consumer needs, and gives to them in the easiest way the tailored information requested.
A key issue is to develop a subsystem that allows collecting and managing dynamic information and data
generated at different points of the supply chain. An additional module has been developed in charge of
providing the means for the mobile application to retrieve supermarket privacy policy, which describes
what information, does supermarket need from the users of the application and the purpose of usage. As
in our case, supermarket only requires the information for a single purpose that is, to provide tailored
information, and always wants access to the same information; only one privacy policy was created and
exposed via module. This application is called from the GUI to obtain the needed information.

The web services layer is developed through an Enterprise Service Bus (ESB) which exposes Restful
web services in order to be invoked by any application. When a request arrives to the ESB, the message
work-ﬂow (MF) analyses and determines from source of the URL that invokes this message (Fig. 6).
Next, The URL ﬁlter determines if that URL is compatible with the existing patterns. Once the URL has
passed the ﬁlter, it arrives to a router (choice component) that addresses the request to the right service.
If there is an error, it is redirected to another message workﬂow that keeps a log of every request.

Cloud oriented deﬁnition of the architecture and use of HTML5 eases the addition of new function-

alities.

Figure 6: Message workﬂow in webservices

58

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

on their way to supermarket. The lack of granulated and speciﬁc information may discourage
potential customers to consider their products.

• Supermarkets miss the opportunity to engage customer’s loyalty by satisfying their shopping needs
beyond of ﬁdelity cards and suggesting special offers directed to market groups. Despite the close
relationship between supermarket and customers, current approaches make difﬁcult to suggest the
most suitable selection of products to customers based on predeﬁned criteria.

The challenges exposed above can be overcome with the implementation of an information system
based on the Machineto- Machine communications and Internet of Things approaches. Support for
additional requirements from Food-Awareness and future shopping behaviors can also be satisﬁed with
these new approaches.

One of the utmost challenges to be solved is represented by the paramount complexity of dealing with
sources of data geographically scattered across distinct locations with distinct maintainers and owners:
manufacturers, supermarket and customers (Fig. 1); and the associated difﬁculty to construct useful
information from those data that can be relevant in different stages of the supply and shopping processes.

Figure 1: Scattering of information sources

Manufacturers are in charge of maintaining the information related to their products: ingredients,
manufacturing processes, origin and etcetera. Only certain amount of this information is published
whether on product labels or corporative website and its interpretation might confuse readers.

Supermarkets manage information useful for setting the sale price on their own premises, stock,
suppliers, customers’ subscriptions, sales records and so on. Most of this information remains private for
corporative purposes.

Customers contribute with their preferences and interests. Unfortunately, current approaches do not
exploit that valuable information to the maximum as customer preferences are not managed in a proper
manner so that proﬁling of product offers can be directed to particular customers based on updatable
consumer proﬁles.

51

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

By surpassing those information management issues, current technology advances enable customers
to consult granulated and personalized information about products by using simply using their smart-
phones to scan QR codes or entering identiﬁcation codes labeled on products.

Interoperability and interaction with heterogeneous sources of information, devices or virtual objects
[11] describe the vision of the future supermarket environment. In order to achieve those goals, some
adaptations must be made:

• Supermarket must establish a categorization of features that best describe their products so that can
be useful to establish the foundations of customers’ proﬁles which is one of the goals of the Future
Internet’s platforms [6] and also to reﬂect their interests: product processing, chemical use, origin,
nutritional information, welfare certiﬁcations and etcetera. This task can beneﬁt from the knowl-
edge that supermarkets have about their customers and, as a result, an information system can be
built to manage these data so that customers can identify with them and select their preferences
and eventually update them.

• Setting up an accessible platform where every link of the product value chain is able to collect,
store and update the data is managing and producing at every step: new ingredients added, new raw
material providers, eventual environmental issues during transportation, new recommendations of
use, recipes and so on. The information collected in this accessible platform should be easy to be
consumed by friendly and fast interfaces so that no additional software or complex conﬁgurations
take place in the process which in turn might downgrade the user experience.

The Smart Agri-Food Project [18] is part of the Future Internet Public-Private Partnership (FI-PPP)
program [1] and addresses farming, agri-logistics and food awareness use-cases by aiming the boost of
application and use of future internet ICTs [6] in the Agri-Food domain. The web pilot described in
this paper has been developed as part of this project within the Food Awareness use case by providing
internetworking among all the virtual or physical objects and interfaces so that consumers are able to
request and retrieve information of a speciﬁc product using their smartphone. The information retrieved
is matched with the consumers’ shopping proﬁles previously set on the sign-up process.

3 Development Based on Co-Participation

Customers are moving away from traditional roles to become co-creators and consumers of value [13],
with this assertion in mind it becomes a quite useful task to involve customers in the development stages
of an information service solution for a supermarket with the extended features mentioned above. The
proper interpretation of consumer expectations must be based on an iterative communication scheme
so that initial and subsequent opinions are validated and used as external ideas that feed the internal
ones so that technology selection and development are pushed forward [3]. With this communicative
development method, all the needs of co-creation and co-development approaches are fulﬁlled and it is
possible to harness the potential of the external ideas.

To clearly understand the user needs and visualize possible challenges and limitations on certain sce-
narios it is quite useful to consider the user participation in the development stages. Cooperation applied
in the customization of services provides consumers with the ability to communicate in a compelling
experience characterized by an intrinsic enjoyment and engagement that is prone to be repeated [14].
When developing a personalized Future Internet [6] information system for shopping environments, user
involvement is a must, so that new opportunities could arise:

• for supermarkets and consumers regarding loyalty relationships and thoughtfulness.

52

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• for manufacturers and governments as they beneﬁt from having an service infrastructure where
smart notiﬁcations and updates can be sent to customers and citizens in case of contamination
contingences.

Figure 2: Food awareness concept in pilot developed

The pilot features have been deﬁned and speciﬁed by focusing on user needs and ensuring the inter-

operability of data and knowledge sources across the product supply chain ( Fig. 2) .

A key aspect in system design was the deﬁnition of a suitable IT infrastructure to ensure easy and
secure access, integrity, collection, updates, processing and communication of information to consumers
while supporting the Food Awareness concept. In this stage the next guidelines have been deﬁned:

For Supermarkets

1. Setting up an information management infrastructure. This infrastructure must ensure the proper
storage and management of heterogeneous information which includes: customer’ preferences,
proﬁling features, information updates, notiﬁcations, triggered alerts and etcetera. In this process,
wireless coverage must be ensured for customers at supermarket premises so that no connectivity
issues can affect the shopping process.

2. Communicate with external entities. Another leg of this platform must deal with the communica-
tion with external servers that can perform complex tasks. In the solution developed, those external
servers take the form of generic enablers that provide the whole system with processing capabili-
ties (logo recognition, identity management, etcetera) that remain isolated from client domain and
can be extended to provide more complex calculations and retrieve sharp information based on
customer preferences.

53

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

For Manufacturers

1. Maintain product information updated Manufacturers can have an accessible interface, via super-

market infrastructure, to maintain and extend information that describes their products.

For customers (Fig. 3)

1. Sign-up to supermarket service The customers should use their smartphone to point the web
browser to a particular URL using the supermarket premises (wireless access) and then sign up
to create their personalized proﬁles (set preferences). Alternatively, and for testing purposes, it is
considered the option of providing similar services to anonymous users.

1. Scan product codes. This process requires customers to use their smartphone to scan the Quick
Response codes or Augmented Reality patterns labeled on the particular product their interested
and as a result of this simple gesture, the personalized information can be visualized on screen
granulating details based on the preferences they set previously.

Figure 3: Simple gestures for retrieval of information

Real consumers were selected to both deﬁne pilot features and test the pilot itself and assess their
satisfaction with the implementation. Feedback from end users (consumers) is a key point to assess
viability and compliance with their expectations. For this, several sessions were planned in order to
involve consumers in the pilot. The sessions are called workshops with consumers, because of their
interactive and open to discussion nature between consumers and retailer.

The objective of those workshops was to involve a panel of 15-20 consumers in all the process
of the pilot, its conception, development and evaluation, as to identify their needs and requirements
as consumers, then to test and to validate the pilot mock-ups and its ﬁnal version. The planning of
workshops most suitable for our expected objectives resulted as follows:

• Pre-Workshop. Objective: To know the opinion of consumers about the future supermarket and

habits of consumption. Participants: A total of 14 people.

• 1st Workshop. Objective: Introduction to the project, analysis of the current situation (myriad
of logos, lack of information) and stipulation of which product attributes consumer would like to
know and how while shopping. Participants: Panel of consumers of 15 people.

54

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• 2nd Workshop. Objective: Experimentation with the ﬁrst release of the pilot at supermarket
premises to validate the technology and to improve it according to panel of consumers’ proposals.
Participants: Same panel of consumers of 10 people.

• 3rd Workshop. Objective: Experimentation with the second release of the pilot at supermarket
premises to a ﬁnal validation and to get the feedback of expectative of the panel. Participants:
Same panel of consumers.

The results of the workshops helped to ensure the feasibility of an open deployment of the pilot
in a real supermarket. The development of all workshops with consumers in a closed environment al-
lowed detecting and improving the pilot in order to make the decision for an open deployment in any
supermarket assuring the viability of it.

The workshops have been deﬁned aiming the next objectives:
• Pre-workshop. To know the opinion of consumers about the future supermarket and way of con-

sumption.

• 1st workshop. Introduction to the project, analysis of the current situation (jungle of logos, lack
of information) and stipulation of which product attributes consumer would like to know and how
while shopping

• 2nd workshop. Experimentation with the ﬁrst release of the TIC app at supermarket premises to

validate the technology and to improve it according to panel of consumers’ proposals.

• 3rd workshop. Experimentation with the second release of the TIC app at supermarket premises

for a ﬁnal validation and to get the feedback of expectative of the panel.

The number of workshops has been chosen to match the phases of the pilot development. In this
way, a calendar has been developed for setting the dates of each workshop so they could be planed and
organised in advance.

As a result of the pre-workshop and ﬁrst workshop, the attributes that consumers consider as more

interesting and are willing to be informed about while shopping are depicted in Fig. 4.

Regarding the ways of getting product information that consumers ﬁnd more interesting and would
like to use while shopping, it points out that consumers want to get the information through a new
technology device like a screen, a scanner or a Smartphone. The Smartphone is a mix of screen and
scanner.

It has been also identiﬁed that there is a lack of information related to products for the costumer
in the supermarket environment, and when the information is available it is difﬁcult to understand it.
It is notably that not all the currently provided information is useful or interesting for the consumer.
Customers disagree with raising the product price or paying any money to gather the tailored information.
But in the other hand, they are willing to start using a real market application with the same characteristics
that the ones offered by the proofs of concept and are very receptive to use the new technologies while
shopping, and they prefer them over the classical supermarket communications, as SMS or old-fashion
mailing.

4 Solution Description

In order to implement the pilot with the features and requirements derived from the previous study it
became necessary to use all the potential of the expected Future Internet’s capabilities [1] to improve

55

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 4: Results on product attributes interest

food awareness among consumers. The Future Internet’s capabilities referred above have provided the
pilot with scalability, security, performance and data integration by implementing cloud hosting, bridging
of IoT enabled interfaces and services and open interfaces to new services.

The pilot targets all the mechanisms (e.g. applications, infrastructure, data and communication mod-
els) that enable consumers to request information of a speciﬁc product using their Smartphone before/-
during and after their shopping process; so they only get the right product attributes of their interest
according to their consumer shopping proﬁle. This requires an infrastructure for managing consumer
proﬁle data (taking into account security and privacy issues) and for managing product attributes. The
pilot is mainly focused on the data management and provision to consumers.

The data provision to the consumer is carried out by two ways:
• Providing tailored product information from selected products that costumers will ﬁnd in the su-

permarket.

• Showing hidden information from logos and signs which can be found in some products, usually

processed products.

In order to match the consumer’s interests, users can create a dynamic consumer proﬁle in order to
know what information they are interested in by fulﬁlling a web form which is later mapped to a JSON
document (Fig. 5). The generation of tailored information depends on those proﬁles so this characteristic
allows more accurate information matching in comparison with the generic and ﬁxed information pro-
vision of products’ labels. Similar process is used to virtualize real world attributes or objects such as:
description of products, notiﬁcations, etcetera so that can be treated as interacting objects and integrated
in the solution.

Having tailored information after a matching process leverages privacy and security issues. As this
information is supposed to be managed, in the future, by external entities in the form of Generic Enablers
(GE) [7]; consumers, inside the pilot, will be owners of all the tailored data they consume and produce.
Consumers can also make use of anonymous proﬁles in the case they are not interested on permanently
sharing their information with the supermarket, the service cloud and GEs behind.

56

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 5: Transforming attributes into interacting objects

There are three main parts in the pilot that are described in this section.

• The client side, which encloses the technological developments that allow consumers getting tai-

lored information from the supermarket infrastructure using a smartphone (user domain).

• The infrastructure side encloses all the developments being executed in the supermarket domain.
As the tailored information generation of this side, is not a stand-alone process, the supermarket
domain makes use of a set of GEs that provides some functionalities that will be mentioned in next
sections.

• The communication approaches implemented to support distinct types of notiﬁcations

Clients A standard smartphone with updated software can be used to test the web app pilot. Among
standard features to be used are: camera, scanner software and HTML5 enabled web browser. Behind
the client side it has been deﬁned a web service based architecture [15], and its corresponding implemen-
tation is able to tackle the traditional limitations exposed by typical client approaches where interfaces
are tailored to ﬁt speciﬁc deployment conditions (varieties of mobile and desktop environments). In this
pilot, a web-style client provides service access with a solid and standard-compliant client framework
that can be invoked from any user equipment with minimum requirements such as a web browser with
HTML5 [4] support.

Since the terminal is the entry point of supermarket’s users; the use of HTML5/Javascript based
technologies (through web browsers) directly expands the reachability of users. This is because, there
are several mobile operating systems, such as: Android, iOS, Blackberry and so on; so tackling the
tailoring information process for every existing mobile Operating System (OS) could be a drawback for

57

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

the whole process. Focusing on the scanning of Quick Response codes or Agumented Reality patterns
simpliﬁes the RFID interaction exposed at [16].

Infrastructure The infrastructure (TIS server) is in charge of linking product related information
databases with consumer needs, and gives to them in the easiest way the tailored information requested.
A key issue is to develop a subsystem that allows collecting and managing dynamic information and data
generated at different points of the supply chain. An additional module has been developed in charge of
providing the means for the mobile application to retrieve supermarket privacy policy, which describes
what information, does supermarket need from the users of the application and the purpose of usage. As
in our case, supermarket only requires the information for a single purpose that is, to provide tailored
information, and always wants access to the same information; only one privacy policy was created and
exposed via module. This application is called from the GUI to obtain the needed information.

The web services layer is developed through an Enterprise Service Bus (ESB) which exposes Restful
web services in order to be invoked by any application. When a request arrives to the ESB, the message
work-ﬂow (MF) analyses and determines from source of the URL that invokes this message (Fig. 6).
Next, The URL ﬁlter determines if that URL is compatible with the existing patterns. Once the URL has
passed the ﬁlter, it arrives to a router (choice component) that addresses the request to the right service.
If there is an error, it is redirected to another message workﬂow that keeps a log of every request.

Cloud oriented deﬁnition of the architecture and use of HTML5 eases the addition of new function-

alities.

Figure 6: Message workﬂow in webservices

58

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Notiﬁcations Following the pull communication approach, the consumers obtain information from
web pilot application once requests automatically trigger an information request to the proper entity (that
could also redirect to another application server or process itself the information), and eventually that
entity might requests information to the Generic Enablers. In the content adaptation process the TIC
application servers should make use of the existing proﬁle information of the user for customizing the
content, even if the request has just being issued (Fig. 7).

Figure 7: Message exchange

In the scenario of smart notiﬁcations, the tailored information is pushed to the consumers’ smart-
phones; so here web pilot accepts event subscriptions from the clients and manage if this subscriptions
involves asynchronous events from the application Servers or Generic Enablers systems. Hence, the web
pilot not only customizes the information but also correlates the correct events arriving from the proper
server (Fig. 8).

Figure 8: Smart notiﬁcation scenario

Another important scenario of smart notiﬁcations takes place in the post-shopping activities with
an alert notiﬁcation mechanism. A key issue in this regard, was to develop a subsystem that allows
collecting and managing dynamic information and data generated at different points of the supply chain
to have full transparency data available to the consumer.

59

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

on their way to supermarket. The lack of granulated and speciﬁc information may discourage
potential customers to consider their products.

• Supermarkets miss the opportunity to engage customer’s loyalty by satisfying their shopping needs
beyond of ﬁdelity cards and suggesting special offers directed to market groups. Despite the close
relationship between supermarket and customers, current approaches make difﬁcult to suggest the
most suitable selection of products to customers based on predeﬁned criteria.

The challenges exposed above can be overcome with the implementation of an information system
based on the Machineto- Machine communications and Internet of Things approaches. Support for
additional requirements from Food-Awareness and future shopping behaviors can also be satisﬁed with
these new approaches.

One of the utmost challenges to be solved is represented by the paramount complexity of dealing with
sources of data geographically scattered across distinct locations with distinct maintainers and owners:
manufacturers, supermarket and customers (Fig. 1); and the associated difﬁculty to construct useful
information from those data that can be relevant in different stages of the supply and shopping processes.

Figure 1: Scattering of information sources

Manufacturers are in charge of maintaining the information related to their products: ingredients,
manufacturing processes, origin and etcetera. Only certain amount of this information is published
whether on product labels or corporative website and its interpretation might confuse readers.

Supermarkets manage information useful for setting the sale price on their own premises, stock,
suppliers, customers’ subscriptions, sales records and so on. Most of this information remains private for
corporative purposes.

Customers contribute with their preferences and interests. Unfortunately, current approaches do not
exploit that valuable information to the maximum as customer preferences are not managed in a proper
manner so that proﬁling of product offers can be directed to particular customers based on updatable
consumer proﬁles.

51

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

By surpassing those information management issues, current technology advances enable customers
to consult granulated and personalized information about products by using simply using their smart-
phones to scan QR codes or entering identiﬁcation codes labeled on products.

Interoperability and interaction with heterogeneous sources of information, devices or virtual objects
[11] describe the vision of the future supermarket environment. In order to achieve those goals, some
adaptations must be made:

• Supermarket must establish a categorization of features that best describe their products so that can
be useful to establish the foundations of customers’ proﬁles which is one of the goals of the Future
Internet’s platforms [6] and also to reﬂect their interests: product processing, chemical use, origin,
nutritional information, welfare certiﬁcations and etcetera. This task can beneﬁt from the knowl-
edge that supermarkets have about their customers and, as a result, an information system can be
built to manage these data so that customers can identify with them and select their preferences
and eventually update them.

• Setting up an accessible platform where every link of the product value chain is able to collect,
store and update the data is managing and producing at every step: new ingredients added, new raw
material providers, eventual environmental issues during transportation, new recommendations of
use, recipes and so on. The information collected in this accessible platform should be easy to be
consumed by friendly and fast interfaces so that no additional software or complex conﬁgurations
take place in the process which in turn might downgrade the user experience.

The Smart Agri-Food Project [18] is part of the Future Internet Public-Private Partnership (FI-PPP)
program [1] and addresses farming, agri-logistics and food awareness use-cases by aiming the boost of
application and use of future internet ICTs [6] in the Agri-Food domain. The web pilot described in
this paper has been developed as part of this project within the Food Awareness use case by providing
internetworking among all the virtual or physical objects and interfaces so that consumers are able to
request and retrieve information of a speciﬁc product using their smartphone. The information retrieved
is matched with the consumers’ shopping proﬁles previously set on the sign-up process.

3 Development Based on Co-Participation

Customers are moving away from traditional roles to become co-creators and consumers of value [13],
with this assertion in mind it becomes a quite useful task to involve customers in the development stages
of an information service solution for a supermarket with the extended features mentioned above. The
proper interpretation of consumer expectations must be based on an iterative communication scheme
so that initial and subsequent opinions are validated and used as external ideas that feed the internal
ones so that technology selection and development are pushed forward [3]. With this communicative
development method, all the needs of co-creation and co-development approaches are fulﬁlled and it is
possible to harness the potential of the external ideas.

To clearly understand the user needs and visualize possible challenges and limitations on certain sce-
narios it is quite useful to consider the user participation in the development stages. Cooperation applied
in the customization of services provides consumers with the ability to communicate in a compelling
experience characterized by an intrinsic enjoyment and engagement that is prone to be repeated [14].
When developing a personalized Future Internet [6] information system for shopping environments, user
involvement is a must, so that new opportunities could arise:

• for supermarkets and consumers regarding loyalty relationships and thoughtfulness.

52

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• for manufacturers and governments as they beneﬁt from having an service infrastructure where
smart notiﬁcations and updates can be sent to customers and citizens in case of contamination
contingences.

Figure 2: Food awareness concept in pilot developed

The pilot features have been deﬁned and speciﬁed by focusing on user needs and ensuring the inter-

operability of data and knowledge sources across the product supply chain ( Fig. 2) .

A key aspect in system design was the deﬁnition of a suitable IT infrastructure to ensure easy and
secure access, integrity, collection, updates, processing and communication of information to consumers
while supporting the Food Awareness concept. In this stage the next guidelines have been deﬁned:

For Supermarkets

1. Setting up an information management infrastructure. This infrastructure must ensure the proper
storage and management of heterogeneous information which includes: customer’ preferences,
proﬁling features, information updates, notiﬁcations, triggered alerts and etcetera. In this process,
wireless coverage must be ensured for customers at supermarket premises so that no connectivity
issues can affect the shopping process.

2. Communicate with external entities. Another leg of this platform must deal with the communica-
tion with external servers that can perform complex tasks. In the solution developed, those external
servers take the form of generic enablers that provide the whole system with processing capabili-
ties (logo recognition, identity management, etcetera) that remain isolated from client domain and
can be extended to provide more complex calculations and retrieve sharp information based on
customer preferences.

53

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

For Manufacturers

1. Maintain product information updated Manufacturers can have an accessible interface, via super-

market infrastructure, to maintain and extend information that describes their products.

For customers (Fig. 3)

1. Sign-up to supermarket service The customers should use their smartphone to point the web
browser to a particular URL using the supermarket premises (wireless access) and then sign up
to create their personalized proﬁles (set preferences). Alternatively, and for testing purposes, it is
considered the option of providing similar services to anonymous users.

1. Scan product codes. This process requires customers to use their smartphone to scan the Quick
Response codes or Augmented Reality patterns labeled on the particular product their interested
and as a result of this simple gesture, the personalized information can be visualized on screen
granulating details based on the preferences they set previously.

Figure 3: Simple gestures for retrieval of information

Real consumers were selected to both deﬁne pilot features and test the pilot itself and assess their
satisfaction with the implementation. Feedback from end users (consumers) is a key point to assess
viability and compliance with their expectations. For this, several sessions were planned in order to
involve consumers in the pilot. The sessions are called workshops with consumers, because of their
interactive and open to discussion nature between consumers and retailer.

The objective of those workshops was to involve a panel of 15-20 consumers in all the process
of the pilot, its conception, development and evaluation, as to identify their needs and requirements
as consumers, then to test and to validate the pilot mock-ups and its ﬁnal version. The planning of
workshops most suitable for our expected objectives resulted as follows:

• Pre-Workshop. Objective: To know the opinion of consumers about the future supermarket and

habits of consumption. Participants: A total of 14 people.

• 1st Workshop. Objective: Introduction to the project, analysis of the current situation (myriad
of logos, lack of information) and stipulation of which product attributes consumer would like to
know and how while shopping. Participants: Panel of consumers of 15 people.

54

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• 2nd Workshop. Objective: Experimentation with the ﬁrst release of the pilot at supermarket
premises to validate the technology and to improve it according to panel of consumers’ proposals.
Participants: Same panel of consumers of 10 people.

• 3rd Workshop. Objective: Experimentation with the second release of the pilot at supermarket
premises to a ﬁnal validation and to get the feedback of expectative of the panel. Participants:
Same panel of consumers.

The results of the workshops helped to ensure the feasibility of an open deployment of the pilot
in a real supermarket. The development of all workshops with consumers in a closed environment al-
lowed detecting and improving the pilot in order to make the decision for an open deployment in any
supermarket assuring the viability of it.

The workshops have been deﬁned aiming the next objectives:
• Pre-workshop. To know the opinion of consumers about the future supermarket and way of con-

sumption.

• 1st workshop. Introduction to the project, analysis of the current situation (jungle of logos, lack
of information) and stipulation of which product attributes consumer would like to know and how
while shopping

• 2nd workshop. Experimentation with the ﬁrst release of the TIC app at supermarket premises to

validate the technology and to improve it according to panel of consumers’ proposals.

• 3rd workshop. Experimentation with the second release of the TIC app at supermarket premises

for a ﬁnal validation and to get the feedback of expectative of the panel.

The number of workshops has been chosen to match the phases of the pilot development. In this
way, a calendar has been developed for setting the dates of each workshop so they could be planed and
organised in advance.

As a result of the pre-workshop and ﬁrst workshop, the attributes that consumers consider as more

interesting and are willing to be informed about while shopping are depicted in Fig. 4.

Regarding the ways of getting product information that consumers ﬁnd more interesting and would
like to use while shopping, it points out that consumers want to get the information through a new
technology device like a screen, a scanner or a Smartphone. The Smartphone is a mix of screen and
scanner.

It has been also identiﬁed that there is a lack of information related to products for the costumer
in the supermarket environment, and when the information is available it is difﬁcult to understand it.
It is notably that not all the currently provided information is useful or interesting for the consumer.
Customers disagree with raising the product price or paying any money to gather the tailored information.
But in the other hand, they are willing to start using a real market application with the same characteristics
that the ones offered by the proofs of concept and are very receptive to use the new technologies while
shopping, and they prefer them over the classical supermarket communications, as SMS or old-fashion
mailing.

4 Solution Description

In order to implement the pilot with the features and requirements derived from the previous study it
became necessary to use all the potential of the expected Future Internet’s capabilities [1] to improve

55

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 4: Results on product attributes interest

food awareness among consumers. The Future Internet’s capabilities referred above have provided the
pilot with scalability, security, performance and data integration by implementing cloud hosting, bridging
of IoT enabled interfaces and services and open interfaces to new services.

The pilot targets all the mechanisms (e.g. applications, infrastructure, data and communication mod-
els) that enable consumers to request information of a speciﬁc product using their Smartphone before/-
during and after their shopping process; so they only get the right product attributes of their interest
according to their consumer shopping proﬁle. This requires an infrastructure for managing consumer
proﬁle data (taking into account security and privacy issues) and for managing product attributes. The
pilot is mainly focused on the data management and provision to consumers.

The data provision to the consumer is carried out by two ways:
• Providing tailored product information from selected products that costumers will ﬁnd in the su-

permarket.

• Showing hidden information from logos and signs which can be found in some products, usually

processed products.

In order to match the consumer’s interests, users can create a dynamic consumer proﬁle in order to
know what information they are interested in by fulﬁlling a web form which is later mapped to a JSON
document (Fig. 5). The generation of tailored information depends on those proﬁles so this characteristic
allows more accurate information matching in comparison with the generic and ﬁxed information pro-
vision of products’ labels. Similar process is used to virtualize real world attributes or objects such as:
description of products, notiﬁcations, etcetera so that can be treated as interacting objects and integrated
in the solution.

Having tailored information after a matching process leverages privacy and security issues. As this
information is supposed to be managed, in the future, by external entities in the form of Generic Enablers
(GE) [7]; consumers, inside the pilot, will be owners of all the tailored data they consume and produce.
Consumers can also make use of anonymous proﬁles in the case they are not interested on permanently
sharing their information with the supermarket, the service cloud and GEs behind.

56

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 5: Transforming attributes into interacting objects

There are three main parts in the pilot that are described in this section.

• The client side, which encloses the technological developments that allow consumers getting tai-

lored information from the supermarket infrastructure using a smartphone (user domain).

• The infrastructure side encloses all the developments being executed in the supermarket domain.
As the tailored information generation of this side, is not a stand-alone process, the supermarket
domain makes use of a set of GEs that provides some functionalities that will be mentioned in next
sections.

• The communication approaches implemented to support distinct types of notiﬁcations

Clients A standard smartphone with updated software can be used to test the web app pilot. Among
standard features to be used are: camera, scanner software and HTML5 enabled web browser. Behind
the client side it has been deﬁned a web service based architecture [15], and its corresponding implemen-
tation is able to tackle the traditional limitations exposed by typical client approaches where interfaces
are tailored to ﬁt speciﬁc deployment conditions (varieties of mobile and desktop environments). In this
pilot, a web-style client provides service access with a solid and standard-compliant client framework
that can be invoked from any user equipment with minimum requirements such as a web browser with
HTML5 [4] support.

Since the terminal is the entry point of supermarket’s users; the use of HTML5/Javascript based
technologies (through web browsers) directly expands the reachability of users. This is because, there
are several mobile operating systems, such as: Android, iOS, Blackberry and so on; so tackling the
tailoring information process for every existing mobile Operating System (OS) could be a drawback for

57

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

the whole process. Focusing on the scanning of Quick Response codes or Agumented Reality patterns
simpliﬁes the RFID interaction exposed at [16].

Infrastructure The infrastructure (TIS server) is in charge of linking product related information
databases with consumer needs, and gives to them in the easiest way the tailored information requested.
A key issue is to develop a subsystem that allows collecting and managing dynamic information and data
generated at different points of the supply chain. An additional module has been developed in charge of
providing the means for the mobile application to retrieve supermarket privacy policy, which describes
what information, does supermarket need from the users of the application and the purpose of usage. As
in our case, supermarket only requires the information for a single purpose that is, to provide tailored
information, and always wants access to the same information; only one privacy policy was created and
exposed via module. This application is called from the GUI to obtain the needed information.

The web services layer is developed through an Enterprise Service Bus (ESB) which exposes Restful
web services in order to be invoked by any application. When a request arrives to the ESB, the message
work-ﬂow (MF) analyses and determines from source of the URL that invokes this message (Fig. 6).
Next, The URL ﬁlter determines if that URL is compatible with the existing patterns. Once the URL has
passed the ﬁlter, it arrives to a router (choice component) that addresses the request to the right service.
If there is an error, it is redirected to another message workﬂow that keeps a log of every request.

Cloud oriented deﬁnition of the architecture and use of HTML5 eases the addition of new function-

alities.

Figure 6: Message workﬂow in webservices

58

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Notiﬁcations Following the pull communication approach, the consumers obtain information from
web pilot application once requests automatically trigger an information request to the proper entity (that
could also redirect to another application server or process itself the information), and eventually that
entity might requests information to the Generic Enablers. In the content adaptation process the TIC
application servers should make use of the existing proﬁle information of the user for customizing the
content, even if the request has just being issued (Fig. 7).

Figure 7: Message exchange

In the scenario of smart notiﬁcations, the tailored information is pushed to the consumers’ smart-
phones; so here web pilot accepts event subscriptions from the clients and manage if this subscriptions
involves asynchronous events from the application Servers or Generic Enablers systems. Hence, the web
pilot not only customizes the information but also correlates the correct events arriving from the proper
server (Fig. 8).

Figure 8: Smart notiﬁcation scenario

Another important scenario of smart notiﬁcations takes place in the post-shopping activities with
an alert notiﬁcation mechanism. A key issue in this regard, was to develop a subsystem that allows
collecting and managing dynamic information and data generated at different points of the supply chain
to have full transparency data available to the consumer.

59

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

In a food alert scenario (contingency notiﬁcation), a health government organization could detect
a problem in a particular delivery of food and trace the supermarkets that sell these products. The
supermarket needs to locate the customer which purchased the problematic product and send him/her an
alert. As the customer contact information is conﬁdential and restricted to users with Fidelity card we
need to change the customer registration business process to ask the customer if they want to be notiﬁed
when a food alert occurs.

The alert delivery to customers is handled by different media, email, push notiﬁcations and also
phone calls. In the case of push notiﬁcations the speciﬁcation of the alert delivery is described in the
workﬂow of Fig. 9.

Figure 9: Smart notiﬁcation in food alert scenario

As can be seen, the customer’s mobile device subscribes to the supermarket information system
through the Web pilot and this system stores the callback information of the customer in a private
database. When the food safety agency notiﬁes the supermarket a food alert, the customer callbacks
are fetched and the notiﬁcation is delivered to their mobile phone.

A list of all features that have been integrated so far in the pilot is summarized below:
• Smart notiﬁcation system that allows direct messages to particular consumers that ﬁt certain pref-
erences. This feature is mostly useful when information of products is updated, new items arrive
to the supermarke, contingencies warnings and etcetera.

• Augmented reality features, by overlapping virtual objects with personalized information.
• Identity Management GCP GE [8]. Identify management controls the way users deﬁne policies

regarding preferences and privacy.

• IaaS Data Center Resource Management [12]. Provides cloud-based services for deploying appli-

cations.

• Tailored information system. The information provider retrieves the information regarding prod-
ucts; so even if the matching occurs outside of the domain of the provider, as an example in the
supermarket, this building block can work. As an example of this the front layer of the mobile
application is decoupled from the database which stores product data.

60

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

on their way to supermarket. The lack of granulated and speciﬁc information may discourage
potential customers to consider their products.

• Supermarkets miss the opportunity to engage customer’s loyalty by satisfying their shopping needs
beyond of ﬁdelity cards and suggesting special offers directed to market groups. Despite the close
relationship between supermarket and customers, current approaches make difﬁcult to suggest the
most suitable selection of products to customers based on predeﬁned criteria.

The challenges exposed above can be overcome with the implementation of an information system
based on the Machineto- Machine communications and Internet of Things approaches. Support for
additional requirements from Food-Awareness and future shopping behaviors can also be satisﬁed with
these new approaches.

One of the utmost challenges to be solved is represented by the paramount complexity of dealing with
sources of data geographically scattered across distinct locations with distinct maintainers and owners:
manufacturers, supermarket and customers (Fig. 1); and the associated difﬁculty to construct useful
information from those data that can be relevant in different stages of the supply and shopping processes.

Figure 1: Scattering of information sources

Manufacturers are in charge of maintaining the information related to their products: ingredients,
manufacturing processes, origin and etcetera. Only certain amount of this information is published
whether on product labels or corporative website and its interpretation might confuse readers.

Supermarkets manage information useful for setting the sale price on their own premises, stock,
suppliers, customers’ subscriptions, sales records and so on. Most of this information remains private for
corporative purposes.

Customers contribute with their preferences and interests. Unfortunately, current approaches do not
exploit that valuable information to the maximum as customer preferences are not managed in a proper
manner so that proﬁling of product offers can be directed to particular customers based on updatable
consumer proﬁles.

51

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

By surpassing those information management issues, current technology advances enable customers
to consult granulated and personalized information about products by using simply using their smart-
phones to scan QR codes or entering identiﬁcation codes labeled on products.

Interoperability and interaction with heterogeneous sources of information, devices or virtual objects
[11] describe the vision of the future supermarket environment. In order to achieve those goals, some
adaptations must be made:

• Supermarket must establish a categorization of features that best describe their products so that can
be useful to establish the foundations of customers’ proﬁles which is one of the goals of the Future
Internet’s platforms [6] and also to reﬂect their interests: product processing, chemical use, origin,
nutritional information, welfare certiﬁcations and etcetera. This task can beneﬁt from the knowl-
edge that supermarkets have about their customers and, as a result, an information system can be
built to manage these data so that customers can identify with them and select their preferences
and eventually update them.

• Setting up an accessible platform where every link of the product value chain is able to collect,
store and update the data is managing and producing at every step: new ingredients added, new raw
material providers, eventual environmental issues during transportation, new recommendations of
use, recipes and so on. The information collected in this accessible platform should be easy to be
consumed by friendly and fast interfaces so that no additional software or complex conﬁgurations
take place in the process which in turn might downgrade the user experience.

The Smart Agri-Food Project [18] is part of the Future Internet Public-Private Partnership (FI-PPP)
program [1] and addresses farming, agri-logistics and food awareness use-cases by aiming the boost of
application and use of future internet ICTs [6] in the Agri-Food domain. The web pilot described in
this paper has been developed as part of this project within the Food Awareness use case by providing
internetworking among all the virtual or physical objects and interfaces so that consumers are able to
request and retrieve information of a speciﬁc product using their smartphone. The information retrieved
is matched with the consumers’ shopping proﬁles previously set on the sign-up process.

3 Development Based on Co-Participation

Customers are moving away from traditional roles to become co-creators and consumers of value [13],
with this assertion in mind it becomes a quite useful task to involve customers in the development stages
of an information service solution for a supermarket with the extended features mentioned above. The
proper interpretation of consumer expectations must be based on an iterative communication scheme
so that initial and subsequent opinions are validated and used as external ideas that feed the internal
ones so that technology selection and development are pushed forward [3]. With this communicative
development method, all the needs of co-creation and co-development approaches are fulﬁlled and it is
possible to harness the potential of the external ideas.

To clearly understand the user needs and visualize possible challenges and limitations on certain sce-
narios it is quite useful to consider the user participation in the development stages. Cooperation applied
in the customization of services provides consumers with the ability to communicate in a compelling
experience characterized by an intrinsic enjoyment and engagement that is prone to be repeated [14].
When developing a personalized Future Internet [6] information system for shopping environments, user
involvement is a must, so that new opportunities could arise:

• for supermarkets and consumers regarding loyalty relationships and thoughtfulness.

52

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• for manufacturers and governments as they beneﬁt from having an service infrastructure where
smart notiﬁcations and updates can be sent to customers and citizens in case of contamination
contingences.

Figure 2: Food awareness concept in pilot developed

The pilot features have been deﬁned and speciﬁed by focusing on user needs and ensuring the inter-

operability of data and knowledge sources across the product supply chain ( Fig. 2) .

A key aspect in system design was the deﬁnition of a suitable IT infrastructure to ensure easy and
secure access, integrity, collection, updates, processing and communication of information to consumers
while supporting the Food Awareness concept. In this stage the next guidelines have been deﬁned:

For Supermarkets

1. Setting up an information management infrastructure. This infrastructure must ensure the proper
storage and management of heterogeneous information which includes: customer’ preferences,
proﬁling features, information updates, notiﬁcations, triggered alerts and etcetera. In this process,
wireless coverage must be ensured for customers at supermarket premises so that no connectivity
issues can affect the shopping process.

2. Communicate with external entities. Another leg of this platform must deal with the communica-
tion with external servers that can perform complex tasks. In the solution developed, those external
servers take the form of generic enablers that provide the whole system with processing capabili-
ties (logo recognition, identity management, etcetera) that remain isolated from client domain and
can be extended to provide more complex calculations and retrieve sharp information based on
customer preferences.

53

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

For Manufacturers

1. Maintain product information updated Manufacturers can have an accessible interface, via super-

market infrastructure, to maintain and extend information that describes their products.

For customers (Fig. 3)

1. Sign-up to supermarket service The customers should use their smartphone to point the web
browser to a particular URL using the supermarket premises (wireless access) and then sign up
to create their personalized proﬁles (set preferences). Alternatively, and for testing purposes, it is
considered the option of providing similar services to anonymous users.

1. Scan product codes. This process requires customers to use their smartphone to scan the Quick
Response codes or Augmented Reality patterns labeled on the particular product their interested
and as a result of this simple gesture, the personalized information can be visualized on screen
granulating details based on the preferences they set previously.

Figure 3: Simple gestures for retrieval of information

Real consumers were selected to both deﬁne pilot features and test the pilot itself and assess their
satisfaction with the implementation. Feedback from end users (consumers) is a key point to assess
viability and compliance with their expectations. For this, several sessions were planned in order to
involve consumers in the pilot. The sessions are called workshops with consumers, because of their
interactive and open to discussion nature between consumers and retailer.

The objective of those workshops was to involve a panel of 15-20 consumers in all the process
of the pilot, its conception, development and evaluation, as to identify their needs and requirements
as consumers, then to test and to validate the pilot mock-ups and its ﬁnal version. The planning of
workshops most suitable for our expected objectives resulted as follows:

• Pre-Workshop. Objective: To know the opinion of consumers about the future supermarket and

habits of consumption. Participants: A total of 14 people.

• 1st Workshop. Objective: Introduction to the project, analysis of the current situation (myriad
of logos, lack of information) and stipulation of which product attributes consumer would like to
know and how while shopping. Participants: Panel of consumers of 15 people.

54

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• 2nd Workshop. Objective: Experimentation with the ﬁrst release of the pilot at supermarket
premises to validate the technology and to improve it according to panel of consumers’ proposals.
Participants: Same panel of consumers of 10 people.

• 3rd Workshop. Objective: Experimentation with the second release of the pilot at supermarket
premises to a ﬁnal validation and to get the feedback of expectative of the panel. Participants:
Same panel of consumers.

The results of the workshops helped to ensure the feasibility of an open deployment of the pilot
in a real supermarket. The development of all workshops with consumers in a closed environment al-
lowed detecting and improving the pilot in order to make the decision for an open deployment in any
supermarket assuring the viability of it.

The workshops have been deﬁned aiming the next objectives:
• Pre-workshop. To know the opinion of consumers about the future supermarket and way of con-

sumption.

• 1st workshop. Introduction to the project, analysis of the current situation (jungle of logos, lack
of information) and stipulation of which product attributes consumer would like to know and how
while shopping

• 2nd workshop. Experimentation with the ﬁrst release of the TIC app at supermarket premises to

validate the technology and to improve it according to panel of consumers’ proposals.

• 3rd workshop. Experimentation with the second release of the TIC app at supermarket premises

for a ﬁnal validation and to get the feedback of expectative of the panel.

The number of workshops has been chosen to match the phases of the pilot development. In this
way, a calendar has been developed for setting the dates of each workshop so they could be planed and
organised in advance.

As a result of the pre-workshop and ﬁrst workshop, the attributes that consumers consider as more

interesting and are willing to be informed about while shopping are depicted in Fig. 4.

Regarding the ways of getting product information that consumers ﬁnd more interesting and would
like to use while shopping, it points out that consumers want to get the information through a new
technology device like a screen, a scanner or a Smartphone. The Smartphone is a mix of screen and
scanner.

It has been also identiﬁed that there is a lack of information related to products for the costumer
in the supermarket environment, and when the information is available it is difﬁcult to understand it.
It is notably that not all the currently provided information is useful or interesting for the consumer.
Customers disagree with raising the product price or paying any money to gather the tailored information.
But in the other hand, they are willing to start using a real market application with the same characteristics
that the ones offered by the proofs of concept and are very receptive to use the new technologies while
shopping, and they prefer them over the classical supermarket communications, as SMS or old-fashion
mailing.

4 Solution Description

In order to implement the pilot with the features and requirements derived from the previous study it
became necessary to use all the potential of the expected Future Internet’s capabilities [1] to improve

55

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 4: Results on product attributes interest

food awareness among consumers. The Future Internet’s capabilities referred above have provided the
pilot with scalability, security, performance and data integration by implementing cloud hosting, bridging
of IoT enabled interfaces and services and open interfaces to new services.

The pilot targets all the mechanisms (e.g. applications, infrastructure, data and communication mod-
els) that enable consumers to request information of a speciﬁc product using their Smartphone before/-
during and after their shopping process; so they only get the right product attributes of their interest
according to their consumer shopping proﬁle. This requires an infrastructure for managing consumer
proﬁle data (taking into account security and privacy issues) and for managing product attributes. The
pilot is mainly focused on the data management and provision to consumers.

The data provision to the consumer is carried out by two ways:
• Providing tailored product information from selected products that costumers will ﬁnd in the su-

permarket.

• Showing hidden information from logos and signs which can be found in some products, usually

processed products.

In order to match the consumer’s interests, users can create a dynamic consumer proﬁle in order to
know what information they are interested in by fulﬁlling a web form which is later mapped to a JSON
document (Fig. 5). The generation of tailored information depends on those proﬁles so this characteristic
allows more accurate information matching in comparison with the generic and ﬁxed information pro-
vision of products’ labels. Similar process is used to virtualize real world attributes or objects such as:
description of products, notiﬁcations, etcetera so that can be treated as interacting objects and integrated
in the solution.

Having tailored information after a matching process leverages privacy and security issues. As this
information is supposed to be managed, in the future, by external entities in the form of Generic Enablers
(GE) [7]; consumers, inside the pilot, will be owners of all the tailored data they consume and produce.
Consumers can also make use of anonymous proﬁles in the case they are not interested on permanently
sharing their information with the supermarket, the service cloud and GEs behind.

56

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 5: Transforming attributes into interacting objects

There are three main parts in the pilot that are described in this section.

• The client side, which encloses the technological developments that allow consumers getting tai-

lored information from the supermarket infrastructure using a smartphone (user domain).

• The infrastructure side encloses all the developments being executed in the supermarket domain.
As the tailored information generation of this side, is not a stand-alone process, the supermarket
domain makes use of a set of GEs that provides some functionalities that will be mentioned in next
sections.

• The communication approaches implemented to support distinct types of notiﬁcations

Clients A standard smartphone with updated software can be used to test the web app pilot. Among
standard features to be used are: camera, scanner software and HTML5 enabled web browser. Behind
the client side it has been deﬁned a web service based architecture [15], and its corresponding implemen-
tation is able to tackle the traditional limitations exposed by typical client approaches where interfaces
are tailored to ﬁt speciﬁc deployment conditions (varieties of mobile and desktop environments). In this
pilot, a web-style client provides service access with a solid and standard-compliant client framework
that can be invoked from any user equipment with minimum requirements such as a web browser with
HTML5 [4] support.

Since the terminal is the entry point of supermarket’s users; the use of HTML5/Javascript based
technologies (through web browsers) directly expands the reachability of users. This is because, there
are several mobile operating systems, such as: Android, iOS, Blackberry and so on; so tackling the
tailoring information process for every existing mobile Operating System (OS) could be a drawback for

57

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

the whole process. Focusing on the scanning of Quick Response codes or Agumented Reality patterns
simpliﬁes the RFID interaction exposed at [16].

Infrastructure The infrastructure (TIS server) is in charge of linking product related information
databases with consumer needs, and gives to them in the easiest way the tailored information requested.
A key issue is to develop a subsystem that allows collecting and managing dynamic information and data
generated at different points of the supply chain. An additional module has been developed in charge of
providing the means for the mobile application to retrieve supermarket privacy policy, which describes
what information, does supermarket need from the users of the application and the purpose of usage. As
in our case, supermarket only requires the information for a single purpose that is, to provide tailored
information, and always wants access to the same information; only one privacy policy was created and
exposed via module. This application is called from the GUI to obtain the needed information.

The web services layer is developed through an Enterprise Service Bus (ESB) which exposes Restful
web services in order to be invoked by any application. When a request arrives to the ESB, the message
work-ﬂow (MF) analyses and determines from source of the URL that invokes this message (Fig. 6).
Next, The URL ﬁlter determines if that URL is compatible with the existing patterns. Once the URL has
passed the ﬁlter, it arrives to a router (choice component) that addresses the request to the right service.
If there is an error, it is redirected to another message workﬂow that keeps a log of every request.

Cloud oriented deﬁnition of the architecture and use of HTML5 eases the addition of new function-

alities.

Figure 6: Message workﬂow in webservices

58

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Notiﬁcations Following the pull communication approach, the consumers obtain information from
web pilot application once requests automatically trigger an information request to the proper entity (that
could also redirect to another application server or process itself the information), and eventually that
entity might requests information to the Generic Enablers. In the content adaptation process the TIC
application servers should make use of the existing proﬁle information of the user for customizing the
content, even if the request has just being issued (Fig. 7).

Figure 7: Message exchange

In the scenario of smart notiﬁcations, the tailored information is pushed to the consumers’ smart-
phones; so here web pilot accepts event subscriptions from the clients and manage if this subscriptions
involves asynchronous events from the application Servers or Generic Enablers systems. Hence, the web
pilot not only customizes the information but also correlates the correct events arriving from the proper
server (Fig. 8).

Figure 8: Smart notiﬁcation scenario

Another important scenario of smart notiﬁcations takes place in the post-shopping activities with
an alert notiﬁcation mechanism. A key issue in this regard, was to develop a subsystem that allows
collecting and managing dynamic information and data generated at different points of the supply chain
to have full transparency data available to the consumer.

59

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

In a food alert scenario (contingency notiﬁcation), a health government organization could detect
a problem in a particular delivery of food and trace the supermarkets that sell these products. The
supermarket needs to locate the customer which purchased the problematic product and send him/her an
alert. As the customer contact information is conﬁdential and restricted to users with Fidelity card we
need to change the customer registration business process to ask the customer if they want to be notiﬁed
when a food alert occurs.

The alert delivery to customers is handled by different media, email, push notiﬁcations and also
phone calls. In the case of push notiﬁcations the speciﬁcation of the alert delivery is described in the
workﬂow of Fig. 9.

Figure 9: Smart notiﬁcation in food alert scenario

As can be seen, the customer’s mobile device subscribes to the supermarket information system
through the Web pilot and this system stores the callback information of the customer in a private
database. When the food safety agency notiﬁes the supermarket a food alert, the customer callbacks
are fetched and the notiﬁcation is delivered to their mobile phone.

A list of all features that have been integrated so far in the pilot is summarized below:
• Smart notiﬁcation system that allows direct messages to particular consumers that ﬁt certain pref-
erences. This feature is mostly useful when information of products is updated, new items arrive
to the supermarke, contingencies warnings and etcetera.

• Augmented reality features, by overlapping virtual objects with personalized information.
• Identity Management GCP GE [8]. Identify management controls the way users deﬁne policies

regarding preferences and privacy.

• IaaS Data Center Resource Management [12]. Provides cloud-based services for deploying appli-

cations.

• Tailored information system. The information provider retrieves the information regarding prod-
ucts; so even if the matching occurs outside of the domain of the provider, as an example in the
supermarket, this building block can work. As an example of this the front layer of the mobile
application is decoupled from the database which stores product data.

60

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• Integration of a logo recognition tool. Logo recognition functionality is provided by a service
developed by another partner from Smart Agri-Food project and is focused on identifying logos
on products and providing consumers with descriptive information.

• Front-end. Implemented using fully HTML5/Javascript codes which allow users to make use of
the application by using the web browser available on their smartphones (no need of additional
plug-ins), and deﬁne which internal capabilities, such as cameras, will be available through the
whole shopping process.

• Integration of fTRACE pilot. The fTRACE pilot [18] is about tracking, tracing and awareness of

meat products.

These features together form a M2M communication [2] environment since they integrate devices
and heterogonous backend systems into one (Future Supermarket) service platform (Fig. 10). The web
pilot has been hosted on a FI-WARE cloud hosting enabler service and its services tested at Bonpreu
supermarket facilities located in Barcelona (Spain). Bonpreu is a medium size store composed by a
dry products section, a bakery and a big fresh food area with fresh fruit and vegetables, a butcher and
ﬁsh/seafood services. The main client proﬁle of this shop is middle-aged middle-high class consumers,
according to the neighborhood proﬁle.

Figure 10: Pilot implementation

The premises include a Consumers’ Space which is used for consumer-retailer interaction in order
to have feedback from its regular consumers. It has been chosen as the best site for pilot deployment
because of the following reasons:

• The medium size of the supermarkets represents the best conditions for a prototype test.
• The location of the supermarket and the Consumers’ space is in a young and dynamic neighbor-
hood; and so is the proﬁle of its clients. Young and dynamic consumers are more likely to be used

61

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

on their way to supermarket. The lack of granulated and speciﬁc information may discourage
potential customers to consider their products.

• Supermarkets miss the opportunity to engage customer’s loyalty by satisfying their shopping needs
beyond of ﬁdelity cards and suggesting special offers directed to market groups. Despite the close
relationship between supermarket and customers, current approaches make difﬁcult to suggest the
most suitable selection of products to customers based on predeﬁned criteria.

The challenges exposed above can be overcome with the implementation of an information system
based on the Machineto- Machine communications and Internet of Things approaches. Support for
additional requirements from Food-Awareness and future shopping behaviors can also be satisﬁed with
these new approaches.

One of the utmost challenges to be solved is represented by the paramount complexity of dealing with
sources of data geographically scattered across distinct locations with distinct maintainers and owners:
manufacturers, supermarket and customers (Fig. 1); and the associated difﬁculty to construct useful
information from those data that can be relevant in different stages of the supply and shopping processes.

Figure 1: Scattering of information sources

Manufacturers are in charge of maintaining the information related to their products: ingredients,
manufacturing processes, origin and etcetera. Only certain amount of this information is published
whether on product labels or corporative website and its interpretation might confuse readers.

Supermarkets manage information useful for setting the sale price on their own premises, stock,
suppliers, customers’ subscriptions, sales records and so on. Most of this information remains private for
corporative purposes.

Customers contribute with their preferences and interests. Unfortunately, current approaches do not
exploit that valuable information to the maximum as customer preferences are not managed in a proper
manner so that proﬁling of product offers can be directed to particular customers based on updatable
consumer proﬁles.

51

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

By surpassing those information management issues, current technology advances enable customers
to consult granulated and personalized information about products by using simply using their smart-
phones to scan QR codes or entering identiﬁcation codes labeled on products.

Interoperability and interaction with heterogeneous sources of information, devices or virtual objects
[11] describe the vision of the future supermarket environment. In order to achieve those goals, some
adaptations must be made:

• Supermarket must establish a categorization of features that best describe their products so that can
be useful to establish the foundations of customers’ proﬁles which is one of the goals of the Future
Internet’s platforms [6] and also to reﬂect their interests: product processing, chemical use, origin,
nutritional information, welfare certiﬁcations and etcetera. This task can beneﬁt from the knowl-
edge that supermarkets have about their customers and, as a result, an information system can be
built to manage these data so that customers can identify with them and select their preferences
and eventually update them.

• Setting up an accessible platform where every link of the product value chain is able to collect,
store and update the data is managing and producing at every step: new ingredients added, new raw
material providers, eventual environmental issues during transportation, new recommendations of
use, recipes and so on. The information collected in this accessible platform should be easy to be
consumed by friendly and fast interfaces so that no additional software or complex conﬁgurations
take place in the process which in turn might downgrade the user experience.

The Smart Agri-Food Project [18] is part of the Future Internet Public-Private Partnership (FI-PPP)
program [1] and addresses farming, agri-logistics and food awareness use-cases by aiming the boost of
application and use of future internet ICTs [6] in the Agri-Food domain. The web pilot described in
this paper has been developed as part of this project within the Food Awareness use case by providing
internetworking among all the virtual or physical objects and interfaces so that consumers are able to
request and retrieve information of a speciﬁc product using their smartphone. The information retrieved
is matched with the consumers’ shopping proﬁles previously set on the sign-up process.

3 Development Based on Co-Participation

Customers are moving away from traditional roles to become co-creators and consumers of value [13],
with this assertion in mind it becomes a quite useful task to involve customers in the development stages
of an information service solution for a supermarket with the extended features mentioned above. The
proper interpretation of consumer expectations must be based on an iterative communication scheme
so that initial and subsequent opinions are validated and used as external ideas that feed the internal
ones so that technology selection and development are pushed forward [3]. With this communicative
development method, all the needs of co-creation and co-development approaches are fulﬁlled and it is
possible to harness the potential of the external ideas.

To clearly understand the user needs and visualize possible challenges and limitations on certain sce-
narios it is quite useful to consider the user participation in the development stages. Cooperation applied
in the customization of services provides consumers with the ability to communicate in a compelling
experience characterized by an intrinsic enjoyment and engagement that is prone to be repeated [14].
When developing a personalized Future Internet [6] information system for shopping environments, user
involvement is a must, so that new opportunities could arise:

• for supermarkets and consumers regarding loyalty relationships and thoughtfulness.

52

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• for manufacturers and governments as they beneﬁt from having an service infrastructure where
smart notiﬁcations and updates can be sent to customers and citizens in case of contamination
contingences.

Figure 2: Food awareness concept in pilot developed

The pilot features have been deﬁned and speciﬁed by focusing on user needs and ensuring the inter-

operability of data and knowledge sources across the product supply chain ( Fig. 2) .

A key aspect in system design was the deﬁnition of a suitable IT infrastructure to ensure easy and
secure access, integrity, collection, updates, processing and communication of information to consumers
while supporting the Food Awareness concept. In this stage the next guidelines have been deﬁned:

For Supermarkets

1. Setting up an information management infrastructure. This infrastructure must ensure the proper
storage and management of heterogeneous information which includes: customer’ preferences,
proﬁling features, information updates, notiﬁcations, triggered alerts and etcetera. In this process,
wireless coverage must be ensured for customers at supermarket premises so that no connectivity
issues can affect the shopping process.

2. Communicate with external entities. Another leg of this platform must deal with the communica-
tion with external servers that can perform complex tasks. In the solution developed, those external
servers take the form of generic enablers that provide the whole system with processing capabili-
ties (logo recognition, identity management, etcetera) that remain isolated from client domain and
can be extended to provide more complex calculations and retrieve sharp information based on
customer preferences.

53

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

For Manufacturers

1. Maintain product information updated Manufacturers can have an accessible interface, via super-

market infrastructure, to maintain and extend information that describes their products.

For customers (Fig. 3)

1. Sign-up to supermarket service The customers should use their smartphone to point the web
browser to a particular URL using the supermarket premises (wireless access) and then sign up
to create their personalized proﬁles (set preferences). Alternatively, and for testing purposes, it is
considered the option of providing similar services to anonymous users.

1. Scan product codes. This process requires customers to use their smartphone to scan the Quick
Response codes or Augmented Reality patterns labeled on the particular product their interested
and as a result of this simple gesture, the personalized information can be visualized on screen
granulating details based on the preferences they set previously.

Figure 3: Simple gestures for retrieval of information

Real consumers were selected to both deﬁne pilot features and test the pilot itself and assess their
satisfaction with the implementation. Feedback from end users (consumers) is a key point to assess
viability and compliance with their expectations. For this, several sessions were planned in order to
involve consumers in the pilot. The sessions are called workshops with consumers, because of their
interactive and open to discussion nature between consumers and retailer.

The objective of those workshops was to involve a panel of 15-20 consumers in all the process
of the pilot, its conception, development and evaluation, as to identify their needs and requirements
as consumers, then to test and to validate the pilot mock-ups and its ﬁnal version. The planning of
workshops most suitable for our expected objectives resulted as follows:

• Pre-Workshop. Objective: To know the opinion of consumers about the future supermarket and

habits of consumption. Participants: A total of 14 people.

• 1st Workshop. Objective: Introduction to the project, analysis of the current situation (myriad
of logos, lack of information) and stipulation of which product attributes consumer would like to
know and how while shopping. Participants: Panel of consumers of 15 people.

54

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• 2nd Workshop. Objective: Experimentation with the ﬁrst release of the pilot at supermarket
premises to validate the technology and to improve it according to panel of consumers’ proposals.
Participants: Same panel of consumers of 10 people.

• 3rd Workshop. Objective: Experimentation with the second release of the pilot at supermarket
premises to a ﬁnal validation and to get the feedback of expectative of the panel. Participants:
Same panel of consumers.

The results of the workshops helped to ensure the feasibility of an open deployment of the pilot
in a real supermarket. The development of all workshops with consumers in a closed environment al-
lowed detecting and improving the pilot in order to make the decision for an open deployment in any
supermarket assuring the viability of it.

The workshops have been deﬁned aiming the next objectives:
• Pre-workshop. To know the opinion of consumers about the future supermarket and way of con-

sumption.

• 1st workshop. Introduction to the project, analysis of the current situation (jungle of logos, lack
of information) and stipulation of which product attributes consumer would like to know and how
while shopping

• 2nd workshop. Experimentation with the ﬁrst release of the TIC app at supermarket premises to

validate the technology and to improve it according to panel of consumers’ proposals.

• 3rd workshop. Experimentation with the second release of the TIC app at supermarket premises

for a ﬁnal validation and to get the feedback of expectative of the panel.

The number of workshops has been chosen to match the phases of the pilot development. In this
way, a calendar has been developed for setting the dates of each workshop so they could be planed and
organised in advance.

As a result of the pre-workshop and ﬁrst workshop, the attributes that consumers consider as more

interesting and are willing to be informed about while shopping are depicted in Fig. 4.

Regarding the ways of getting product information that consumers ﬁnd more interesting and would
like to use while shopping, it points out that consumers want to get the information through a new
technology device like a screen, a scanner or a Smartphone. The Smartphone is a mix of screen and
scanner.

It has been also identiﬁed that there is a lack of information related to products for the costumer
in the supermarket environment, and when the information is available it is difﬁcult to understand it.
It is notably that not all the currently provided information is useful or interesting for the consumer.
Customers disagree with raising the product price or paying any money to gather the tailored information.
But in the other hand, they are willing to start using a real market application with the same characteristics
that the ones offered by the proofs of concept and are very receptive to use the new technologies while
shopping, and they prefer them over the classical supermarket communications, as SMS or old-fashion
mailing.

4 Solution Description

In order to implement the pilot with the features and requirements derived from the previous study it
became necessary to use all the potential of the expected Future Internet’s capabilities [1] to improve

55

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 4: Results on product attributes interest

food awareness among consumers. The Future Internet’s capabilities referred above have provided the
pilot with scalability, security, performance and data integration by implementing cloud hosting, bridging
of IoT enabled interfaces and services and open interfaces to new services.

The pilot targets all the mechanisms (e.g. applications, infrastructure, data and communication mod-
els) that enable consumers to request information of a speciﬁc product using their Smartphone before/-
during and after their shopping process; so they only get the right product attributes of their interest
according to their consumer shopping proﬁle. This requires an infrastructure for managing consumer
proﬁle data (taking into account security and privacy issues) and for managing product attributes. The
pilot is mainly focused on the data management and provision to consumers.

The data provision to the consumer is carried out by two ways:
• Providing tailored product information from selected products that costumers will ﬁnd in the su-

permarket.

• Showing hidden information from logos and signs which can be found in some products, usually

processed products.

In order to match the consumer’s interests, users can create a dynamic consumer proﬁle in order to
know what information they are interested in by fulﬁlling a web form which is later mapped to a JSON
document (Fig. 5). The generation of tailored information depends on those proﬁles so this characteristic
allows more accurate information matching in comparison with the generic and ﬁxed information pro-
vision of products’ labels. Similar process is used to virtualize real world attributes or objects such as:
description of products, notiﬁcations, etcetera so that can be treated as interacting objects and integrated
in the solution.

Having tailored information after a matching process leverages privacy and security issues. As this
information is supposed to be managed, in the future, by external entities in the form of Generic Enablers
(GE) [7]; consumers, inside the pilot, will be owners of all the tailored data they consume and produce.
Consumers can also make use of anonymous proﬁles in the case they are not interested on permanently
sharing their information with the supermarket, the service cloud and GEs behind.

56

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 5: Transforming attributes into interacting objects

There are three main parts in the pilot that are described in this section.

• The client side, which encloses the technological developments that allow consumers getting tai-

lored information from the supermarket infrastructure using a smartphone (user domain).

• The infrastructure side encloses all the developments being executed in the supermarket domain.
As the tailored information generation of this side, is not a stand-alone process, the supermarket
domain makes use of a set of GEs that provides some functionalities that will be mentioned in next
sections.

• The communication approaches implemented to support distinct types of notiﬁcations

Clients A standard smartphone with updated software can be used to test the web app pilot. Among
standard features to be used are: camera, scanner software and HTML5 enabled web browser. Behind
the client side it has been deﬁned a web service based architecture [15], and its corresponding implemen-
tation is able to tackle the traditional limitations exposed by typical client approaches where interfaces
are tailored to ﬁt speciﬁc deployment conditions (varieties of mobile and desktop environments). In this
pilot, a web-style client provides service access with a solid and standard-compliant client framework
that can be invoked from any user equipment with minimum requirements such as a web browser with
HTML5 [4] support.

Since the terminal is the entry point of supermarket’s users; the use of HTML5/Javascript based
technologies (through web browsers) directly expands the reachability of users. This is because, there
are several mobile operating systems, such as: Android, iOS, Blackberry and so on; so tackling the
tailoring information process for every existing mobile Operating System (OS) could be a drawback for

57

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

the whole process. Focusing on the scanning of Quick Response codes or Agumented Reality patterns
simpliﬁes the RFID interaction exposed at [16].

Infrastructure The infrastructure (TIS server) is in charge of linking product related information
databases with consumer needs, and gives to them in the easiest way the tailored information requested.
A key issue is to develop a subsystem that allows collecting and managing dynamic information and data
generated at different points of the supply chain. An additional module has been developed in charge of
providing the means for the mobile application to retrieve supermarket privacy policy, which describes
what information, does supermarket need from the users of the application and the purpose of usage. As
in our case, supermarket only requires the information for a single purpose that is, to provide tailored
information, and always wants access to the same information; only one privacy policy was created and
exposed via module. This application is called from the GUI to obtain the needed information.

The web services layer is developed through an Enterprise Service Bus (ESB) which exposes Restful
web services in order to be invoked by any application. When a request arrives to the ESB, the message
work-ﬂow (MF) analyses and determines from source of the URL that invokes this message (Fig. 6).
Next, The URL ﬁlter determines if that URL is compatible with the existing patterns. Once the URL has
passed the ﬁlter, it arrives to a router (choice component) that addresses the request to the right service.
If there is an error, it is redirected to another message workﬂow that keeps a log of every request.

Cloud oriented deﬁnition of the architecture and use of HTML5 eases the addition of new function-

alities.

Figure 6: Message workﬂow in webservices

58

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Notiﬁcations Following the pull communication approach, the consumers obtain information from
web pilot application once requests automatically trigger an information request to the proper entity (that
could also redirect to another application server or process itself the information), and eventually that
entity might requests information to the Generic Enablers. In the content adaptation process the TIC
application servers should make use of the existing proﬁle information of the user for customizing the
content, even if the request has just being issued (Fig. 7).

Figure 7: Message exchange

In the scenario of smart notiﬁcations, the tailored information is pushed to the consumers’ smart-
phones; so here web pilot accepts event subscriptions from the clients and manage if this subscriptions
involves asynchronous events from the application Servers or Generic Enablers systems. Hence, the web
pilot not only customizes the information but also correlates the correct events arriving from the proper
server (Fig. 8).

Figure 8: Smart notiﬁcation scenario

Another important scenario of smart notiﬁcations takes place in the post-shopping activities with
an alert notiﬁcation mechanism. A key issue in this regard, was to develop a subsystem that allows
collecting and managing dynamic information and data generated at different points of the supply chain
to have full transparency data available to the consumer.

59

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

In a food alert scenario (contingency notiﬁcation), a health government organization could detect
a problem in a particular delivery of food and trace the supermarkets that sell these products. The
supermarket needs to locate the customer which purchased the problematic product and send him/her an
alert. As the customer contact information is conﬁdential and restricted to users with Fidelity card we
need to change the customer registration business process to ask the customer if they want to be notiﬁed
when a food alert occurs.

The alert delivery to customers is handled by different media, email, push notiﬁcations and also
phone calls. In the case of push notiﬁcations the speciﬁcation of the alert delivery is described in the
workﬂow of Fig. 9.

Figure 9: Smart notiﬁcation in food alert scenario

As can be seen, the customer’s mobile device subscribes to the supermarket information system
through the Web pilot and this system stores the callback information of the customer in a private
database. When the food safety agency notiﬁes the supermarket a food alert, the customer callbacks
are fetched and the notiﬁcation is delivered to their mobile phone.

A list of all features that have been integrated so far in the pilot is summarized below:
• Smart notiﬁcation system that allows direct messages to particular consumers that ﬁt certain pref-
erences. This feature is mostly useful when information of products is updated, new items arrive
to the supermarke, contingencies warnings and etcetera.

• Augmented reality features, by overlapping virtual objects with personalized information.
• Identity Management GCP GE [8]. Identify management controls the way users deﬁne policies

regarding preferences and privacy.

• IaaS Data Center Resource Management [12]. Provides cloud-based services for deploying appli-

cations.

• Tailored information system. The information provider retrieves the information regarding prod-
ucts; so even if the matching occurs outside of the domain of the provider, as an example in the
supermarket, this building block can work. As an example of this the front layer of the mobile
application is decoupled from the database which stores product data.

60

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• Integration of a logo recognition tool. Logo recognition functionality is provided by a service
developed by another partner from Smart Agri-Food project and is focused on identifying logos
on products and providing consumers with descriptive information.

• Front-end. Implemented using fully HTML5/Javascript codes which allow users to make use of
the application by using the web browser available on their smartphones (no need of additional
plug-ins), and deﬁne which internal capabilities, such as cameras, will be available through the
whole shopping process.

• Integration of fTRACE pilot. The fTRACE pilot [18] is about tracking, tracing and awareness of

meat products.

These features together form a M2M communication [2] environment since they integrate devices
and heterogonous backend systems into one (Future Supermarket) service platform (Fig. 10). The web
pilot has been hosted on a FI-WARE cloud hosting enabler service and its services tested at Bonpreu
supermarket facilities located in Barcelona (Spain). Bonpreu is a medium size store composed by a
dry products section, a bakery and a big fresh food area with fresh fruit and vegetables, a butcher and
ﬁsh/seafood services. The main client proﬁle of this shop is middle-aged middle-high class consumers,
according to the neighborhood proﬁle.

Figure 10: Pilot implementation

The premises include a Consumers’ Space which is used for consumer-retailer interaction in order
to have feedback from its regular consumers. It has been chosen as the best site for pilot deployment
because of the following reasons:

• The medium size of the supermarkets represents the best conditions for a prototype test.
• The location of the supermarket and the Consumers’ space is in a young and dynamic neighbor-
hood; and so is the proﬁle of its clients. Young and dynamic consumers are more likely to be used

61

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

and interested in new technologies. Therefore, the panel of consumers consisting of clients of the
supermarket will be easy to create and be involved in the project.

• The deployment of all equipment needed for TIC pilot can be set up in the Consumers’ space,

which provides enough room for it.

• The Consumers’ space represents a perfect place for developing TIC pilot tests in a closed and
controlled environment, using pilot products from the supermarket and totally equipped for the
development of the workshops with consumers.

5 Consumer Evaluation

For the 2nd workshop, a variety of products were used for the experimentation, having each product its
unique QR code. The process was quite simple: consumers needed to connect to supermarket’s Wi-Fi
network and to get access to the online app using an URL, select the language, then register to create their
own consumer proﬁle by ﬁlling in a short questionnaire about their preferences (“I am interested in: food
origin, sustainability aspects, chemical content, allergens, animal welfare, etc.”), afterwards scanning the
QR code to get the product information that ﬁts with their consumer proﬁle and ﬁnally the application
showed the tailored information of that product.

The 3rd workshop was performed in two parts: (1) presentation of the TIC app (summary of its
functionalities), (2) test with the TIC app using the Smartphone of each participant. Instructions on how
to proceed with the test were explained. The Web app was valued by the consumers with an average
score of 7.2/10.

Starting from 2nd workshop and through 3rd one, consumers were able to test two iterations of the
TIC Web app. The ﬁrst test allowed detecting some problems and improvements that were corrected for
the second test. New functionalities were included to be tested in the 3rd workshop. Fig. 11 compares the
technical evaluation of the pilot for each functionality and a global evaluation of the web pilot regarding
conceptual value for consumers.

Figure 11: Comparison between 1st and 2nd tests

As a conclusion, we can say that consumers participating in the process for pilot evaluation were very
interested and motivated in the web pilot and are willing to use the Web app. Percentage of consumers
that would use the web app while shopping grew up from an initial 57 percent after the ﬁrst test to 70
percent after the second test, showing a substantial increase in appreciation.

62

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

on their way to supermarket. The lack of granulated and speciﬁc information may discourage
potential customers to consider their products.

• Supermarkets miss the opportunity to engage customer’s loyalty by satisfying their shopping needs
beyond of ﬁdelity cards and suggesting special offers directed to market groups. Despite the close
relationship between supermarket and customers, current approaches make difﬁcult to suggest the
most suitable selection of products to customers based on predeﬁned criteria.

The challenges exposed above can be overcome with the implementation of an information system
based on the Machineto- Machine communications and Internet of Things approaches. Support for
additional requirements from Food-Awareness and future shopping behaviors can also be satisﬁed with
these new approaches.

One of the utmost challenges to be solved is represented by the paramount complexity of dealing with
sources of data geographically scattered across distinct locations with distinct maintainers and owners:
manufacturers, supermarket and customers (Fig. 1); and the associated difﬁculty to construct useful
information from those data that can be relevant in different stages of the supply and shopping processes.

Figure 1: Scattering of information sources

Manufacturers are in charge of maintaining the information related to their products: ingredients,
manufacturing processes, origin and etcetera. Only certain amount of this information is published
whether on product labels or corporative website and its interpretation might confuse readers.

Supermarkets manage information useful for setting the sale price on their own premises, stock,
suppliers, customers’ subscriptions, sales records and so on. Most of this information remains private for
corporative purposes.

Customers contribute with their preferences and interests. Unfortunately, current approaches do not
exploit that valuable information to the maximum as customer preferences are not managed in a proper
manner so that proﬁling of product offers can be directed to particular customers based on updatable
consumer proﬁles.

51

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

By surpassing those information management issues, current technology advances enable customers
to consult granulated and personalized information about products by using simply using their smart-
phones to scan QR codes or entering identiﬁcation codes labeled on products.

Interoperability and interaction with heterogeneous sources of information, devices or virtual objects
[11] describe the vision of the future supermarket environment. In order to achieve those goals, some
adaptations must be made:

• Supermarket must establish a categorization of features that best describe their products so that can
be useful to establish the foundations of customers’ proﬁles which is one of the goals of the Future
Internet’s platforms [6] and also to reﬂect their interests: product processing, chemical use, origin,
nutritional information, welfare certiﬁcations and etcetera. This task can beneﬁt from the knowl-
edge that supermarkets have about their customers and, as a result, an information system can be
built to manage these data so that customers can identify with them and select their preferences
and eventually update them.

• Setting up an accessible platform where every link of the product value chain is able to collect,
store and update the data is managing and producing at every step: new ingredients added, new raw
material providers, eventual environmental issues during transportation, new recommendations of
use, recipes and so on. The information collected in this accessible platform should be easy to be
consumed by friendly and fast interfaces so that no additional software or complex conﬁgurations
take place in the process which in turn might downgrade the user experience.

The Smart Agri-Food Project [18] is part of the Future Internet Public-Private Partnership (FI-PPP)
program [1] and addresses farming, agri-logistics and food awareness use-cases by aiming the boost of
application and use of future internet ICTs [6] in the Agri-Food domain. The web pilot described in
this paper has been developed as part of this project within the Food Awareness use case by providing
internetworking among all the virtual or physical objects and interfaces so that consumers are able to
request and retrieve information of a speciﬁc product using their smartphone. The information retrieved
is matched with the consumers’ shopping proﬁles previously set on the sign-up process.

3 Development Based on Co-Participation

Customers are moving away from traditional roles to become co-creators and consumers of value [13],
with this assertion in mind it becomes a quite useful task to involve customers in the development stages
of an information service solution for a supermarket with the extended features mentioned above. The
proper interpretation of consumer expectations must be based on an iterative communication scheme
so that initial and subsequent opinions are validated and used as external ideas that feed the internal
ones so that technology selection and development are pushed forward [3]. With this communicative
development method, all the needs of co-creation and co-development approaches are fulﬁlled and it is
possible to harness the potential of the external ideas.

To clearly understand the user needs and visualize possible challenges and limitations on certain sce-
narios it is quite useful to consider the user participation in the development stages. Cooperation applied
in the customization of services provides consumers with the ability to communicate in a compelling
experience characterized by an intrinsic enjoyment and engagement that is prone to be repeated [14].
When developing a personalized Future Internet [6] information system for shopping environments, user
involvement is a must, so that new opportunities could arise:

• for supermarkets and consumers regarding loyalty relationships and thoughtfulness.

52

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• for manufacturers and governments as they beneﬁt from having an service infrastructure where
smart notiﬁcations and updates can be sent to customers and citizens in case of contamination
contingences.

Figure 2: Food awareness concept in pilot developed

The pilot features have been deﬁned and speciﬁed by focusing on user needs and ensuring the inter-

operability of data and knowledge sources across the product supply chain ( Fig. 2) .

A key aspect in system design was the deﬁnition of a suitable IT infrastructure to ensure easy and
secure access, integrity, collection, updates, processing and communication of information to consumers
while supporting the Food Awareness concept. In this stage the next guidelines have been deﬁned:

For Supermarkets

1. Setting up an information management infrastructure. This infrastructure must ensure the proper
storage and management of heterogeneous information which includes: customer’ preferences,
proﬁling features, information updates, notiﬁcations, triggered alerts and etcetera. In this process,
wireless coverage must be ensured for customers at supermarket premises so that no connectivity
issues can affect the shopping process.

2. Communicate with external entities. Another leg of this platform must deal with the communica-
tion with external servers that can perform complex tasks. In the solution developed, those external
servers take the form of generic enablers that provide the whole system with processing capabili-
ties (logo recognition, identity management, etcetera) that remain isolated from client domain and
can be extended to provide more complex calculations and retrieve sharp information based on
customer preferences.

53

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

For Manufacturers

1. Maintain product information updated Manufacturers can have an accessible interface, via super-

market infrastructure, to maintain and extend information that describes their products.

For customers (Fig. 3)

1. Sign-up to supermarket service The customers should use their smartphone to point the web
browser to a particular URL using the supermarket premises (wireless access) and then sign up
to create their personalized proﬁles (set preferences). Alternatively, and for testing purposes, it is
considered the option of providing similar services to anonymous users.

1. Scan product codes. This process requires customers to use their smartphone to scan the Quick
Response codes or Augmented Reality patterns labeled on the particular product their interested
and as a result of this simple gesture, the personalized information can be visualized on screen
granulating details based on the preferences they set previously.

Figure 3: Simple gestures for retrieval of information

Real consumers were selected to both deﬁne pilot features and test the pilot itself and assess their
satisfaction with the implementation. Feedback from end users (consumers) is a key point to assess
viability and compliance with their expectations. For this, several sessions were planned in order to
involve consumers in the pilot. The sessions are called workshops with consumers, because of their
interactive and open to discussion nature between consumers and retailer.

The objective of those workshops was to involve a panel of 15-20 consumers in all the process
of the pilot, its conception, development and evaluation, as to identify their needs and requirements
as consumers, then to test and to validate the pilot mock-ups and its ﬁnal version. The planning of
workshops most suitable for our expected objectives resulted as follows:

• Pre-Workshop. Objective: To know the opinion of consumers about the future supermarket and

habits of consumption. Participants: A total of 14 people.

• 1st Workshop. Objective: Introduction to the project, analysis of the current situation (myriad
of logos, lack of information) and stipulation of which product attributes consumer would like to
know and how while shopping. Participants: Panel of consumers of 15 people.

54

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• 2nd Workshop. Objective: Experimentation with the ﬁrst release of the pilot at supermarket
premises to validate the technology and to improve it according to panel of consumers’ proposals.
Participants: Same panel of consumers of 10 people.

• 3rd Workshop. Objective: Experimentation with the second release of the pilot at supermarket
premises to a ﬁnal validation and to get the feedback of expectative of the panel. Participants:
Same panel of consumers.

The results of the workshops helped to ensure the feasibility of an open deployment of the pilot
in a real supermarket. The development of all workshops with consumers in a closed environment al-
lowed detecting and improving the pilot in order to make the decision for an open deployment in any
supermarket assuring the viability of it.

The workshops have been deﬁned aiming the next objectives:
• Pre-workshop. To know the opinion of consumers about the future supermarket and way of con-

sumption.

• 1st workshop. Introduction to the project, analysis of the current situation (jungle of logos, lack
of information) and stipulation of which product attributes consumer would like to know and how
while shopping

• 2nd workshop. Experimentation with the ﬁrst release of the TIC app at supermarket premises to

validate the technology and to improve it according to panel of consumers’ proposals.

• 3rd workshop. Experimentation with the second release of the TIC app at supermarket premises

for a ﬁnal validation and to get the feedback of expectative of the panel.

The number of workshops has been chosen to match the phases of the pilot development. In this
way, a calendar has been developed for setting the dates of each workshop so they could be planed and
organised in advance.

As a result of the pre-workshop and ﬁrst workshop, the attributes that consumers consider as more

interesting and are willing to be informed about while shopping are depicted in Fig. 4.

Regarding the ways of getting product information that consumers ﬁnd more interesting and would
like to use while shopping, it points out that consumers want to get the information through a new
technology device like a screen, a scanner or a Smartphone. The Smartphone is a mix of screen and
scanner.

It has been also identiﬁed that there is a lack of information related to products for the costumer
in the supermarket environment, and when the information is available it is difﬁcult to understand it.
It is notably that not all the currently provided information is useful or interesting for the consumer.
Customers disagree with raising the product price or paying any money to gather the tailored information.
But in the other hand, they are willing to start using a real market application with the same characteristics
that the ones offered by the proofs of concept and are very receptive to use the new technologies while
shopping, and they prefer them over the classical supermarket communications, as SMS or old-fashion
mailing.

4 Solution Description

In order to implement the pilot with the features and requirements derived from the previous study it
became necessary to use all the potential of the expected Future Internet’s capabilities [1] to improve

55

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 4: Results on product attributes interest

food awareness among consumers. The Future Internet’s capabilities referred above have provided the
pilot with scalability, security, performance and data integration by implementing cloud hosting, bridging
of IoT enabled interfaces and services and open interfaces to new services.

The pilot targets all the mechanisms (e.g. applications, infrastructure, data and communication mod-
els) that enable consumers to request information of a speciﬁc product using their Smartphone before/-
during and after their shopping process; so they only get the right product attributes of their interest
according to their consumer shopping proﬁle. This requires an infrastructure for managing consumer
proﬁle data (taking into account security and privacy issues) and for managing product attributes. The
pilot is mainly focused on the data management and provision to consumers.

The data provision to the consumer is carried out by two ways:
• Providing tailored product information from selected products that costumers will ﬁnd in the su-

permarket.

• Showing hidden information from logos and signs which can be found in some products, usually

processed products.

In order to match the consumer’s interests, users can create a dynamic consumer proﬁle in order to
know what information they are interested in by fulﬁlling a web form which is later mapped to a JSON
document (Fig. 5). The generation of tailored information depends on those proﬁles so this characteristic
allows more accurate information matching in comparison with the generic and ﬁxed information pro-
vision of products’ labels. Similar process is used to virtualize real world attributes or objects such as:
description of products, notiﬁcations, etcetera so that can be treated as interacting objects and integrated
in the solution.

Having tailored information after a matching process leverages privacy and security issues. As this
information is supposed to be managed, in the future, by external entities in the form of Generic Enablers
(GE) [7]; consumers, inside the pilot, will be owners of all the tailored data they consume and produce.
Consumers can also make use of anonymous proﬁles in the case they are not interested on permanently
sharing their information with the supermarket, the service cloud and GEs behind.

56

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 5: Transforming attributes into interacting objects

There are three main parts in the pilot that are described in this section.

• The client side, which encloses the technological developments that allow consumers getting tai-

lored information from the supermarket infrastructure using a smartphone (user domain).

• The infrastructure side encloses all the developments being executed in the supermarket domain.
As the tailored information generation of this side, is not a stand-alone process, the supermarket
domain makes use of a set of GEs that provides some functionalities that will be mentioned in next
sections.

• The communication approaches implemented to support distinct types of notiﬁcations

Clients A standard smartphone with updated software can be used to test the web app pilot. Among
standard features to be used are: camera, scanner software and HTML5 enabled web browser. Behind
the client side it has been deﬁned a web service based architecture [15], and its corresponding implemen-
tation is able to tackle the traditional limitations exposed by typical client approaches where interfaces
are tailored to ﬁt speciﬁc deployment conditions (varieties of mobile and desktop environments). In this
pilot, a web-style client provides service access with a solid and standard-compliant client framework
that can be invoked from any user equipment with minimum requirements such as a web browser with
HTML5 [4] support.

Since the terminal is the entry point of supermarket’s users; the use of HTML5/Javascript based
technologies (through web browsers) directly expands the reachability of users. This is because, there
are several mobile operating systems, such as: Android, iOS, Blackberry and so on; so tackling the
tailoring information process for every existing mobile Operating System (OS) could be a drawback for

57

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

the whole process. Focusing on the scanning of Quick Response codes or Agumented Reality patterns
simpliﬁes the RFID interaction exposed at [16].

Infrastructure The infrastructure (TIS server) is in charge of linking product related information
databases with consumer needs, and gives to them in the easiest way the tailored information requested.
A key issue is to develop a subsystem that allows collecting and managing dynamic information and data
generated at different points of the supply chain. An additional module has been developed in charge of
providing the means for the mobile application to retrieve supermarket privacy policy, which describes
what information, does supermarket need from the users of the application and the purpose of usage. As
in our case, supermarket only requires the information for a single purpose that is, to provide tailored
information, and always wants access to the same information; only one privacy policy was created and
exposed via module. This application is called from the GUI to obtain the needed information.

The web services layer is developed through an Enterprise Service Bus (ESB) which exposes Restful
web services in order to be invoked by any application. When a request arrives to the ESB, the message
work-ﬂow (MF) analyses and determines from source of the URL that invokes this message (Fig. 6).
Next, The URL ﬁlter determines if that URL is compatible with the existing patterns. Once the URL has
passed the ﬁlter, it arrives to a router (choice component) that addresses the request to the right service.
If there is an error, it is redirected to another message workﬂow that keeps a log of every request.

Cloud oriented deﬁnition of the architecture and use of HTML5 eases the addition of new function-

alities.

Figure 6: Message workﬂow in webservices

58

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Notiﬁcations Following the pull communication approach, the consumers obtain information from
web pilot application once requests automatically trigger an information request to the proper entity (that
could also redirect to another application server or process itself the information), and eventually that
entity might requests information to the Generic Enablers. In the content adaptation process the TIC
application servers should make use of the existing proﬁle information of the user for customizing the
content, even if the request has just being issued (Fig. 7).

Figure 7: Message exchange

In the scenario of smart notiﬁcations, the tailored information is pushed to the consumers’ smart-
phones; so here web pilot accepts event subscriptions from the clients and manage if this subscriptions
involves asynchronous events from the application Servers or Generic Enablers systems. Hence, the web
pilot not only customizes the information but also correlates the correct events arriving from the proper
server (Fig. 8).

Figure 8: Smart notiﬁcation scenario

Another important scenario of smart notiﬁcations takes place in the post-shopping activities with
an alert notiﬁcation mechanism. A key issue in this regard, was to develop a subsystem that allows
collecting and managing dynamic information and data generated at different points of the supply chain
to have full transparency data available to the consumer.

59

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

In a food alert scenario (contingency notiﬁcation), a health government organization could detect
a problem in a particular delivery of food and trace the supermarkets that sell these products. The
supermarket needs to locate the customer which purchased the problematic product and send him/her an
alert. As the customer contact information is conﬁdential and restricted to users with Fidelity card we
need to change the customer registration business process to ask the customer if they want to be notiﬁed
when a food alert occurs.

The alert delivery to customers is handled by different media, email, push notiﬁcations and also
phone calls. In the case of push notiﬁcations the speciﬁcation of the alert delivery is described in the
workﬂow of Fig. 9.

Figure 9: Smart notiﬁcation in food alert scenario

As can be seen, the customer’s mobile device subscribes to the supermarket information system
through the Web pilot and this system stores the callback information of the customer in a private
database. When the food safety agency notiﬁes the supermarket a food alert, the customer callbacks
are fetched and the notiﬁcation is delivered to their mobile phone.

A list of all features that have been integrated so far in the pilot is summarized below:
• Smart notiﬁcation system that allows direct messages to particular consumers that ﬁt certain pref-
erences. This feature is mostly useful when information of products is updated, new items arrive
to the supermarke, contingencies warnings and etcetera.

• Augmented reality features, by overlapping virtual objects with personalized information.
• Identity Management GCP GE [8]. Identify management controls the way users deﬁne policies

regarding preferences and privacy.

• IaaS Data Center Resource Management [12]. Provides cloud-based services for deploying appli-

cations.

• Tailored information system. The information provider retrieves the information regarding prod-
ucts; so even if the matching occurs outside of the domain of the provider, as an example in the
supermarket, this building block can work. As an example of this the front layer of the mobile
application is decoupled from the database which stores product data.

60

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• Integration of a logo recognition tool. Logo recognition functionality is provided by a service
developed by another partner from Smart Agri-Food project and is focused on identifying logos
on products and providing consumers with descriptive information.

• Front-end. Implemented using fully HTML5/Javascript codes which allow users to make use of
the application by using the web browser available on their smartphones (no need of additional
plug-ins), and deﬁne which internal capabilities, such as cameras, will be available through the
whole shopping process.

• Integration of fTRACE pilot. The fTRACE pilot [18] is about tracking, tracing and awareness of

meat products.

These features together form a M2M communication [2] environment since they integrate devices
and heterogonous backend systems into one (Future Supermarket) service platform (Fig. 10). The web
pilot has been hosted on a FI-WARE cloud hosting enabler service and its services tested at Bonpreu
supermarket facilities located in Barcelona (Spain). Bonpreu is a medium size store composed by a
dry products section, a bakery and a big fresh food area with fresh fruit and vegetables, a butcher and
ﬁsh/seafood services. The main client proﬁle of this shop is middle-aged middle-high class consumers,
according to the neighborhood proﬁle.

Figure 10: Pilot implementation

The premises include a Consumers’ Space which is used for consumer-retailer interaction in order
to have feedback from its regular consumers. It has been chosen as the best site for pilot deployment
because of the following reasons:

• The medium size of the supermarkets represents the best conditions for a prototype test.
• The location of the supermarket and the Consumers’ space is in a young and dynamic neighbor-
hood; and so is the proﬁle of its clients. Young and dynamic consumers are more likely to be used

61

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

and interested in new technologies. Therefore, the panel of consumers consisting of clients of the
supermarket will be easy to create and be involved in the project.

• The deployment of all equipment needed for TIC pilot can be set up in the Consumers’ space,

which provides enough room for it.

• The Consumers’ space represents a perfect place for developing TIC pilot tests in a closed and
controlled environment, using pilot products from the supermarket and totally equipped for the
development of the workshops with consumers.

5 Consumer Evaluation

For the 2nd workshop, a variety of products were used for the experimentation, having each product its
unique QR code. The process was quite simple: consumers needed to connect to supermarket’s Wi-Fi
network and to get access to the online app using an URL, select the language, then register to create their
own consumer proﬁle by ﬁlling in a short questionnaire about their preferences (“I am interested in: food
origin, sustainability aspects, chemical content, allergens, animal welfare, etc.”), afterwards scanning the
QR code to get the product information that ﬁts with their consumer proﬁle and ﬁnally the application
showed the tailored information of that product.

The 3rd workshop was performed in two parts: (1) presentation of the TIC app (summary of its
functionalities), (2) test with the TIC app using the Smartphone of each participant. Instructions on how
to proceed with the test were explained. The Web app was valued by the consumers with an average
score of 7.2/10.

Starting from 2nd workshop and through 3rd one, consumers were able to test two iterations of the
TIC Web app. The ﬁrst test allowed detecting some problems and improvements that were corrected for
the second test. New functionalities were included to be tested in the 3rd workshop. Fig. 11 compares the
technical evaluation of the pilot for each functionality and a global evaluation of the web pilot regarding
conceptual value for consumers.

Figure 11: Comparison between 1st and 2nd tests

As a conclusion, we can say that consumers participating in the process for pilot evaluation were very
interested and motivated in the web pilot and are willing to use the Web app. Percentage of consumers
that would use the web app while shopping grew up from an initial 57 percent after the ﬁrst test to 70
percent after the second test, showing a substantial increase in appreciation.

62

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

With the workshops outputs in mind, a solid architecture has been deﬁned to support the next generic

features:

• Accurate, since it retrieves data from reliable sources located at cloud hosting.
• Granulated, since it ﬁlters information based on user preferences and proﬁled with the interaction

of Generic Enablers (GE)

• Advanced information, since it has been designed to include new information items and, most im-
portantly, serve as a communication link in order to inform customers in the case of contingencies
related to: health, logistics and so on.

6 Conclusion

According to the results of consumer’s evaluations of the web pilot developed [10] and the whole de-
velopment process itself including additions of Augmented Reality and Smart Notiﬁcation features, we
have concluded that the implementation of an information system with support for extended features in a
future shopping environment can be radically beneﬁted from state-of-the-art internet-based networks and
services such as those provided by the IoT and M2M paradigms. Cloud allocation of servers and use of
HTML5 in client side are helpful for the addition of new emerging functionalities. The users (customers)
involvement along the development stages helps ensure the successful integration of the expected func-
tionalities and provides with the foundations required in order to continuously satisfy the ever changing
needs from customers. Concerning business value, those retailers satisfying customer expectations and
needs about food information will have direct economic beneﬁts due to a gain of new customers, loyalty
cultivation of the current consumers and a slightly increase of the shopping volume (marginal purchase).
Feedbacks obtained from workshops with consumers have helped us to deﬁne new functionalities
that shall be tackled in the next phases of the web pilot such as: (i) Improving shopping experience
using gesture identiﬁcation by interacting with devices with multiple sensors that detect gestures; (ii)
Extension of shopping trolley and integration with personal devices. An extended shopping trolley with
screens or any other human interface can also be integrated with the TIC pilot. In the same way, as the
Gesture identiﬁcation scenario, the trolley can interact with the mobile device for fetching information
regarding shopping lists, proﬁles or preferences; (iii) Prosumerization of supermarket scenarios. The
web pilot shall integrate a composition environment which enables service personalization for end-users
supporting service publication, search and discovery and updating mechanisms and integration with cur-
rent supermarket infrastructure (customer identiﬁcation, accounting, billing, notiﬁcation processes, etc).
This is needed to develop self-contained components to be used in service creation and personalization
processes by end-users following the prosumer approach.

Acknowledgments

This work is part of the Smart Agri-Food project [18] which has been funded by the EU 7th Framework
Programme and whose activities are carried out within the scope of FI-PPP [1] and is also supported
by project CALISTA TEC2012-32457. The authors would like to thank all the project partners for their
valuable contributions to the project itself which are inherently reﬂected in the paper.

63

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

on their way to supermarket. The lack of granulated and speciﬁc information may discourage
potential customers to consider their products.

• Supermarkets miss the opportunity to engage customer’s loyalty by satisfying their shopping needs
beyond of ﬁdelity cards and suggesting special offers directed to market groups. Despite the close
relationship between supermarket and customers, current approaches make difﬁcult to suggest the
most suitable selection of products to customers based on predeﬁned criteria.

The challenges exposed above can be overcome with the implementation of an information system
based on the Machineto- Machine communications and Internet of Things approaches. Support for
additional requirements from Food-Awareness and future shopping behaviors can also be satisﬁed with
these new approaches.

One of the utmost challenges to be solved is represented by the paramount complexity of dealing with
sources of data geographically scattered across distinct locations with distinct maintainers and owners:
manufacturers, supermarket and customers (Fig. 1); and the associated difﬁculty to construct useful
information from those data that can be relevant in different stages of the supply and shopping processes.

Figure 1: Scattering of information sources

Manufacturers are in charge of maintaining the information related to their products: ingredients,
manufacturing processes, origin and etcetera. Only certain amount of this information is published
whether on product labels or corporative website and its interpretation might confuse readers.

Supermarkets manage information useful for setting the sale price on their own premises, stock,
suppliers, customers’ subscriptions, sales records and so on. Most of this information remains private for
corporative purposes.

Customers contribute with their preferences and interests. Unfortunately, current approaches do not
exploit that valuable information to the maximum as customer preferences are not managed in a proper
manner so that proﬁling of product offers can be directed to particular customers based on updatable
consumer proﬁles.

51

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

By surpassing those information management issues, current technology advances enable customers
to consult granulated and personalized information about products by using simply using their smart-
phones to scan QR codes or entering identiﬁcation codes labeled on products.

Interoperability and interaction with heterogeneous sources of information, devices or virtual objects
[11] describe the vision of the future supermarket environment. In order to achieve those goals, some
adaptations must be made:

• Supermarket must establish a categorization of features that best describe their products so that can
be useful to establish the foundations of customers’ proﬁles which is one of the goals of the Future
Internet’s platforms [6] and also to reﬂect their interests: product processing, chemical use, origin,
nutritional information, welfare certiﬁcations and etcetera. This task can beneﬁt from the knowl-
edge that supermarkets have about their customers and, as a result, an information system can be
built to manage these data so that customers can identify with them and select their preferences
and eventually update them.

• Setting up an accessible platform where every link of the product value chain is able to collect,
store and update the data is managing and producing at every step: new ingredients added, new raw
material providers, eventual environmental issues during transportation, new recommendations of
use, recipes and so on. The information collected in this accessible platform should be easy to be
consumed by friendly and fast interfaces so that no additional software or complex conﬁgurations
take place in the process which in turn might downgrade the user experience.

The Smart Agri-Food Project [18] is part of the Future Internet Public-Private Partnership (FI-PPP)
program [1] and addresses farming, agri-logistics and food awareness use-cases by aiming the boost of
application and use of future internet ICTs [6] in the Agri-Food domain. The web pilot described in
this paper has been developed as part of this project within the Food Awareness use case by providing
internetworking among all the virtual or physical objects and interfaces so that consumers are able to
request and retrieve information of a speciﬁc product using their smartphone. The information retrieved
is matched with the consumers’ shopping proﬁles previously set on the sign-up process.

3 Development Based on Co-Participation

Customers are moving away from traditional roles to become co-creators and consumers of value [13],
with this assertion in mind it becomes a quite useful task to involve customers in the development stages
of an information service solution for a supermarket with the extended features mentioned above. The
proper interpretation of consumer expectations must be based on an iterative communication scheme
so that initial and subsequent opinions are validated and used as external ideas that feed the internal
ones so that technology selection and development are pushed forward [3]. With this communicative
development method, all the needs of co-creation and co-development approaches are fulﬁlled and it is
possible to harness the potential of the external ideas.

To clearly understand the user needs and visualize possible challenges and limitations on certain sce-
narios it is quite useful to consider the user participation in the development stages. Cooperation applied
in the customization of services provides consumers with the ability to communicate in a compelling
experience characterized by an intrinsic enjoyment and engagement that is prone to be repeated [14].
When developing a personalized Future Internet [6] information system for shopping environments, user
involvement is a must, so that new opportunities could arise:

• for supermarkets and consumers regarding loyalty relationships and thoughtfulness.

52

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• for manufacturers and governments as they beneﬁt from having an service infrastructure where
smart notiﬁcations and updates can be sent to customers and citizens in case of contamination
contingences.

Figure 2: Food awareness concept in pilot developed

The pilot features have been deﬁned and speciﬁed by focusing on user needs and ensuring the inter-

operability of data and knowledge sources across the product supply chain ( Fig. 2) .

A key aspect in system design was the deﬁnition of a suitable IT infrastructure to ensure easy and
secure access, integrity, collection, updates, processing and communication of information to consumers
while supporting the Food Awareness concept. In this stage the next guidelines have been deﬁned:

For Supermarkets

1. Setting up an information management infrastructure. This infrastructure must ensure the proper
storage and management of heterogeneous information which includes: customer’ preferences,
proﬁling features, information updates, notiﬁcations, triggered alerts and etcetera. In this process,
wireless coverage must be ensured for customers at supermarket premises so that no connectivity
issues can affect the shopping process.

2. Communicate with external entities. Another leg of this platform must deal with the communica-
tion with external servers that can perform complex tasks. In the solution developed, those external
servers take the form of generic enablers that provide the whole system with processing capabili-
ties (logo recognition, identity management, etcetera) that remain isolated from client domain and
can be extended to provide more complex calculations and retrieve sharp information based on
customer preferences.

53

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

For Manufacturers

1. Maintain product information updated Manufacturers can have an accessible interface, via super-

market infrastructure, to maintain and extend information that describes their products.

For customers (Fig. 3)

1. Sign-up to supermarket service The customers should use their smartphone to point the web
browser to a particular URL using the supermarket premises (wireless access) and then sign up
to create their personalized proﬁles (set preferences). Alternatively, and for testing purposes, it is
considered the option of providing similar services to anonymous users.

1. Scan product codes. This process requires customers to use their smartphone to scan the Quick
Response codes or Augmented Reality patterns labeled on the particular product their interested
and as a result of this simple gesture, the personalized information can be visualized on screen
granulating details based on the preferences they set previously.

Figure 3: Simple gestures for retrieval of information

Real consumers were selected to both deﬁne pilot features and test the pilot itself and assess their
satisfaction with the implementation. Feedback from end users (consumers) is a key point to assess
viability and compliance with their expectations. For this, several sessions were planned in order to
involve consumers in the pilot. The sessions are called workshops with consumers, because of their
interactive and open to discussion nature between consumers and retailer.

The objective of those workshops was to involve a panel of 15-20 consumers in all the process
of the pilot, its conception, development and evaluation, as to identify their needs and requirements
as consumers, then to test and to validate the pilot mock-ups and its ﬁnal version. The planning of
workshops most suitable for our expected objectives resulted as follows:

• Pre-Workshop. Objective: To know the opinion of consumers about the future supermarket and

habits of consumption. Participants: A total of 14 people.

• 1st Workshop. Objective: Introduction to the project, analysis of the current situation (myriad
of logos, lack of information) and stipulation of which product attributes consumer would like to
know and how while shopping. Participants: Panel of consumers of 15 people.

54

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• 2nd Workshop. Objective: Experimentation with the ﬁrst release of the pilot at supermarket
premises to validate the technology and to improve it according to panel of consumers’ proposals.
Participants: Same panel of consumers of 10 people.

• 3rd Workshop. Objective: Experimentation with the second release of the pilot at supermarket
premises to a ﬁnal validation and to get the feedback of expectative of the panel. Participants:
Same panel of consumers.

The results of the workshops helped to ensure the feasibility of an open deployment of the pilot
in a real supermarket. The development of all workshops with consumers in a closed environment al-
lowed detecting and improving the pilot in order to make the decision for an open deployment in any
supermarket assuring the viability of it.

The workshops have been deﬁned aiming the next objectives:
• Pre-workshop. To know the opinion of consumers about the future supermarket and way of con-

sumption.

• 1st workshop. Introduction to the project, analysis of the current situation (jungle of logos, lack
of information) and stipulation of which product attributes consumer would like to know and how
while shopping

• 2nd workshop. Experimentation with the ﬁrst release of the TIC app at supermarket premises to

validate the technology and to improve it according to panel of consumers’ proposals.

• 3rd workshop. Experimentation with the second release of the TIC app at supermarket premises

for a ﬁnal validation and to get the feedback of expectative of the panel.

The number of workshops has been chosen to match the phases of the pilot development. In this
way, a calendar has been developed for setting the dates of each workshop so they could be planed and
organised in advance.

As a result of the pre-workshop and ﬁrst workshop, the attributes that consumers consider as more

interesting and are willing to be informed about while shopping are depicted in Fig. 4.

Regarding the ways of getting product information that consumers ﬁnd more interesting and would
like to use while shopping, it points out that consumers want to get the information through a new
technology device like a screen, a scanner or a Smartphone. The Smartphone is a mix of screen and
scanner.

It has been also identiﬁed that there is a lack of information related to products for the costumer
in the supermarket environment, and when the information is available it is difﬁcult to understand it.
It is notably that not all the currently provided information is useful or interesting for the consumer.
Customers disagree with raising the product price or paying any money to gather the tailored information.
But in the other hand, they are willing to start using a real market application with the same characteristics
that the ones offered by the proofs of concept and are very receptive to use the new technologies while
shopping, and they prefer them over the classical supermarket communications, as SMS or old-fashion
mailing.

4 Solution Description

In order to implement the pilot with the features and requirements derived from the previous study it
became necessary to use all the potential of the expected Future Internet’s capabilities [1] to improve

55

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 4: Results on product attributes interest

food awareness among consumers. The Future Internet’s capabilities referred above have provided the
pilot with scalability, security, performance and data integration by implementing cloud hosting, bridging
of IoT enabled interfaces and services and open interfaces to new services.

The pilot targets all the mechanisms (e.g. applications, infrastructure, data and communication mod-
els) that enable consumers to request information of a speciﬁc product using their Smartphone before/-
during and after their shopping process; so they only get the right product attributes of their interest
according to their consumer shopping proﬁle. This requires an infrastructure for managing consumer
proﬁle data (taking into account security and privacy issues) and for managing product attributes. The
pilot is mainly focused on the data management and provision to consumers.

The data provision to the consumer is carried out by two ways:
• Providing tailored product information from selected products that costumers will ﬁnd in the su-

permarket.

• Showing hidden information from logos and signs which can be found in some products, usually

processed products.

In order to match the consumer’s interests, users can create a dynamic consumer proﬁle in order to
know what information they are interested in by fulﬁlling a web form which is later mapped to a JSON
document (Fig. 5). The generation of tailored information depends on those proﬁles so this characteristic
allows more accurate information matching in comparison with the generic and ﬁxed information pro-
vision of products’ labels. Similar process is used to virtualize real world attributes or objects such as:
description of products, notiﬁcations, etcetera so that can be treated as interacting objects and integrated
in the solution.

Having tailored information after a matching process leverages privacy and security issues. As this
information is supposed to be managed, in the future, by external entities in the form of Generic Enablers
(GE) [7]; consumers, inside the pilot, will be owners of all the tailored data they consume and produce.
Consumers can also make use of anonymous proﬁles in the case they are not interested on permanently
sharing their information with the supermarket, the service cloud and GEs behind.

56

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 5: Transforming attributes into interacting objects

There are three main parts in the pilot that are described in this section.

• The client side, which encloses the technological developments that allow consumers getting tai-

lored information from the supermarket infrastructure using a smartphone (user domain).

• The infrastructure side encloses all the developments being executed in the supermarket domain.
As the tailored information generation of this side, is not a stand-alone process, the supermarket
domain makes use of a set of GEs that provides some functionalities that will be mentioned in next
sections.

• The communication approaches implemented to support distinct types of notiﬁcations

Clients A standard smartphone with updated software can be used to test the web app pilot. Among
standard features to be used are: camera, scanner software and HTML5 enabled web browser. Behind
the client side it has been deﬁned a web service based architecture [15], and its corresponding implemen-
tation is able to tackle the traditional limitations exposed by typical client approaches where interfaces
are tailored to ﬁt speciﬁc deployment conditions (varieties of mobile and desktop environments). In this
pilot, a web-style client provides service access with a solid and standard-compliant client framework
that can be invoked from any user equipment with minimum requirements such as a web browser with
HTML5 [4] support.

Since the terminal is the entry point of supermarket’s users; the use of HTML5/Javascript based
technologies (through web browsers) directly expands the reachability of users. This is because, there
are several mobile operating systems, such as: Android, iOS, Blackberry and so on; so tackling the
tailoring information process for every existing mobile Operating System (OS) could be a drawback for

57

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

the whole process. Focusing on the scanning of Quick Response codes or Agumented Reality patterns
simpliﬁes the RFID interaction exposed at [16].

Infrastructure The infrastructure (TIS server) is in charge of linking product related information
databases with consumer needs, and gives to them in the easiest way the tailored information requested.
A key issue is to develop a subsystem that allows collecting and managing dynamic information and data
generated at different points of the supply chain. An additional module has been developed in charge of
providing the means for the mobile application to retrieve supermarket privacy policy, which describes
what information, does supermarket need from the users of the application and the purpose of usage. As
in our case, supermarket only requires the information for a single purpose that is, to provide tailored
information, and always wants access to the same information; only one privacy policy was created and
exposed via module. This application is called from the GUI to obtain the needed information.

The web services layer is developed through an Enterprise Service Bus (ESB) which exposes Restful
web services in order to be invoked by any application. When a request arrives to the ESB, the message
work-ﬂow (MF) analyses and determines from source of the URL that invokes this message (Fig. 6).
Next, The URL ﬁlter determines if that URL is compatible with the existing patterns. Once the URL has
passed the ﬁlter, it arrives to a router (choice component) that addresses the request to the right service.
If there is an error, it is redirected to another message workﬂow that keeps a log of every request.

Cloud oriented deﬁnition of the architecture and use of HTML5 eases the addition of new function-

alities.

Figure 6: Message workﬂow in webservices

58

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Notiﬁcations Following the pull communication approach, the consumers obtain information from
web pilot application once requests automatically trigger an information request to the proper entity (that
could also redirect to another application server or process itself the information), and eventually that
entity might requests information to the Generic Enablers. In the content adaptation process the TIC
application servers should make use of the existing proﬁle information of the user for customizing the
content, even if the request has just being issued (Fig. 7).

Figure 7: Message exchange

In the scenario of smart notiﬁcations, the tailored information is pushed to the consumers’ smart-
phones; so here web pilot accepts event subscriptions from the clients and manage if this subscriptions
involves asynchronous events from the application Servers or Generic Enablers systems. Hence, the web
pilot not only customizes the information but also correlates the correct events arriving from the proper
server (Fig. 8).

Figure 8: Smart notiﬁcation scenario

Another important scenario of smart notiﬁcations takes place in the post-shopping activities with
an alert notiﬁcation mechanism. A key issue in this regard, was to develop a subsystem that allows
collecting and managing dynamic information and data generated at different points of the supply chain
to have full transparency data available to the consumer.

59

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

In a food alert scenario (contingency notiﬁcation), a health government organization could detect
a problem in a particular delivery of food and trace the supermarkets that sell these products. The
supermarket needs to locate the customer which purchased the problematic product and send him/her an
alert. As the customer contact information is conﬁdential and restricted to users with Fidelity card we
need to change the customer registration business process to ask the customer if they want to be notiﬁed
when a food alert occurs.

The alert delivery to customers is handled by different media, email, push notiﬁcations and also
phone calls. In the case of push notiﬁcations the speciﬁcation of the alert delivery is described in the
workﬂow of Fig. 9.

Figure 9: Smart notiﬁcation in food alert scenario

As can be seen, the customer’s mobile device subscribes to the supermarket information system
through the Web pilot and this system stores the callback information of the customer in a private
database. When the food safety agency notiﬁes the supermarket a food alert, the customer callbacks
are fetched and the notiﬁcation is delivered to their mobile phone.

A list of all features that have been integrated so far in the pilot is summarized below:
• Smart notiﬁcation system that allows direct messages to particular consumers that ﬁt certain pref-
erences. This feature is mostly useful when information of products is updated, new items arrive
to the supermarke, contingencies warnings and etcetera.

• Augmented reality features, by overlapping virtual objects with personalized information.
• Identity Management GCP GE [8]. Identify management controls the way users deﬁne policies

regarding preferences and privacy.

• IaaS Data Center Resource Management [12]. Provides cloud-based services for deploying appli-

cations.

• Tailored information system. The information provider retrieves the information regarding prod-
ucts; so even if the matching occurs outside of the domain of the provider, as an example in the
supermarket, this building block can work. As an example of this the front layer of the mobile
application is decoupled from the database which stores product data.

60

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• Integration of a logo recognition tool. Logo recognition functionality is provided by a service
developed by another partner from Smart Agri-Food project and is focused on identifying logos
on products and providing consumers with descriptive information.

• Front-end. Implemented using fully HTML5/Javascript codes which allow users to make use of
the application by using the web browser available on their smartphones (no need of additional
plug-ins), and deﬁne which internal capabilities, such as cameras, will be available through the
whole shopping process.

• Integration of fTRACE pilot. The fTRACE pilot [18] is about tracking, tracing and awareness of

meat products.

These features together form a M2M communication [2] environment since they integrate devices
and heterogonous backend systems into one (Future Supermarket) service platform (Fig. 10). The web
pilot has been hosted on a FI-WARE cloud hosting enabler service and its services tested at Bonpreu
supermarket facilities located in Barcelona (Spain). Bonpreu is a medium size store composed by a
dry products section, a bakery and a big fresh food area with fresh fruit and vegetables, a butcher and
ﬁsh/seafood services. The main client proﬁle of this shop is middle-aged middle-high class consumers,
according to the neighborhood proﬁle.

Figure 10: Pilot implementation

The premises include a Consumers’ Space which is used for consumer-retailer interaction in order
to have feedback from its regular consumers. It has been chosen as the best site for pilot deployment
because of the following reasons:

• The medium size of the supermarkets represents the best conditions for a prototype test.
• The location of the supermarket and the Consumers’ space is in a young and dynamic neighbor-
hood; and so is the proﬁle of its clients. Young and dynamic consumers are more likely to be used

61

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

and interested in new technologies. Therefore, the panel of consumers consisting of clients of the
supermarket will be easy to create and be involved in the project.

• The deployment of all equipment needed for TIC pilot can be set up in the Consumers’ space,

which provides enough room for it.

• The Consumers’ space represents a perfect place for developing TIC pilot tests in a closed and
controlled environment, using pilot products from the supermarket and totally equipped for the
development of the workshops with consumers.

5 Consumer Evaluation

For the 2nd workshop, a variety of products were used for the experimentation, having each product its
unique QR code. The process was quite simple: consumers needed to connect to supermarket’s Wi-Fi
network and to get access to the online app using an URL, select the language, then register to create their
own consumer proﬁle by ﬁlling in a short questionnaire about their preferences (“I am interested in: food
origin, sustainability aspects, chemical content, allergens, animal welfare, etc.”), afterwards scanning the
QR code to get the product information that ﬁts with their consumer proﬁle and ﬁnally the application
showed the tailored information of that product.

The 3rd workshop was performed in two parts: (1) presentation of the TIC app (summary of its
functionalities), (2) test with the TIC app using the Smartphone of each participant. Instructions on how
to proceed with the test were explained. The Web app was valued by the consumers with an average
score of 7.2/10.

Starting from 2nd workshop and through 3rd one, consumers were able to test two iterations of the
TIC Web app. The ﬁrst test allowed detecting some problems and improvements that were corrected for
the second test. New functionalities were included to be tested in the 3rd workshop. Fig. 11 compares the
technical evaluation of the pilot for each functionality and a global evaluation of the web pilot regarding
conceptual value for consumers.

Figure 11: Comparison between 1st and 2nd tests

As a conclusion, we can say that consumers participating in the process for pilot evaluation were very
interested and motivated in the web pilot and are willing to use the Web app. Percentage of consumers
that would use the web app while shopping grew up from an initial 57 percent after the ﬁrst test to 70
percent after the second test, showing a substantial increase in appreciation.

62

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

With the workshops outputs in mind, a solid architecture has been deﬁned to support the next generic

features:

• Accurate, since it retrieves data from reliable sources located at cloud hosting.
• Granulated, since it ﬁlters information based on user preferences and proﬁled with the interaction

of Generic Enablers (GE)

• Advanced information, since it has been designed to include new information items and, most im-
portantly, serve as a communication link in order to inform customers in the case of contingencies
related to: health, logistics and so on.

6 Conclusion

According to the results of consumer’s evaluations of the web pilot developed [10] and the whole de-
velopment process itself including additions of Augmented Reality and Smart Notiﬁcation features, we
have concluded that the implementation of an information system with support for extended features in a
future shopping environment can be radically beneﬁted from state-of-the-art internet-based networks and
services such as those provided by the IoT and M2M paradigms. Cloud allocation of servers and use of
HTML5 in client side are helpful for the addition of new emerging functionalities. The users (customers)
involvement along the development stages helps ensure the successful integration of the expected func-
tionalities and provides with the foundations required in order to continuously satisfy the ever changing
needs from customers. Concerning business value, those retailers satisfying customer expectations and
needs about food information will have direct economic beneﬁts due to a gain of new customers, loyalty
cultivation of the current consumers and a slightly increase of the shopping volume (marginal purchase).
Feedbacks obtained from workshops with consumers have helped us to deﬁne new functionalities
that shall be tackled in the next phases of the web pilot such as: (i) Improving shopping experience
using gesture identiﬁcation by interacting with devices with multiple sensors that detect gestures; (ii)
Extension of shopping trolley and integration with personal devices. An extended shopping trolley with
screens or any other human interface can also be integrated with the TIC pilot. In the same way, as the
Gesture identiﬁcation scenario, the trolley can interact with the mobile device for fetching information
regarding shopping lists, proﬁles or preferences; (iii) Prosumerization of supermarket scenarios. The
web pilot shall integrate a composition environment which enables service personalization for end-users
supporting service publication, search and discovery and updating mechanisms and integration with cur-
rent supermarket infrastructure (customer identiﬁcation, accounting, billing, notiﬁcation processes, etc).
This is needed to develop self-contained components to be used in service creation and personalization
processes by end-users following the prosumer approach.

Acknowledgments

This work is part of the Smart Agri-Food project [18] which has been funded by the EU 7th Framework
Programme and whose activities are carried out within the scope of FI-PPP [1] and is also supported
by project CALISTA TEC2012-32457. The authors would like to thank all the project partners for their
valuable contributions to the project itself which are inherently reﬂected in the paper.

63

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

References

[1] Future internet public-private partnership (ﬁ-ppp) program. http://www.fi-ppp.eu, 2012.
[2] M. Castro, A. Jara, and A. Skarmeta. An analysis of m2m platforms: Challenges and opportunities for the
internet of things. In Proc. of the 6th International Conference on Innovative Mobile and Internet Services
in Ubiquitous Computing (IMIS’12), Palermo, Italy, pages 757–762. IEEE, July 2012.

[3] H. W. Chesbrough. Open Innovation: The New Imperative for Creating and Proﬁting from Technology.

Harvard Business School Press, 2003.

[4] E. Draft. Html 5.1 nightly. http://www.w3.org/html/wg/drafts/html/master/single-page.html,

last viewed September 2013, 2013.

[5] FI PPP SmartAgriFood Project. Deliverable D400.3 smart food awareness report on validation activities and

detailed speciﬁcation revision, 2013.

[6] FI-WARE. Fi-ware project. http://www.fi-ware.eu/, last viewed September 2013.
[7] FI WARE Project. Generic enablers. http://catalogue.fi-ware.eu/enablers, last viewed September

2013, 2013.
[8] I. M. GE.

September 2013, 2013.

http://catalogue.fi-ware.eu/enablers/identity-management-gcp,

last viewed

[9] E. global. EPC information services EPCIS speciﬁcation. Technical Report 1.0, EPC global, 2007.
[10] S. Gonzalez-Miranda, R. Alcarria, T. Robles, A. Morales, I. Gonzalez, and E. Montcada. Future supermarket:
overcoming food awareness challenges. In Proc. of the 6th International Conference on Innovative Mobile
and Internet Services in Ubiquitous Computing (IMIS’12), Palermo, Italy, pages 483–488. IEEE, July 2012.
[11] A. J. Jara, M. C. Parra, and A. F. Skarmeta. Marketing 4.0: A new value added to the marketing through the
internet of things. In Proc. of the 6th International Conference on Innovative Mobile and Internet Services
in Ubiquitous Computing (IMIS’12), Palermo, Italy, pages 852–857. IEEE, July 2012.

[12] I. D. C. R. Management. http://catalogue.fi-ware.eu/enablers/identity-management-gcp,

last viewed September 2013, 2013.

[13] C. Prahalad and V. Ramaswamy. Co-opting customer competence. Harvard Business Review, January 2000.
[14] G. G. R. Belk and S. Askegaard. The Missing Streetcar Named Desire. S. Ratneshwar, D. Mick and C.

Huffman, Eds. The Why of Consumption. Routledge, 2000.

[15] T. Robles, S. Gonz´alez-Miranda, R. Alcarria, and A. Morales. Web browser html5 enabled for ﬁ services. In
Proc. of the 6th International Conference on Ubiquitous Computing and Ambient Intelligence (UCAmI’12),
Vitoria-Gasteiz, Spain, volume 7656, pages 181–184. Springer-Verlag, December 2012.

[16] F. J. Villanueva, D. Villa, F. Moya, M. J. Santoﬁmia, and J. C. L´opez. Internet of things architecture for
an RFID-based product tracking business model. In Proc. of the 6th International Conference on Innovative
Mobile and Internet Services in Ubiquitous Computing (IMIS’12), Palermo, Italy, pages 811–816. IEEE, July
2012.

[17] J. Wilson. Shopping cart helps consumers make smarter food choices. http://www.smartplanet.com/

blog/thinking-tech/shopping-cart-helps-consumers-make-smarter-food-choices/11403,
last viewed September 2013, 2012.

[18] D. S. Wolfert. The smart agri-food project. http://www.raspberrypi.org/, 2013.

64

An IoT-leveraged information system

for future shopping environments

Sergio Gonzalez-Miranda∗, Ramon Alcarria, Tomas Robles, Augusto Morales

Telematics Department Telecommunications School
Technical University of Madrid, Madrid, Spain
{miranda, ralcarria, trobles, amorales}@dit.upm.es

Ignacio Gonzalez

ATOS Research, Spain

Eloi Montcada
Lavola, Spain

ignacio.gonzalez@atosresearch.eu

emontcada@lavola.com

Abstract

Internet of Things, as an integral part of Future Internet, covers a wide range of concepts for identiﬁ-
cation and interoperability among attributes, interfaces and objects from virtual and physical worlds.
Those concepts enable a new generation of services that can be used to tackle traditional limitations
observed in shopping environments regarding shopping process. The description of products can
become as complex as the ingredients and processes involved in their manufacturing process. That
complexity affects directly to customers which ﬁnd difﬁcult to match their preferences with the in-
formation displayed on products. Moreover, new shopping trends are emerging and are based on
preferences about: health, ingredients, manufacturing, ecological, etc. and there are no speciﬁc tools
to manage such scattered and heterogeneous types of information. This paper describes the develop-
ment of a pilot that was implemented in a real supermarket with the aim of fulﬁlling the shopping
process needs of its customers. The pilot manages virtual identities and attributes in a single and
extendable information system enriched by Smart Notiﬁcations features enabling consumers to re-
quest information of speciﬁc products using smartphones. Real customers were involved in design
and experimentation stages and the results of evaluation are also presented.

Keywords: Future Internet, IoT, M2M, user involvement, information system development, co-
creation, customization, HTML5

1 Introduction

Traditionally, shopping sites have been focused primarily on providing customers with an environment
that eases the access to products based on marketing techniques in the form of: ﬁdelity cards, design
of aisles, shelves layout, proper replenishment, stock management and etcetera. Nonetheless, with the
advent of new shopping trends by customers willing to buy only products that match their particular
ideological preferences, those shopping sites are facing the need of a revamp process to supersede those
old-fashioned techniques where product categorization and information displayed on products are static
and lacking of interactivity as they are no longer suitable to support the shopping process and satisfy
customers demands. This revamp process takes place within the search for competitiveness in super-
markets [17] and can be achieved by harnessing the power and seamless integration of current service

IT CoNvergence PRActice (INPRA), volume: 1, number: 3, pp. 49-65

∗Corresponding author: Building B - Garc´ıa Redondo Second ﬂoor. Ofﬁce B-203, ETSI Telecomunicaci´on, Ciudad Univer-

sitaria, E-28040 Madrid/Spain, Web: http://www.dit.upm.es/~miranda, Tel: +34-91-549-5700 (ext 3035)

49

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

paradigms: The Internet of Things and Machine to Machine communications [2] as they are suitable to
enable virtual, humane and non-humane participants to actively exchange data and information.

As new products ﬁll the aisles of supermarkets, it becomes more difﬁcult to maintain a minimum
knowledge about the features of interest found in all the alternatives available. Traditional shopping
behavior where products are selected based on price or marketing campaigns has evolved to demand
more information about the process involved in manufacturing, origin of the ingredients, logistics routes
and etcetera. In synchrony with the new shopping behavior, new target products have emerged based
on topics such as: vegetarian, allergens-free, transgenic, sustainability and so on. The Food Awareness
concept [5] takes into account those descriptive topics and deﬁnes the foundations of consumers’ trust in
food by prioritizing the information available about the actors involved in manufacturing and logistics.
In this paper, we extend the work previously done [10] regarding the development of an information
system implemented in a real supermarket environment. In this work we analyze the implications of pro-
viding some adaptations for the interoperability and interaction with heterogeneous sources of informa-
tion, geographically scattered across distinct locations and we contribute with an evaluation methodology
based on the deﬁnition of several sessions (workshops) with customers that constitute an interactive way
of retrieving feedback and information of user involvement and satisfaction.

The design, experimentation and implementation steps where supported by using the co-creation
model [13] and open innovation concept [3] as customers’ opinions were reﬂected in every stage of the
development. The potential of Future Internet technologies remained in the whole process of drafting
the resulting solution to guarantee the proper integration of scattered and heterogeneous data and infor-
mation sources into one service information system. The extensibility was also considered to seamlessly
include additional standard information systems such as Electronic Product Code Information Service
(EPCIS) [9] as support backend. The web pilot validation was also tested and evaluated in real shopping
conditions.

The rest of the paper is organized as follows: Section 2 describes the background regarding informa-
tion availability for customers in supermarket environments. Section 3 exposes the value of involving
users in the development cycle. Section 4 describes the resulting solution that has been developed with
the inputs obtained from customers. Section 5 presents the consumers’ opinions about the resulting web
pilot usefulness. Conclusions are summarized in Section 6.

2 Availability of Information for Customers

The classic approach employed by manufacturers and supermarkets for making information available
for customers about the products they sell is mostly based on making envelopes and presentation more
attractive and attach some type of information they considered important to show. Nonetheless, the
information presented in labels is limited to the dimensions of the label itself which in turn may derive
into a lack of certain data that customers might be interested to know. Interactivity is restrained to scan a
code or visit a URL address to access a corporative web site in order to search for additional information
with no guarantee to ﬁnd the relevant attributes.

In the light of a future shopping environment where data exchange among all the actors involved is a
top matter, the classic approach exposed above bring out a series of limitations that impedes the provision
of new services and impacts negatively on every single link of the shopping process:

• Customers must carefully read and analyze every product label and consult external sources to
best decide if that product ﬁts their interests. Relevant information is typically scattered across
heterogeneous sources: labels, websites, leaﬂets and etcetera.

• Manufacturers are not able to update or extend the information labeled on their products once

50

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

on their way to supermarket. The lack of granulated and speciﬁc information may discourage
potential customers to consider their products.

• Supermarkets miss the opportunity to engage customer’s loyalty by satisfying their shopping needs
beyond of ﬁdelity cards and suggesting special offers directed to market groups. Despite the close
relationship between supermarket and customers, current approaches make difﬁcult to suggest the
most suitable selection of products to customers based on predeﬁned criteria.

The challenges exposed above can be overcome with the implementation of an information system
based on the Machineto- Machine communications and Internet of Things approaches. Support for
additional requirements from Food-Awareness and future shopping behaviors can also be satisﬁed with
these new approaches.

One of the utmost challenges to be solved is represented by the paramount complexity of dealing with
sources of data geographically scattered across distinct locations with distinct maintainers and owners:
manufacturers, supermarket and customers (Fig. 1); and the associated difﬁculty to construct useful
information from those data that can be relevant in different stages of the supply and shopping processes.

Figure 1: Scattering of information sources

Manufacturers are in charge of maintaining the information related to their products: ingredients,
manufacturing processes, origin and etcetera. Only certain amount of this information is published
whether on product labels or corporative website and its interpretation might confuse readers.

Supermarkets manage information useful for setting the sale price on their own premises, stock,
suppliers, customers’ subscriptions, sales records and so on. Most of this information remains private for
corporative purposes.

Customers contribute with their preferences and interests. Unfortunately, current approaches do not
exploit that valuable information to the maximum as customer preferences are not managed in a proper
manner so that proﬁling of product offers can be directed to particular customers based on updatable
consumer proﬁles.

51

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

By surpassing those information management issues, current technology advances enable customers
to consult granulated and personalized information about products by using simply using their smart-
phones to scan QR codes or entering identiﬁcation codes labeled on products.

Interoperability and interaction with heterogeneous sources of information, devices or virtual objects
[11] describe the vision of the future supermarket environment. In order to achieve those goals, some
adaptations must be made:

• Supermarket must establish a categorization of features that best describe their products so that can
be useful to establish the foundations of customers’ proﬁles which is one of the goals of the Future
Internet’s platforms [6] and also to reﬂect their interests: product processing, chemical use, origin,
nutritional information, welfare certiﬁcations and etcetera. This task can beneﬁt from the knowl-
edge that supermarkets have about their customers and, as a result, an information system can be
built to manage these data so that customers can identify with them and select their preferences
and eventually update them.

• Setting up an accessible platform where every link of the product value chain is able to collect,
store and update the data is managing and producing at every step: new ingredients added, new raw
material providers, eventual environmental issues during transportation, new recommendations of
use, recipes and so on. The information collected in this accessible platform should be easy to be
consumed by friendly and fast interfaces so that no additional software or complex conﬁgurations
take place in the process which in turn might downgrade the user experience.

The Smart Agri-Food Project [18] is part of the Future Internet Public-Private Partnership (FI-PPP)
program [1] and addresses farming, agri-logistics and food awareness use-cases by aiming the boost of
application and use of future internet ICTs [6] in the Agri-Food domain. The web pilot described in
this paper has been developed as part of this project within the Food Awareness use case by providing
internetworking among all the virtual or physical objects and interfaces so that consumers are able to
request and retrieve information of a speciﬁc product using their smartphone. The information retrieved
is matched with the consumers’ shopping proﬁles previously set on the sign-up process.

3 Development Based on Co-Participation

Customers are moving away from traditional roles to become co-creators and consumers of value [13],
with this assertion in mind it becomes a quite useful task to involve customers in the development stages
of an information service solution for a supermarket with the extended features mentioned above. The
proper interpretation of consumer expectations must be based on an iterative communication scheme
so that initial and subsequent opinions are validated and used as external ideas that feed the internal
ones so that technology selection and development are pushed forward [3]. With this communicative
development method, all the needs of co-creation and co-development approaches are fulﬁlled and it is
possible to harness the potential of the external ideas.

To clearly understand the user needs and visualize possible challenges and limitations on certain sce-
narios it is quite useful to consider the user participation in the development stages. Cooperation applied
in the customization of services provides consumers with the ability to communicate in a compelling
experience characterized by an intrinsic enjoyment and engagement that is prone to be repeated [14].
When developing a personalized Future Internet [6] information system for shopping environments, user
involvement is a must, so that new opportunities could arise:

• for supermarkets and consumers regarding loyalty relationships and thoughtfulness.

52

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• for manufacturers and governments as they beneﬁt from having an service infrastructure where
smart notiﬁcations and updates can be sent to customers and citizens in case of contamination
contingences.

Figure 2: Food awareness concept in pilot developed

The pilot features have been deﬁned and speciﬁed by focusing on user needs and ensuring the inter-

operability of data and knowledge sources across the product supply chain ( Fig. 2) .

A key aspect in system design was the deﬁnition of a suitable IT infrastructure to ensure easy and
secure access, integrity, collection, updates, processing and communication of information to consumers
while supporting the Food Awareness concept. In this stage the next guidelines have been deﬁned:

For Supermarkets

1. Setting up an information management infrastructure. This infrastructure must ensure the proper
storage and management of heterogeneous information which includes: customer’ preferences,
proﬁling features, information updates, notiﬁcations, triggered alerts and etcetera. In this process,
wireless coverage must be ensured for customers at supermarket premises so that no connectivity
issues can affect the shopping process.

2. Communicate with external entities. Another leg of this platform must deal with the communica-
tion with external servers that can perform complex tasks. In the solution developed, those external
servers take the form of generic enablers that provide the whole system with processing capabili-
ties (logo recognition, identity management, etcetera) that remain isolated from client domain and
can be extended to provide more complex calculations and retrieve sharp information based on
customer preferences.

53

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

For Manufacturers

1. Maintain product information updated Manufacturers can have an accessible interface, via super-

market infrastructure, to maintain and extend information that describes their products.

For customers (Fig. 3)

1. Sign-up to supermarket service The customers should use their smartphone to point the web
browser to a particular URL using the supermarket premises (wireless access) and then sign up
to create their personalized proﬁles (set preferences). Alternatively, and for testing purposes, it is
considered the option of providing similar services to anonymous users.

1. Scan product codes. This process requires customers to use their smartphone to scan the Quick
Response codes or Augmented Reality patterns labeled on the particular product their interested
and as a result of this simple gesture, the personalized information can be visualized on screen
granulating details based on the preferences they set previously.

Figure 3: Simple gestures for retrieval of information

Real consumers were selected to both deﬁne pilot features and test the pilot itself and assess their
satisfaction with the implementation. Feedback from end users (consumers) is a key point to assess
viability and compliance with their expectations. For this, several sessions were planned in order to
involve consumers in the pilot. The sessions are called workshops with consumers, because of their
interactive and open to discussion nature between consumers and retailer.

The objective of those workshops was to involve a panel of 15-20 consumers in all the process
of the pilot, its conception, development and evaluation, as to identify their needs and requirements
as consumers, then to test and to validate the pilot mock-ups and its ﬁnal version. The planning of
workshops most suitable for our expected objectives resulted as follows:

• Pre-Workshop. Objective: To know the opinion of consumers about the future supermarket and

habits of consumption. Participants: A total of 14 people.

• 1st Workshop. Objective: Introduction to the project, analysis of the current situation (myriad
of logos, lack of information) and stipulation of which product attributes consumer would like to
know and how while shopping. Participants: Panel of consumers of 15 people.

54

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• 2nd Workshop. Objective: Experimentation with the ﬁrst release of the pilot at supermarket
premises to validate the technology and to improve it according to panel of consumers’ proposals.
Participants: Same panel of consumers of 10 people.

• 3rd Workshop. Objective: Experimentation with the second release of the pilot at supermarket
premises to a ﬁnal validation and to get the feedback of expectative of the panel. Participants:
Same panel of consumers.

The results of the workshops helped to ensure the feasibility of an open deployment of the pilot
in a real supermarket. The development of all workshops with consumers in a closed environment al-
lowed detecting and improving the pilot in order to make the decision for an open deployment in any
supermarket assuring the viability of it.

The workshops have been deﬁned aiming the next objectives:
• Pre-workshop. To know the opinion of consumers about the future supermarket and way of con-

sumption.

• 1st workshop. Introduction to the project, analysis of the current situation (jungle of logos, lack
of information) and stipulation of which product attributes consumer would like to know and how
while shopping

• 2nd workshop. Experimentation with the ﬁrst release of the TIC app at supermarket premises to

validate the technology and to improve it according to panel of consumers’ proposals.

• 3rd workshop. Experimentation with the second release of the TIC app at supermarket premises

for a ﬁnal validation and to get the feedback of expectative of the panel.

The number of workshops has been chosen to match the phases of the pilot development. In this
way, a calendar has been developed for setting the dates of each workshop so they could be planed and
organised in advance.

As a result of the pre-workshop and ﬁrst workshop, the attributes that consumers consider as more

interesting and are willing to be informed about while shopping are depicted in Fig. 4.

Regarding the ways of getting product information that consumers ﬁnd more interesting and would
like to use while shopping, it points out that consumers want to get the information through a new
technology device like a screen, a scanner or a Smartphone. The Smartphone is a mix of screen and
scanner.

It has been also identiﬁed that there is a lack of information related to products for the costumer
in the supermarket environment, and when the information is available it is difﬁcult to understand it.
It is notably that not all the currently provided information is useful or interesting for the consumer.
Customers disagree with raising the product price or paying any money to gather the tailored information.
But in the other hand, they are willing to start using a real market application with the same characteristics
that the ones offered by the proofs of concept and are very receptive to use the new technologies while
shopping, and they prefer them over the classical supermarket communications, as SMS or old-fashion
mailing.

4 Solution Description

In order to implement the pilot with the features and requirements derived from the previous study it
became necessary to use all the potential of the expected Future Internet’s capabilities [1] to improve

55

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 4: Results on product attributes interest

food awareness among consumers. The Future Internet’s capabilities referred above have provided the
pilot with scalability, security, performance and data integration by implementing cloud hosting, bridging
of IoT enabled interfaces and services and open interfaces to new services.

The pilot targets all the mechanisms (e.g. applications, infrastructure, data and communication mod-
els) that enable consumers to request information of a speciﬁc product using their Smartphone before/-
during and after their shopping process; so they only get the right product attributes of their interest
according to their consumer shopping proﬁle. This requires an infrastructure for managing consumer
proﬁle data (taking into account security and privacy issues) and for managing product attributes. The
pilot is mainly focused on the data management and provision to consumers.

The data provision to the consumer is carried out by two ways:
• Providing tailored product information from selected products that costumers will ﬁnd in the su-

permarket.

• Showing hidden information from logos and signs which can be found in some products, usually

processed products.

In order to match the consumer’s interests, users can create a dynamic consumer proﬁle in order to
know what information they are interested in by fulﬁlling a web form which is later mapped to a JSON
document (Fig. 5). The generation of tailored information depends on those proﬁles so this characteristic
allows more accurate information matching in comparison with the generic and ﬁxed information pro-
vision of products’ labels. Similar process is used to virtualize real world attributes or objects such as:
description of products, notiﬁcations, etcetera so that can be treated as interacting objects and integrated
in the solution.

Having tailored information after a matching process leverages privacy and security issues. As this
information is supposed to be managed, in the future, by external entities in the form of Generic Enablers
(GE) [7]; consumers, inside the pilot, will be owners of all the tailored data they consume and produce.
Consumers can also make use of anonymous proﬁles in the case they are not interested on permanently
sharing their information with the supermarket, the service cloud and GEs behind.

56

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Figure 5: Transforming attributes into interacting objects

There are three main parts in the pilot that are described in this section.

• The client side, which encloses the technological developments that allow consumers getting tai-

lored information from the supermarket infrastructure using a smartphone (user domain).

• The infrastructure side encloses all the developments being executed in the supermarket domain.
As the tailored information generation of this side, is not a stand-alone process, the supermarket
domain makes use of a set of GEs that provides some functionalities that will be mentioned in next
sections.

• The communication approaches implemented to support distinct types of notiﬁcations

Clients A standard smartphone with updated software can be used to test the web app pilot. Among
standard features to be used are: camera, scanner software and HTML5 enabled web browser. Behind
the client side it has been deﬁned a web service based architecture [15], and its corresponding implemen-
tation is able to tackle the traditional limitations exposed by typical client approaches where interfaces
are tailored to ﬁt speciﬁc deployment conditions (varieties of mobile and desktop environments). In this
pilot, a web-style client provides service access with a solid and standard-compliant client framework
that can be invoked from any user equipment with minimum requirements such as a web browser with
HTML5 [4] support.

Since the terminal is the entry point of supermarket’s users; the use of HTML5/Javascript based
technologies (through web browsers) directly expands the reachability of users. This is because, there
are several mobile operating systems, such as: Android, iOS, Blackberry and so on; so tackling the
tailoring information process for every existing mobile Operating System (OS) could be a drawback for

57

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

the whole process. Focusing on the scanning of Quick Response codes or Agumented Reality patterns
simpliﬁes the RFID interaction exposed at [16].

Infrastructure The infrastructure (TIS server) is in charge of linking product related information
databases with consumer needs, and gives to them in the easiest way the tailored information requested.
A key issue is to develop a subsystem that allows collecting and managing dynamic information and data
generated at different points of the supply chain. An additional module has been developed in charge of
providing the means for the mobile application to retrieve supermarket privacy policy, which describes
what information, does supermarket need from the users of the application and the purpose of usage. As
in our case, supermarket only requires the information for a single purpose that is, to provide tailored
information, and always wants access to the same information; only one privacy policy was created and
exposed via module. This application is called from the GUI to obtain the needed information.

The web services layer is developed through an Enterprise Service Bus (ESB) which exposes Restful
web services in order to be invoked by any application. When a request arrives to the ESB, the message
work-ﬂow (MF) analyses and determines from source of the URL that invokes this message (Fig. 6).
Next, The URL ﬁlter determines if that URL is compatible with the existing patterns. Once the URL has
passed the ﬁlter, it arrives to a router (choice component) that addresses the request to the right service.
If there is an error, it is redirected to another message workﬂow that keeps a log of every request.

Cloud oriented deﬁnition of the architecture and use of HTML5 eases the addition of new function-

alities.

Figure 6: Message workﬂow in webservices

58

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Notiﬁcations Following the pull communication approach, the consumers obtain information from
web pilot application once requests automatically trigger an information request to the proper entity (that
could also redirect to another application server or process itself the information), and eventually that
entity might requests information to the Generic Enablers. In the content adaptation process the TIC
application servers should make use of the existing proﬁle information of the user for customizing the
content, even if the request has just being issued (Fig. 7).

Figure 7: Message exchange

In the scenario of smart notiﬁcations, the tailored information is pushed to the consumers’ smart-
phones; so here web pilot accepts event subscriptions from the clients and manage if this subscriptions
involves asynchronous events from the application Servers or Generic Enablers systems. Hence, the web
pilot not only customizes the information but also correlates the correct events arriving from the proper
server (Fig. 8).

Figure 8: Smart notiﬁcation scenario

Another important scenario of smart notiﬁcations takes place in the post-shopping activities with
an alert notiﬁcation mechanism. A key issue in this regard, was to develop a subsystem that allows
collecting and managing dynamic information and data generated at different points of the supply chain
to have full transparency data available to the consumer.

59

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

In a food alert scenario (contingency notiﬁcation), a health government organization could detect
a problem in a particular delivery of food and trace the supermarkets that sell these products. The
supermarket needs to locate the customer which purchased the problematic product and send him/her an
alert. As the customer contact information is conﬁdential and restricted to users with Fidelity card we
need to change the customer registration business process to ask the customer if they want to be notiﬁed
when a food alert occurs.

The alert delivery to customers is handled by different media, email, push notiﬁcations and also
phone calls. In the case of push notiﬁcations the speciﬁcation of the alert delivery is described in the
workﬂow of Fig. 9.

Figure 9: Smart notiﬁcation in food alert scenario

As can be seen, the customer’s mobile device subscribes to the supermarket information system
through the Web pilot and this system stores the callback information of the customer in a private
database. When the food safety agency notiﬁes the supermarket a food alert, the customer callbacks
are fetched and the notiﬁcation is delivered to their mobile phone.

A list of all features that have been integrated so far in the pilot is summarized below:
• Smart notiﬁcation system that allows direct messages to particular consumers that ﬁt certain pref-
erences. This feature is mostly useful when information of products is updated, new items arrive
to the supermarke, contingencies warnings and etcetera.

• Augmented reality features, by overlapping virtual objects with personalized information.
• Identity Management GCP GE [8]. Identify management controls the way users deﬁne policies

regarding preferences and privacy.

• IaaS Data Center Resource Management [12]. Provides cloud-based services for deploying appli-

cations.

• Tailored information system. The information provider retrieves the information regarding prod-
ucts; so even if the matching occurs outside of the domain of the provider, as an example in the
supermarket, this building block can work. As an example of this the front layer of the mobile
application is decoupled from the database which stores product data.

60

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

• Integration of a logo recognition tool. Logo recognition functionality is provided by a service
developed by another partner from Smart Agri-Food project and is focused on identifying logos
on products and providing consumers with descriptive information.

• Front-end. Implemented using fully HTML5/Javascript codes which allow users to make use of
the application by using the web browser available on their smartphones (no need of additional
plug-ins), and deﬁne which internal capabilities, such as cameras, will be available through the
whole shopping process.

• Integration of fTRACE pilot. The fTRACE pilot [18] is about tracking, tracing and awareness of

meat products.

These features together form a M2M communication [2] environment since they integrate devices
and heterogonous backend systems into one (Future Supermarket) service platform (Fig. 10). The web
pilot has been hosted on a FI-WARE cloud hosting enabler service and its services tested at Bonpreu
supermarket facilities located in Barcelona (Spain). Bonpreu is a medium size store composed by a
dry products section, a bakery and a big fresh food area with fresh fruit and vegetables, a butcher and
ﬁsh/seafood services. The main client proﬁle of this shop is middle-aged middle-high class consumers,
according to the neighborhood proﬁle.

Figure 10: Pilot implementation

The premises include a Consumers’ Space which is used for consumer-retailer interaction in order
to have feedback from its regular consumers. It has been chosen as the best site for pilot deployment
because of the following reasons:

• The medium size of the supermarkets represents the best conditions for a prototype test.
• The location of the supermarket and the Consumers’ space is in a young and dynamic neighbor-
hood; and so is the proﬁle of its clients. Young and dynamic consumers are more likely to be used

61

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

and interested in new technologies. Therefore, the panel of consumers consisting of clients of the
supermarket will be easy to create and be involved in the project.

• The deployment of all equipment needed for TIC pilot can be set up in the Consumers’ space,

which provides enough room for it.

• The Consumers’ space represents a perfect place for developing TIC pilot tests in a closed and
controlled environment, using pilot products from the supermarket and totally equipped for the
development of the workshops with consumers.

5 Consumer Evaluation

For the 2nd workshop, a variety of products were used for the experimentation, having each product its
unique QR code. The process was quite simple: consumers needed to connect to supermarket’s Wi-Fi
network and to get access to the online app using an URL, select the language, then register to create their
own consumer proﬁle by ﬁlling in a short questionnaire about their preferences (“I am interested in: food
origin, sustainability aspects, chemical content, allergens, animal welfare, etc.”), afterwards scanning the
QR code to get the product information that ﬁts with their consumer proﬁle and ﬁnally the application
showed the tailored information of that product.

The 3rd workshop was performed in two parts: (1) presentation of the TIC app (summary of its
functionalities), (2) test with the TIC app using the Smartphone of each participant. Instructions on how
to proceed with the test were explained. The Web app was valued by the consumers with an average
score of 7.2/10.

Starting from 2nd workshop and through 3rd one, consumers were able to test two iterations of the
TIC Web app. The ﬁrst test allowed detecting some problems and improvements that were corrected for
the second test. New functionalities were included to be tested in the 3rd workshop. Fig. 11 compares the
technical evaluation of the pilot for each functionality and a global evaluation of the web pilot regarding
conceptual value for consumers.

Figure 11: Comparison between 1st and 2nd tests

As a conclusion, we can say that consumers participating in the process for pilot evaluation were very
interested and motivated in the web pilot and are willing to use the Web app. Percentage of consumers
that would use the web app while shopping grew up from an initial 57 percent after the ﬁrst test to 70
percent after the second test, showing a substantial increase in appreciation.

62

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

With the workshops outputs in mind, a solid architecture has been deﬁned to support the next generic

features:

• Accurate, since it retrieves data from reliable sources located at cloud hosting.
• Granulated, since it ﬁlters information based on user preferences and proﬁled with the interaction

of Generic Enablers (GE)

• Advanced information, since it has been designed to include new information items and, most im-
portantly, serve as a communication link in order to inform customers in the case of contingencies
related to: health, logistics and so on.

6 Conclusion

According to the results of consumer’s evaluations of the web pilot developed [10] and the whole de-
velopment process itself including additions of Augmented Reality and Smart Notiﬁcation features, we
have concluded that the implementation of an information system with support for extended features in a
future shopping environment can be radically beneﬁted from state-of-the-art internet-based networks and
services such as those provided by the IoT and M2M paradigms. Cloud allocation of servers and use of
HTML5 in client side are helpful for the addition of new emerging functionalities. The users (customers)
involvement along the development stages helps ensure the successful integration of the expected func-
tionalities and provides with the foundations required in order to continuously satisfy the ever changing
needs from customers. Concerning business value, those retailers satisfying customer expectations and
needs about food information will have direct economic beneﬁts due to a gain of new customers, loyalty
cultivation of the current consumers and a slightly increase of the shopping volume (marginal purchase).
Feedbacks obtained from workshops with consumers have helped us to deﬁne new functionalities
that shall be tackled in the next phases of the web pilot such as: (i) Improving shopping experience
using gesture identiﬁcation by interacting with devices with multiple sensors that detect gestures; (ii)
Extension of shopping trolley and integration with personal devices. An extended shopping trolley with
screens or any other human interface can also be integrated with the TIC pilot. In the same way, as the
Gesture identiﬁcation scenario, the trolley can interact with the mobile device for fetching information
regarding shopping lists, proﬁles or preferences; (iii) Prosumerization of supermarket scenarios. The
web pilot shall integrate a composition environment which enables service personalization for end-users
supporting service publication, search and discovery and updating mechanisms and integration with cur-
rent supermarket infrastructure (customer identiﬁcation, accounting, billing, notiﬁcation processes, etc).
This is needed to develop self-contained components to be used in service creation and personalization
processes by end-users following the prosumer approach.

Acknowledgments

This work is part of the Smart Agri-Food project [18] which has been funded by the EU 7th Framework
Programme and whose activities are carried out within the scope of FI-PPP [1] and is also supported
by project CALISTA TEC2012-32457. The authors would like to thank all the project partners for their
valuable contributions to the project itself which are inherently reﬂected in the paper.

63

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

References

[1] Future internet public-private partnership (ﬁ-ppp) program. http://www.fi-ppp.eu, 2012.
[2] M. Castro, A. Jara, and A. Skarmeta. An analysis of m2m platforms: Challenges and opportunities for the
internet of things. In Proc. of the 6th International Conference on Innovative Mobile and Internet Services
in Ubiquitous Computing (IMIS’12), Palermo, Italy, pages 757–762. IEEE, July 2012.

[3] H. W. Chesbrough. Open Innovation: The New Imperative for Creating and Proﬁting from Technology.

Harvard Business School Press, 2003.

[4] E. Draft. Html 5.1 nightly. http://www.w3.org/html/wg/drafts/html/master/single-page.html,

last viewed September 2013, 2013.

[5] FI PPP SmartAgriFood Project. Deliverable D400.3 smart food awareness report on validation activities and

detailed speciﬁcation revision, 2013.

[6] FI-WARE. Fi-ware project. http://www.fi-ware.eu/, last viewed September 2013.
[7] FI WARE Project. Generic enablers. http://catalogue.fi-ware.eu/enablers, last viewed September

2013, 2013.
[8] I. M. GE.

September 2013, 2013.

http://catalogue.fi-ware.eu/enablers/identity-management-gcp,

last viewed

[9] E. global. EPC information services EPCIS speciﬁcation. Technical Report 1.0, EPC global, 2007.
[10] S. Gonzalez-Miranda, R. Alcarria, T. Robles, A. Morales, I. Gonzalez, and E. Montcada. Future supermarket:
overcoming food awareness challenges. In Proc. of the 6th International Conference on Innovative Mobile
and Internet Services in Ubiquitous Computing (IMIS’12), Palermo, Italy, pages 483–488. IEEE, July 2012.
[11] A. J. Jara, M. C. Parra, and A. F. Skarmeta. Marketing 4.0: A new value added to the marketing through the
internet of things. In Proc. of the 6th International Conference on Innovative Mobile and Internet Services
in Ubiquitous Computing (IMIS’12), Palermo, Italy, pages 852–857. IEEE, July 2012.

[12] I. D. C. R. Management. http://catalogue.fi-ware.eu/enablers/identity-management-gcp,

last viewed September 2013, 2013.

[13] C. Prahalad and V. Ramaswamy. Co-opting customer competence. Harvard Business Review, January 2000.
[14] G. G. R. Belk and S. Askegaard. The Missing Streetcar Named Desire. S. Ratneshwar, D. Mick and C.

Huffman, Eds. The Why of Consumption. Routledge, 2000.

[15] T. Robles, S. Gonz´alez-Miranda, R. Alcarria, and A. Morales. Web browser html5 enabled for ﬁ services. In
Proc. of the 6th International Conference on Ubiquitous Computing and Ambient Intelligence (UCAmI’12),
Vitoria-Gasteiz, Spain, volume 7656, pages 181–184. Springer-Verlag, December 2012.

[16] F. J. Villanueva, D. Villa, F. Moya, M. J. Santoﬁmia, and J. C. L´opez. Internet of things architecture for
an RFID-based product tracking business model. In Proc. of the 6th International Conference on Innovative
Mobile and Internet Services in Ubiquitous Computing (IMIS’12), Palermo, Italy, pages 811–816. IEEE, July
2012.

[17] J. Wilson. Shopping cart helps consumers make smarter food choices. http://www.smartplanet.com/

blog/thinking-tech/shopping-cart-helps-consumers-make-smarter-food-choices/11403,
last viewed September 2013, 2012.

[18] D. S. Wolfert. The smart agri-food project. http://www.raspberrypi.org/, 2013.

64

Future shopping environments

Gonzalez-Miranda, Alcarria, Robles, Morales, Gonzalez, Montcada

Author Biography

Sergio Gonzalez-Miranda is a PhD student in Telematics Engineering at the Telecom-
munications Engineering School of Technical University of Madrid (Spain). He holds
a Bachelor’s degree in Informatics from Aguascalientes Institute of Technology (Mex-
ico). His main research interests include: Future Internet, IoT, M2M, HTML5, Telco
and Web mashups, Fixed-Mobile convergence and NGN services. He participates in
several research projects.

Ramon Alcarria received his Master degree in Telecommunication Engineering from
the Technical University of Madrid in 2008. Currently, he continues his studies as a
PhD student and participates in several national and international research projects.
His research interests are Service Architectures, Sensor Networks, Service Compo-
sition and Prosumer Environments. He is a member of IEEE, IEEE Communication
Society and ACM.

Tomas Robles received a M.S and Ph.D. degrees in Telecommunication Engineering
from Technical University of Madrid in 1987 and 1991, respectively. Since 1991 he is
associate professor on Telematics Engineering at the E.T.S.I. Telecommunication of
the Technical University of Madrid. His research interest is focused on Advanced Ap-
plications and services for Broadband networks, both wired and wireless networks.

Augusto Morales received his B.Sc degree in 2007 , and his M.Sc degree from the
Technical University of Madrid in 2010. Since 2008 he has been working in several
areas related Mobile distributed services, SOA, NGN and Network Security while he
pursues his PhD. He holds several IT Certiﬁcations such as CEH, Security+, Linux+
and CCSE.

Ignacio Gonzalez holds a degree in Computer Engineering from Deusto University
in Bilbao. He is working in Atos since 2008 as technical coordinator, focused on
emerging technologies. He has 5 years of experience participating in ICT related
projects, most of them in Industry sector and logistics related. In 2011 he joined Atos
Research and Innovation department, contributing to European Commission research
projects.

Eloi Montcada holds a degree in Environment and Agriculture Engineering from
Lleida University and ﬁnished the coursework in Environment from University of
Newcastle-upon-Tyne. He is currently working as Consultancy area director in Lavola.
He is actively involved in projects related to environmental assesment and consultancy
(public and private organisations).

65

